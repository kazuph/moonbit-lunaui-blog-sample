{
  "version": 3,
  "sources": ["../_build/js/release/build/client/client.js", "../.sol/prod/client/scan.js"],
  "sourcesContent": ["const Option$None$0$ = { $tag: 0 };\nfunction Option$Some$0$(param0) {\n  this._0 = param0;\n}\nOption$Some$0$.prototype.$tag = 1;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static.prototype.$tag = 0;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic.prototype.$tag = 1;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Handler(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Handler.prototype.$tag = 2;\nfunction $64$mizchi$47$markdown$46$ListMarkerKind$Bullet(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$markdown$46$ListMarkerKind$Bullet.prototype.$tag = 0;\nfunction $64$mizchi$47$markdown$46$ListMarkerKind$Ordered(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$ListMarkerKind$Ordered.prototype.$tag = 1;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString.prototype.$tag = 0;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrNumber(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrNumber.prototype.$tag = 1;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrInt(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrInt.prototype.$tag = 2;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrBool(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrBool.prototype.$tag = 3;\nclass $PanicError extends Error {}\nfunction $panic() {\n  throw new $PanicError();\n}\nfunction $bound_check(arr, index) {\n  if (index < 0 || index >= arr.length) throw new Error(\"Index out of bounds\");\n}\nconst moonbitlang$core$builtin$$random_seed = () => {\n  if (globalThis.crypto?.getRandomValues) {\n    const array = new Uint32Array(1);\n    globalThis.crypto.getRandomValues(array);\n    return array[0] | 0; // Convert to signed 32\n  } else {\n    return Math.floor(Math.random() * 0x100000000) | 0; // Fallback to Math.random\n  }\n};\nfunction Result$Err$1$(param0) {\n  this._0 = param0;\n}\nResult$Err$1$.prototype.$tag = 0;\nfunction Result$Ok$1$(param0) {\n  this._0 = param0;\n}\nResult$Ok$1$.prototype.$tag = 1;\nconst Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$IndexOutOfBounds = { $tag: 1 };\nconst Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex = { $tag: 0 };\nconst moonbitlang$core$builtin$$int_to_string_js = (x, radix) => {\n  return x.toString(radix);\n};\nfunction $unsafe_make_string(a, b) {\n  return String.fromCodePoint(b).repeat(a);\n}\nfunction $make_array_len_and_init(a, b) {\n  const arr = new Array(a);\n  arr.fill(b);\n  return arr;\n}\nconst moonbitlang$core$builtin$$JSArray$push = (arr, val) => { arr.push(val); };\nconst Option$None$2$ = { $tag: 0 };\nfunction Option$Some$2$(param0) {\n  this._0 = param0;\n}\nOption$Some$2$.prototype.$tag = 1;\nconst moonbitlang$core$builtin$$JSArray$copy = (arr) => arr.slice(0);\nconst moonbitlang$core$builtin$$JSArray$set_length = (arr, len) => { arr.length = len; };\nconst moonbitlang$core$builtin$$JSArray$pop = (arr) => arr.pop();\nconst moonbitlang$core$builtin$$JSArray$splice = (arr, idx, cnt) => arr.splice(idx, cnt);\nconst mizchi$js$core$$Any$_get = (obj, key) => obj[key];\nconst mizchi$js$core$$Any$_call = (obj, key, args) => obj[key](...args);\nconst mizchi$js$core$$is_nullish = (v) => v == null;\nconst mizchi$js$core$$Any$_set = (obj, key, value) => { obj[key] = value };\nconst mizchi$js$core$$null = () => null;\nconst mizchi$js$core$$new_object = () => ({});\nconst mizchi$js$core$$from_entries = (entries) => Object.fromEntries(entries.map(e => [e._0, e._1]));\nconst mizchi$js$core$$Any$to_string = (self) => self == null ? String(self) : self.toString();\nconst Option$None$3$ = { $tag: 0 };\nfunction Option$Some$3$(param0) {\n  this._0 = param0;\n}\nOption$Some$3$.prototype.$tag = 1;\nconst mizchi$js$browser$dom$$document = () => document;\nconst mizchi$js$browser$dom$$Document$createElement = (self, tag) => self.createElement(tag);\nconst mizchi$js$browser$dom$$Document$createTextNode = (self, data) => self.createTextNode(data);\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$El(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$El.prototype.$tag = 0;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Txt(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Txt.prototype.$tag = 1;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw.prototype.$tag = 2;\nfunction $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Static(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Static.prototype.$tag = 3;\nconst mizchi$luna$luna$dom$element$$apply_event_handler = (elem, name, handler) => elem.addEventListener(name, handler);\nconst mizchi$luna$luna$dom$element$$HandlerMap$click = (m, handler) => { m.click = handler; return m; };\nconst mizchi$luna$luna$dom$element$$HandlerMap$input = (m, handler) => { m.input = handler; return m; };\nconst mizchi$luna$luna$dom$element$$HandlerMap$submit = (m, handler) => { m.submit = handler; return m; };\nconst mizchi$luna$luna$dom$element$$HandlerMap$to_attrs = (m) => Object.entries(m).map(([k, v]) => ({ _0: k, _1: { $tag: 2, _0: v } }));\nconst mizchi$luna$sol$action$$ffi_invoke_action_cb = (url, payload, callback, options) => {\n   (async () => {\n     try {\n       // Build headers - options.headers is MoonBit Array of tuples\n       const headers = { 'Content-Type': 'application/json' };\n       if (options.headers && options.headers.length > 0) {\n         for (const h of options.headers) {\n           // MoonBit tuple: h[0] or h._0 for first, h[1] or h._1 for second\n           const key = h[0] ?? h._0;\n           const val = h[1] ?? h._1;\n           if (key && val) headers[key] = val;\n         }\n       }\n\n       const fetchOptions = {\n         method: 'POST',\n         headers,\n         body: JSON.stringify(payload),\n         credentials: 'same-origin'\n       };\n\n       // Handle MoonBit Option type: { $: \"Some\", _0: value } or { $: \"None\" }\n       const signal = options.signal;\n       if (signal && signal.$ === 'Some' && signal._0 instanceof AbortSignal) {\n         fetchOptions.signal = signal._0;\n       }\n\n       const response = await fetch(url, fetchOptions);\n\n       if (!response.ok) {\n         const text = await response.text();\n         try {\n           const json = JSON.parse(text);\n           // Error = variant index 2\n           callback({ $tag: 2, _0: response.status, _1: json.error || text });\n         } catch {\n           callback({ $tag: 2, _0: response.status, _1: text });\n         }\n         return;\n       }\n\n       const data = await response.json();\n\n       // Check for redirect instruction\n       if (data.redirect) {\n         // Redirect = variant index 1\n         callback({ $tag: 1, _0: data.redirect });\n         return;\n       }\n\n       // Success = variant index 0\n       callback({ $tag: 0, _0: data });\n     } catch (error) {\n       // NetworkError = variant index 3\n       callback({ $tag: 3, _0: error.message || 'Network error' });\n     }\n   })();\n };\nconst Option$None$4$ = { $tag: 0 };\nfunction Option$Some$4$(param0) {\n  this._0 = param0;\n}\nOption$Some$4$.prototype.$tag = 1;\nfunction $64$mizchi$47$markdown$46$Inline$Text(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Inline$Text.prototype.$tag = 0;\nfunction $64$mizchi$47$markdown$46$Inline$SoftBreak(param0) {\n  this._0 = param0;\n}\n$64$mizchi$47$markdown$46$Inline$SoftBreak.prototype.$tag = 1;\nfunction $64$mizchi$47$markdown$46$Inline$HardBreak(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Inline$HardBreak.prototype.$tag = 2;\nfunction $64$mizchi$47$markdown$46$Inline$Emphasis(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$Emphasis.prototype.$tag = 3;\nfunction $64$mizchi$47$markdown$46$Inline$Strong(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$Strong.prototype.$tag = 4;\nfunction $64$mizchi$47$markdown$46$Inline$Strikethrough(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Inline$Strikethrough.prototype.$tag = 5;\nfunction $64$mizchi$47$markdown$46$Inline$Code(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$Code.prototype.$tag = 6;\nfunction $64$mizchi$47$markdown$46$Inline$Link(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Inline$Link.prototype.$tag = 7;\nfunction $64$mizchi$47$markdown$46$Inline$RefLink(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$RefLink.prototype.$tag = 8;\nfunction $64$mizchi$47$markdown$46$Inline$Autolink(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$Autolink.prototype.$tag = 9;\nfunction $64$mizchi$47$markdown$46$Inline$Image(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Inline$Image.prototype.$tag = 10;\nfunction $64$mizchi$47$markdown$46$Inline$RefImage(param0, param1, param2) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n}\n$64$mizchi$47$markdown$46$Inline$RefImage.prototype.$tag = 11;\nfunction $64$mizchi$47$markdown$46$Inline$HtmlInline(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Inline$HtmlInline.prototype.$tag = 12;\nfunction $64$mizchi$47$markdown$46$Inline$FootnoteReference(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Inline$FootnoteReference.prototype.$tag = 13;\nfunction $compare_int(a, b) {\n  return (a >= b) - (a <= b);\n}\nfunction $64$mizchi$47$markdown$46$Block$ThematicBreak(param0, param1, param2, param3, param4) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n}\n$64$mizchi$47$markdown$46$Block$ThematicBreak.prototype.$tag = 0;\nfunction $64$mizchi$47$markdown$46$Block$Heading(param0, param1, param2, param3, param4, param5, param6) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n  this._5 = param5;\n  this._6 = param6;\n}\n$64$mizchi$47$markdown$46$Block$Heading.prototype.$tag = 1;\nfunction $64$mizchi$47$markdown$46$Block$Paragraph(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Block$Paragraph.prototype.$tag = 2;\nfunction $64$mizchi$47$markdown$46$Block$FencedCode(param0, param1, param2, param3, param4, param5, param6, param7) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n  this._5 = param5;\n  this._6 = param6;\n  this._7 = param7;\n}\n$64$mizchi$47$markdown$46$Block$FencedCode.prototype.$tag = 3;\nfunction $64$mizchi$47$markdown$46$Block$IndentedCode(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Block$IndentedCode.prototype.$tag = 4;\nfunction $64$mizchi$47$markdown$46$Block$Blockquote(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Block$Blockquote.prototype.$tag = 5;\nfunction $64$mizchi$47$markdown$46$Block$BulletList(param0, param1, param2, param3, param4, param5) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n  this._5 = param5;\n}\n$64$mizchi$47$markdown$46$Block$BulletList.prototype.$tag = 6;\nfunction $64$mizchi$47$markdown$46$Block$OrderedList(param0, param1, param2, param3, param4, param5, param6) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n  this._5 = param5;\n  this._6 = param6;\n}\n$64$mizchi$47$markdown$46$Block$OrderedList.prototype.$tag = 7;\nfunction $64$mizchi$47$markdown$46$Block$HtmlBlock(param0, param1, param2, param3) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n}\n$64$mizchi$47$markdown$46$Block$HtmlBlock.prototype.$tag = 8;\nfunction $64$mizchi$47$markdown$46$Block$Table(param0, param1, param2, param3, param4, param5) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n  this._5 = param5;\n}\n$64$mizchi$47$markdown$46$Block$Table.prototype.$tag = 9;\nfunction $64$mizchi$47$markdown$46$Block$BlankLines(param0, param1) {\n  this._0 = param0;\n  this._1 = param1;\n}\n$64$mizchi$47$markdown$46$Block$BlankLines.prototype.$tag = 10;\nfunction $64$mizchi$47$markdown$46$Block$FootnoteDefinition(param0, param1, param2, param3, param4) {\n  this._0 = param0;\n  this._1 = param1;\n  this._2 = param2;\n  this._3 = param3;\n  this._4 = param4;\n}\n$64$mizchi$47$markdown$46$Block$FootnoteDefinition.prototype.$tag = 11;\nconst kazuph$blog_admin$client$$confirm_delete = (message) => window.confirm(message);\nconst kazuph$blog_admin$client$$get_form_data_from_form = (e, postId) => {\n   const form = e.target;\n   const formData = new FormData(form);\n   const data = {};\n   formData.forEach((value, key) => { data[key] = value; });\n   // Include post_id for update operations\n   if (postId) { data.id = postId; }\n   return data;\n };\nconst kazuph$blog_admin$client$$redirect_to = (url) => { window.location.href = url; };\nconst Option$None$5$ = { $tag: 0 };\nfunction Option$Some$5$(param0) {\n  this._0 = param0;\n}\nOption$Some$5$.prototype.$tag = 1;\nconst Option$None$6$ = { $tag: 0 };\nfunction Option$Some$6$(param0) {\n  this._0 = param0;\n}\nOption$Some$6$.prototype.$tag = 1;\nconst Option$None$7$ = { $tag: 0 };\nfunction Option$Some$7$(param0) {\n  this._0 = param0;\n}\nOption$Some$7$.prototype.$tag = 1;\nconst kazuph$blog_admin$client$$query_selector_all = (s) => document.querySelectorAll(s);\nconst kazuph$blog_admin$client$$get_element_by_id = (id) => document.getElementById(id);\nconst kazuph$blog_admin$client$$get_attribute = (el, name) => el.getAttribute(name) ?? \"\";\nconst kazuph$blog_admin$client$$get_tag_name = (el) => el.tagName.toLowerCase();\nconst kazuph$blog_admin$client$$get_text_content = (el) => el.textContent ?? \"\";\nconst kazuph$blog_admin$client$$is_null_element = (el) => el == null || el === undefined;\nconst kazuph$blog_admin$client$$get_length = (arr) => arr.length;\nconst kazuph$blog_admin$client$$get_item = (arr, idx) => arr[idx];\nconst kazuph$blog_admin$client$$is_document_loading = () => document.readyState === \"loading\";\nconst kazuph$blog_admin$client$$add_dom_ready_listener = (cb) => document.addEventListener(\"DOMContentLoaded\", cb, { once: true });\nconst kazuph$blog_admin$client$$request_idle_callback = (cb) => requestIdleCallback(cb);\nconst kazuph$blog_admin$client$$create_visibility_observer = (el, cb) => {\n   new IntersectionObserver((entries, obs) => {\n     if (entries.some(e => e.isIntersecting)) {\n       obs.disconnect();\n       cb();\n     }\n   }, { rootMargin: \"50px\" }).observe(el);\n };\nconst kazuph$blog_admin$client$$create_media_listener = (query, cb) => {\n   const mq = matchMedia(query);\n   const handler = () => {\n     if (mq.matches) {\n       mq.removeEventListener(\"change\", handler);\n       cb();\n     }\n   };\n   mq.matches ? cb() : mq.addEventListener(\"change\", handler);\n };\nconst kazuph$blog_admin$client$$observe_dom_additions = (setupFn) => {\n   new MutationObserver((mutations) => {\n     mutations.forEach(m => m.addedNodes.forEach(n => {\n       if (n.nodeType === 1 && n.hasAttribute(\"luna:url\")) setupFn(n);\n     }));\n   }).observe(document.body ?? document.documentElement, {\n     childList: true,\n     subtree: true\n   });\n };\nconst kazuph$blog_admin$client$$dynamic_import_and_hydrate = async (url, exportName, el, state, id) => {\n   try {\n     const mod = await import(url);\n     const fn = exportName ? mod[exportName] : (mod.hydrate ?? mod.default);\n     if (fn) fn(el, state, id);\n   } catch (e) {\n     console.warn(`[luna] Failed to load ${url}:`, e);\n   }\n };\nconst kazuph$blog_admin$client$$set_global = (name, value) => { window[name] = value; };\nconst kazuph$blog_admin$client$$create_scan_wrapper = (fn) => fn;\nconst kazuph$blog_admin$client$$create_hydrate_wrapper = (fn) => fn;\nconst kazuph$blog_admin$client$$create_unload_wrapper = (fn) => fn;\nconst kazuph$blog_admin$client$$create_clear_wrapper = (fn) => fn;\nconst kazuph$blog_admin$client$$hashmap_to_js_object = (getFn) => new Proxy({}, { get: (_, key) => getFn(key) });\nconst kazuph$blog_admin$client$$parse_json_to_js = (s) => { try { return JSON.parse(s); } catch { return null; } };\nconst $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger = { method_0: moonbitlang$core$builtin$$Logger$write_string$0$, method_1: moonbitlang$core$builtin$$Logger$write_substring$1$, method_2: moonbitlang$core$builtin$$Logger$write_view$0$, method_3: moonbitlang$core$builtin$$Logger$write_char$0$ };\nconst moonbitlang$core$builtin$$boyer_moore_horspool_find$46$constr$47$315 = 0;\nconst moonbitlang$core$builtin$$brute_force_find$46$constr$47$329 = 0;\nconst mizchi$luna$luna$signal$$effect_id_counter = { val: 0 };\nconst mizchi$luna$luna$signal$$reactive_context = { current_subscriber: undefined, current_owner: undefined, current_cleanups: Option$None$0$, batch_depth: 0, pending_effects: [], pending_ids: [] };\nconst mizchi$luna$luna$dom$element$$button$46$constr$47$1361 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$button$46$tuple$47$1362 = { _0: \"disabled\", _1: mizchi$luna$luna$dom$element$$button$46$constr$47$1361 };\nconst mizchi$luna$luna$dom$element$$input$46$constr$47$1384 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$input$46$tuple$47$1385 = { _0: \"disabled\", _1: mizchi$luna$luna$dom$element$$input$46$constr$47$1384 };\nconst mizchi$luna$luna$dom$element$$input$46$constr$47$1386 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$input$46$tuple$47$1387 = { _0: \"readonly\", _1: mizchi$luna$luna$dom$element$$input$46$constr$47$1386 };\nconst mizchi$luna$luna$dom$element$$input$46$constr$47$1388 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$input$46$tuple$47$1389 = { _0: \"required\", _1: mizchi$luna$luna$dom$element$$input$46$constr$47$1388 };\nconst mizchi$luna$luna$dom$element$$input$46$constr$47$1390 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$input$46$tuple$47$1391 = { _0: \"checked\", _1: mizchi$luna$luna$dom$element$$input$46$constr$47$1390 };\nconst mizchi$luna$luna$dom$element$$textarea$46$constr$47$1439 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"true\");\nconst mizchi$luna$luna$dom$element$$textarea$46$tuple$47$1440 = { _0: \"disabled\", _1: mizchi$luna$luna$dom$element$$textarea$46$constr$47$1439 };\nconst mizchi$markdown$$render_block_html$46$42$bind$124$2191 = \" \";\nconst mizchi$markdown$$render_block_html$46$42$bind$124$2204 = \"\\n\";\nconst mizchi$markdown$$try_parse_autolink$46$42$bind$124$2282 = \"@\";\nconst mizchi$markdown$$try_parse_autolink$46$42$bind$124$2283 = \"http\";\nconst mizchi$markdown$$parse_segment_simple$46$42$bind$124$2631 = \" \";\nconst mizchi$markdown$$parse_paragraph$46$42$bind$124$2721 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_heading_content$46$42$bind$124$2734 = \" \\t\";\nconst mizchi$markdown$$parse_heading_content$46$42$bind$124$2733 = \" \\t\";\nconst mizchi$markdown$$try_parse_fenced_code$46$42$bind$124$2753 = \" \\t\";\nconst mizchi$markdown$$html_block_tags = [\"address\", \"article\", \"aside\", \"base\", \"basefont\", \"blockquote\", \"body\", \"caption\", \"center\", \"col\", \"colgroup\", \"dd\", \"details\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"frame\", \"frameset\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hr\", \"html\", \"iframe\", \"legend\", \"li\", \"link\", \"main\", \"menu\", \"menuitem\", \"nav\", \"noframes\", \"ol\", \"optgroup\", \"option\", \"p\", \"param\", \"search\", \"section\", \"summary\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"title\", \"tr\", \"track\", \"ul\"];\nconst mizchi$markdown$$try_parse_indented_code$46$42$bind$124$2769 = \"\\n\";\nconst mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2812 = \"[ ] \";\nconst mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2813 = \"[x] \";\nconst mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2814 = \"[X] \";\nconst mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2888 = \" \\t\\n\\r\";\nconst mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2889 = \" \\t\\n\\r\";\nconst mizchi$markdown$$split_table_cells$46$42$bind$124$2904 = \" \\t\\n\\r\";\nconst mizchi$markdown$$split_table_cells$46$42$bind$124$2905 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_table_alignments$46$42$bind$124$2921 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_table_alignments$46$42$bind$124$2920 = \":\";\nconst mizchi$markdown$$parse_table_alignments$46$42$bind$124$2919 = \":\";\nconst mizchi$markdown$$parse_table_row$46$42$bind$124$2924 = \" \\t\\n\\r\";\nconst mizchi$markdown$$try_parse_table$46$42$bind$124$2926 = \"|\";\nconst mizchi$markdown$$try_parse_table$46$42$bind$124$2927 = \"|\";\nconst mizchi$markdown$$try_parse_table$46$42$bind$124$2928 = \"-\";\nconst mizchi$markdown$$try_parse_table$46$42$bind$124$2931 = \" \\t\\n\\r\";\nconst mizchi$markdown$$try_parse_table$46$42$bind$124$2930 = \"|\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2953 = \"\\n\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2947 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2934 = \"#\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2941 = \":\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2940 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2939 = \" \\t\\n\\r\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2935 = \"\\\"\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2936 = \"\\\"\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2937 = \"'\";\nconst mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2938 = \"'\";\nconst mizchi$markdown$$empty$46$record$47$1518 = { content: \"\" };\nconst mizchi$markdown$$try_parse_code_span$46$constr$47$1776 = 32;\nconst mizchi$markdown$$try_parse_code_span$46$constr$47$1777 = 32;\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2164 = new $64$mizchi$47$markdown$46$ListMarkerKind$Bullet(0);\nconst mizchi$markdown$$detect_list_marker$46$tuple$47$2165 = { _0: mizchi$markdown$$detect_list_marker$46$constr$47$2164, _1: 2 };\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2166 = mizchi$markdown$$detect_list_marker$46$tuple$47$2165;\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2167 = new $64$mizchi$47$markdown$46$ListMarkerKind$Bullet(1);\nconst mizchi$markdown$$detect_list_marker$46$tuple$47$2168 = { _0: mizchi$markdown$$detect_list_marker$46$constr$47$2167, _1: 2 };\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2169 = mizchi$markdown$$detect_list_marker$46$tuple$47$2168;\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2170 = new $64$mizchi$47$markdown$46$ListMarkerKind$Bullet(2);\nconst mizchi$markdown$$detect_list_marker$46$tuple$47$2171 = { _0: mizchi$markdown$$detect_list_marker$46$constr$47$2170, _1: 2 };\nconst mizchi$markdown$$detect_list_marker$46$constr$47$2172 = mizchi$markdown$$detect_list_marker$46$tuple$47$2171;\nconst mizchi$markdown$$parse_paragraph$46$constr$47$2227 = 96;\nconst mizchi$markdown$$parse_paragraph$46$constr$47$2228 = 96;\nconst mizchi$markdown$$parse_paragraph$46$constr$47$2229 = 126;\nconst mizchi$markdown$$parse_paragraph$46$constr$47$2230 = 126;\nconst mizchi$markdown$$parse_task_checkbox$46$constr$47$2382 = false;\nconst mizchi$markdown$$parse_task_checkbox$46$constr$47$2383 = true;\nconst mizchi$markdown$$parse_task_checkbox$46$constr$47$2384 = false;\nconst mizchi$markdown$$parse_task_checkbox$46$tuple$47$2385 = { _0: mizchi$markdown$$parse_task_checkbox$46$constr$47$2384, _1: \"\" };\nconst mizchi$markdown$$parse_task_checkbox$46$constr$47$2386 = true;\nconst mizchi$markdown$$parse_task_checkbox$46$tuple$47$2387 = { _0: mizchi$markdown$$parse_task_checkbox$46$constr$47$2386, _1: \"\" };\nconst mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2401 = 0;\nconst mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2402 = 1;\nconst mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2403 = 2;\nconst mizchi$markdown$$parse_bullet_list$46$constr$47$2450 = 0;\nconst mizchi$markdown$$parse_bullet_list$46$constr$47$2451 = 1;\nconst mizchi$markdown$$parse_bullet_list$46$constr$47$2452 = 2;\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2716 = \"markdown-editor-island\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2717 = \"form-result\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2718 = \"success-actions\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2719 = \"success-message\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2720 = \"action-buttons\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2721 = \"btn btn-secondary\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2722 = \"btn\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2723 = \"editor-form\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2724 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"POST\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2725 = { _0: \"method\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2724 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2726 = \"form-group\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2727 = \"title\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2728 = \"text\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2729 = \"title\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2730 = \"title\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2731 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"true\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2732 = { _0: \"required\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2731 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2733 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"\u8A18\u4E8B\u306E\u30BF\u30A4\u30C8\u30EB\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2734 = { _0: \"placeholder\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2733 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2735 = \"form-group\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2736 = \"slug\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2737 = \"text\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2738 = \"slug\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2739 = \"slug\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2740 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"true\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2741 = { _0: \"required\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2740 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2742 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"[a-z0-9\\\\-]+\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2743 = { _0: \"pattern\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2742 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2744 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"my-article-slug\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2745 = { _0: \"placeholder\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2744 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2746 = \"form-group\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2747 = \"status\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2748 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"status\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2749 = { _0: \"id\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2748 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2750 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"status\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2751 = { _0: \"name\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2750 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2752 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"draft\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2753 = { _0: \"value\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2752 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2754 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(\"published\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2755 = { _0: \"value\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2754 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2756 = \"editor-container\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2757 = \"preview\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2758 = \"editor-pane\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2759 = \"content\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2760 = \"content\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2761 = \"content\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2762 = \"editor-textarea\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2763 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"\u30DE\u30FC\u30AF\u30C0\u30A6\u30F3\u3067\u8A18\u4E8B\u3092\u66F8\u304F...\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2764 = { _0: \"placeholder\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2763 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2765 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"true\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2766 = { _0: \"required\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2765 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2767 = \"form-actions\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2768 = \"btn\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2769 = new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(\"submit\");\nconst kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2770 = { _0: \"type\", _1: kazuph$blog_admin$client$$markdown_editor$46$constr$47$2769 };\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2771 = \"delete-section\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2772 = \"margin-top: 20px;\";\nconst kazuph$blog_admin$client$$markdown_editor$46$constr$47$2773 = \"btn btn-danger\";\nconst kazuph$blog_admin$client$$setup_trigger$46$constr$47$2844 = 5;\nconst moonbitlang$core$builtin$$seed = moonbitlang$core$builtin$$random_seed();\nconst _bind = [];\nconst kazuph$blog_admin$client$$loaded_components = moonbitlang$core$builtin$$Map$from_array$2$({ buf: _bind, start: 0, end: 0 });\nconst _bind$2 = [];\nconst kazuph$blog_admin$client$$luna_state = moonbitlang$core$builtin$$Map$from_array$3$({ buf: _bind$2, start: 0, end: 0 });\nfunction moonbitlang$core$abort$$abort$4$(msg) {\n  return $panic();\n}\nfunction moonbitlang$core$abort$$abort$5$(msg) {\n  return $panic();\n}\nfunction moonbitlang$core$abort$$abort$6$(msg) {\n  $panic();\n}\nfunction moonbitlang$core$abort$$abort$7$(msg) {\n  return $panic();\n}\nfunction moonbitlang$core$abort$$abort$8$(msg) {\n  return $panic();\n}\nfunction moonbitlang$core$abort$$abort$9$(msg) {\n  return $panic();\n}\nfunction moonbitlang$core$builtin$$Hasher$consume4(self, input) {\n  const _p = (self.acc >>> 0) + ((Math.imul(input, -1028477379) | 0) >>> 0) | 0;\n  const _p$2 = 17;\n  self.acc = Math.imul(_p << _p$2 | (_p >>> (32 - _p$2 | 0) | 0), 668265263) | 0;\n}\nfunction moonbitlang$core$builtin$$Hasher$combine_uint(self, value) {\n  self.acc = (self.acc >>> 0) + (4 >>> 0) | 0;\n  moonbitlang$core$builtin$$Hasher$consume4(self, value);\n}\nfunction moonbitlang$core$builtin$$abort$4$(string, loc) {\n  return moonbitlang$core$abort$$abort$4$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$abort$5$(string, loc) {\n  return moonbitlang$core$abort$$abort$5$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$abort$6$(string, loc) {\n  moonbitlang$core$abort$$abort$6$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$abort$7$(string, loc) {\n  return moonbitlang$core$abort$$abort$7$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$abort$8$(string, loc) {\n  return moonbitlang$core$abort$$abort$8$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$abort$9$(string, loc) {\n  return moonbitlang$core$abort$$abort$9$(`${string}\\n  at ${moonbitlang$core$builtin$$Show$to_string$10$(loc)}\\n`);\n}\nfunction moonbitlang$core$builtin$$StringBuilder$new$46$inner(size_hint) {\n  return { val: \"\" };\n}\nfunction moonbitlang$core$builtin$$Logger$write_char$0$(self, ch) {\n  const _bind$3 = self;\n  _bind$3.val = `${_bind$3.val}${String.fromCodePoint(ch)}`;\n}\nfunction moonbitlang$core$builtin$$code_point_of_surrogate_pair(leading, trailing) {\n  return (((Math.imul(leading - 55296 | 0, 1024) | 0) + trailing | 0) - 56320 | 0) + 65536 | 0;\n}\nfunction moonbitlang$core$string$$String$unsafe_char_at(self, index) {\n  const c1 = self.charCodeAt(index);\n  if (55296 <= c1 && c1 <= 56319) {\n    const _tmp = index + 1 | 0;\n    const c2 = self.charCodeAt(_tmp);\n    return moonbitlang$core$builtin$$code_point_of_surrogate_pair(c1, c2);\n  } else {\n    return c1;\n  }\n}\nfunction moonbitlang$core$array$$Array$at$11$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$4$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$12$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$13$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$14$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$15$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$16$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$5$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$17$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$18$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$9$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$array$$Array$at$19$(self, index) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    return self[index];\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$builtin$$SourceLocRepr$parse(repr) {\n  const _bind$3 = { str: repr, start: 0, end: repr.length };\n  const _data = _bind$3.str;\n  const _start = _bind$3.start;\n  const _end = _start + (_bind$3.end - _bind$3.start | 0) | 0;\n  let _cursor = _start;\n  let accept_state = -1;\n  let match_end = -1;\n  let match_tag_saver_0 = -1;\n  let match_tag_saver_1 = -1;\n  let match_tag_saver_2 = -1;\n  let match_tag_saver_3 = -1;\n  let match_tag_saver_4 = -1;\n  let tag_0 = -1;\n  let tag_1 = -1;\n  let tag_1_1 = -1;\n  let tag_1_2 = -1;\n  let tag_3 = -1;\n  let tag_2 = -1;\n  let tag_2_1 = -1;\n  let tag_4 = -1;\n  _L: {\n    let join_dispatch_19;\n    _L$2: {\n      if (_cursor < _end) {\n        const _p = _cursor;\n        const next_char = _data.charCodeAt(_p);\n        _cursor = _cursor + 1 | 0;\n        if (next_char < 65) {\n          if (next_char < 64) {\n            break _L;\n          } else {\n            while (true) {\n              tag_0 = _cursor;\n              if (_cursor < _end) {\n                _L$3: {\n                  const _p$2 = _cursor;\n                  const next_char$2 = _data.charCodeAt(_p$2);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char$2 < 55296) {\n                    if (next_char$2 < 58) {\n                      break _L$3;\n                    } else {\n                      if (next_char$2 > 58) {\n                        break _L$3;\n                      } else {\n                        if (_cursor < _end) {\n                          _L$4: {\n                            const _p$3 = _cursor;\n                            const next_char$3 = _data.charCodeAt(_p$3);\n                            _cursor = _cursor + 1 | 0;\n                            if (next_char$3 < 56319) {\n                              if (next_char$3 < 55296) {\n                                break _L$4;\n                              } else {\n                                join_dispatch_19 = 7;\n                                break _L$2;\n                              }\n                            } else {\n                              if (next_char$3 > 56319) {\n                                if (next_char$3 < 65536) {\n                                  break _L$4;\n                                } else {\n                                  break _L;\n                                }\n                              } else {\n                                join_dispatch_19 = 8;\n                                break _L$2;\n                              }\n                            }\n                          }\n                          join_dispatch_19 = 0;\n                          break _L$2;\n                        } else {\n                          break _L;\n                        }\n                      }\n                    }\n                  } else {\n                    if (next_char$2 > 56318) {\n                      if (next_char$2 < 57344) {\n                        if (_cursor < _end) {\n                          const _p$3 = _cursor;\n                          const next_char$3 = _data.charCodeAt(_p$3);\n                          _cursor = _cursor + 1 | 0;\n                          if (next_char$3 < 56320) {\n                            break _L;\n                          } else {\n                            if (next_char$3 > 57343) {\n                              break _L;\n                            } else {\n                              continue;\n                            }\n                          }\n                        } else {\n                          break _L;\n                        }\n                      } else {\n                        if (next_char$2 > 65535) {\n                          break _L;\n                        } else {\n                          break _L$3;\n                        }\n                      }\n                    } else {\n                      if (_cursor < _end) {\n                        const _p$3 = _cursor;\n                        const next_char$3 = _data.charCodeAt(_p$3);\n                        _cursor = _cursor + 1 | 0;\n                        if (next_char$3 < 56320) {\n                          break _L;\n                        } else {\n                          if (next_char$3 > 65535) {\n                            break _L;\n                          } else {\n                            continue;\n                          }\n                        }\n                      } else {\n                        break _L;\n                      }\n                    }\n                  }\n                }\n                continue;\n              } else {\n                break _L;\n              }\n            }\n          }\n        } else {\n          break _L;\n        }\n      } else {\n        break _L;\n      }\n    }\n    let _tmp = join_dispatch_19;\n    _L$3: while (true) {\n      const dispatch_19 = _tmp;\n      _L$4: {\n        _L$5: {\n          switch (dispatch_19) {\n            case 3: {\n              tag_1_2 = tag_1_1;\n              tag_1_1 = tag_1;\n              tag_1 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      if (next_char < 48) {\n                        break _L$6;\n                      } else {\n                        tag_1 = _cursor;\n                        tag_2_1 = tag_2;\n                        tag_2 = _cursor;\n                        tag_3 = _cursor;\n                        if (_cursor < _end) {\n                          _L$7: {\n                            const _p$2 = _cursor;\n                            const next_char$2 = _data.charCodeAt(_p$2);\n                            _cursor = _cursor + 1 | 0;\n                            if (next_char$2 < 59) {\n                              if (next_char$2 < 46) {\n                                if (next_char$2 < 45) {\n                                  break _L$7;\n                                } else {\n                                  break _L$4;\n                                }\n                              } else {\n                                if (next_char$2 > 47) {\n                                  if (next_char$2 < 58) {\n                                    _tmp = 6;\n                                    continue _L$3;\n                                  } else {\n                                    _tmp = 3;\n                                    continue _L$3;\n                                  }\n                                } else {\n                                  break _L$7;\n                                }\n                              }\n                            } else {\n                              if (next_char$2 > 55295) {\n                                if (next_char$2 < 57344) {\n                                  if (next_char$2 < 56319) {\n                                    _tmp = 7;\n                                    continue _L$3;\n                                  } else {\n                                    _tmp = 8;\n                                    continue _L$3;\n                                  }\n                                } else {\n                                  if (next_char$2 > 65535) {\n                                    break _L;\n                                  } else {\n                                    break _L$7;\n                                  }\n                                }\n                              } else {\n                                break _L$7;\n                              }\n                            }\n                          }\n                          _tmp = 0;\n                          continue _L$3;\n                        } else {\n                          break _L;\n                        }\n                      }\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        _tmp = 1;\n                        continue _L$3;\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            case 2: {\n              tag_1 = _cursor;\n              tag_2 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      if (next_char < 48) {\n                        break _L$6;\n                      } else {\n                        _tmp = 2;\n                        continue _L$3;\n                      }\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        _tmp = 3;\n                        continue _L$3;\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            case 0: {\n              tag_1 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      break _L$6;\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        _tmp = 1;\n                        continue _L$3;\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            case 8: {\n              if (_cursor < _end) {\n                const _p = _cursor;\n                const next_char = _data.charCodeAt(_p);\n                _cursor = _cursor + 1 | 0;\n                if (next_char < 56320) {\n                  break _L;\n                } else {\n                  if (next_char > 57343) {\n                    break _L;\n                  } else {\n                    _tmp = 0;\n                    continue _L$3;\n                  }\n                }\n              } else {\n                break _L;\n              }\n            }\n            case 4: {\n              tag_1 = _cursor;\n              tag_4 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      if (next_char < 48) {\n                        break _L$6;\n                      } else {\n                        _tmp = 4;\n                        continue _L$3;\n                      }\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        tag_1_2 = tag_1_1;\n                        tag_1_1 = tag_1;\n                        tag_1 = _cursor;\n                        if (_cursor < _end) {\n                          _L$7: {\n                            const _p$2 = _cursor;\n                            const next_char$2 = _data.charCodeAt(_p$2);\n                            _cursor = _cursor + 1 | 0;\n                            if (next_char$2 < 55296) {\n                              if (next_char$2 < 58) {\n                                if (next_char$2 < 48) {\n                                  break _L$7;\n                                } else {\n                                  tag_1 = _cursor;\n                                  tag_2_1 = tag_2;\n                                  tag_2 = _cursor;\n                                  if (_cursor < _end) {\n                                    _L$8: {\n                                      const _p$3 = _cursor;\n                                      const next_char$3 = _data.charCodeAt(_p$3);\n                                      _cursor = _cursor + 1 | 0;\n                                      if (next_char$3 < 55296) {\n                                        if (next_char$3 < 58) {\n                                          if (next_char$3 < 48) {\n                                            break _L$8;\n                                          } else {\n                                            _tmp = 5;\n                                            continue _L$3;\n                                          }\n                                        } else {\n                                          if (next_char$3 > 58) {\n                                            break _L$8;\n                                          } else {\n                                            _tmp = 3;\n                                            continue _L$3;\n                                          }\n                                        }\n                                      } else {\n                                        if (next_char$3 > 56318) {\n                                          if (next_char$3 < 57344) {\n                                            _tmp = 8;\n                                            continue _L$3;\n                                          } else {\n                                            if (next_char$3 > 65535) {\n                                              break _L;\n                                            } else {\n                                              break _L$8;\n                                            }\n                                          }\n                                        } else {\n                                          _tmp = 7;\n                                          continue _L$3;\n                                        }\n                                      }\n                                    }\n                                    _tmp = 0;\n                                    continue _L$3;\n                                  } else {\n                                    break _L$5;\n                                  }\n                                }\n                              } else {\n                                if (next_char$2 > 58) {\n                                  break _L$7;\n                                } else {\n                                  _tmp = 1;\n                                  continue _L$3;\n                                }\n                              }\n                            } else {\n                              if (next_char$2 > 56318) {\n                                if (next_char$2 < 57344) {\n                                  _tmp = 8;\n                                  continue _L$3;\n                                } else {\n                                  if (next_char$2 > 65535) {\n                                    break _L;\n                                  } else {\n                                    break _L$7;\n                                  }\n                                }\n                              } else {\n                                _tmp = 7;\n                                continue _L$3;\n                              }\n                            }\n                          }\n                          _tmp = 0;\n                          continue _L$3;\n                        } else {\n                          break _L;\n                        }\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            case 5: {\n              tag_1 = _cursor;\n              tag_2 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      if (next_char < 48) {\n                        break _L$6;\n                      } else {\n                        _tmp = 5;\n                        continue _L$3;\n                      }\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        _tmp = 3;\n                        continue _L$3;\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L$5;\n              }\n            }\n            case 6: {\n              tag_1 = _cursor;\n              tag_2 = _cursor;\n              tag_3 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 59) {\n                    if (next_char < 46) {\n                      if (next_char < 45) {\n                        break _L$6;\n                      } else {\n                        break _L$4;\n                      }\n                    } else {\n                      if (next_char > 47) {\n                        if (next_char < 58) {\n                          _tmp = 6;\n                          continue _L$3;\n                        } else {\n                          _tmp = 3;\n                          continue _L$3;\n                        }\n                      } else {\n                        break _L$6;\n                      }\n                    }\n                  } else {\n                    if (next_char > 55295) {\n                      if (next_char < 57344) {\n                        if (next_char < 56319) {\n                          _tmp = 7;\n                          continue _L$3;\n                        } else {\n                          _tmp = 8;\n                          continue _L$3;\n                        }\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      break _L$6;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            case 7: {\n              if (_cursor < _end) {\n                const _p = _cursor;\n                const next_char = _data.charCodeAt(_p);\n                _cursor = _cursor + 1 | 0;\n                if (next_char < 56320) {\n                  break _L;\n                } else {\n                  if (next_char > 65535) {\n                    break _L;\n                  } else {\n                    _tmp = 0;\n                    continue _L$3;\n                  }\n                }\n              } else {\n                break _L;\n              }\n            }\n            case 1: {\n              tag_1_1 = tag_1;\n              tag_1 = _cursor;\n              if (_cursor < _end) {\n                _L$6: {\n                  const _p = _cursor;\n                  const next_char = _data.charCodeAt(_p);\n                  _cursor = _cursor + 1 | 0;\n                  if (next_char < 55296) {\n                    if (next_char < 58) {\n                      if (next_char < 48) {\n                        break _L$6;\n                      } else {\n                        _tmp = 2;\n                        continue _L$3;\n                      }\n                    } else {\n                      if (next_char > 58) {\n                        break _L$6;\n                      } else {\n                        _tmp = 1;\n                        continue _L$3;\n                      }\n                    }\n                  } else {\n                    if (next_char > 56318) {\n                      if (next_char < 57344) {\n                        _tmp = 8;\n                        continue _L$3;\n                      } else {\n                        if (next_char > 65535) {\n                          break _L;\n                        } else {\n                          break _L$6;\n                        }\n                      }\n                    } else {\n                      _tmp = 7;\n                      continue _L$3;\n                    }\n                  }\n                }\n                _tmp = 0;\n                continue _L$3;\n              } else {\n                break _L;\n              }\n            }\n            default: {\n              break _L;\n            }\n          }\n        }\n        tag_1 = tag_1_2;\n        tag_2 = tag_2_1;\n        match_tag_saver_0 = tag_0;\n        match_tag_saver_1 = tag_1;\n        match_tag_saver_2 = tag_2;\n        match_tag_saver_3 = tag_3;\n        match_tag_saver_4 = tag_4;\n        accept_state = 0;\n        match_end = _cursor;\n        break _L;\n      }\n      tag_1_1 = tag_1_2;\n      tag_1 = _cursor;\n      tag_2 = tag_2_1;\n      if (_cursor < _end) {\n        _L$5: {\n          const _p = _cursor;\n          const next_char = _data.charCodeAt(_p);\n          _cursor = _cursor + 1 | 0;\n          if (next_char < 55296) {\n            if (next_char < 58) {\n              if (next_char < 48) {\n                break _L$5;\n              } else {\n                _tmp = 4;\n                continue;\n              }\n            } else {\n              if (next_char > 58) {\n                break _L$5;\n              } else {\n                _tmp = 1;\n                continue;\n              }\n            }\n          } else {\n            if (next_char > 56318) {\n              if (next_char < 57344) {\n                _tmp = 8;\n                continue;\n              } else {\n                if (next_char > 65535) {\n                  break _L;\n                } else {\n                  break _L$5;\n                }\n              }\n            } else {\n              _tmp = 7;\n              continue;\n            }\n          }\n        }\n        _tmp = 0;\n        continue;\n      } else {\n        break _L;\n      }\n    }\n  }\n  if (accept_state === 0) {\n    let start_line;\n    let _try_err;\n    _L$2: {\n      _L$3: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_1 + 1 | 0, match_tag_saver_2);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          start_line = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err = _tmp;\n          break _L$3;\n        }\n        break _L$2;\n      }\n      start_line = $panic();\n    }\n    let start_column;\n    let _try_err$2;\n    _L$3: {\n      _L$4: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_2 + 1 | 0, match_tag_saver_3);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          start_column = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err$2 = _tmp;\n          break _L$4;\n        }\n        break _L$3;\n      }\n      start_column = $panic();\n    }\n    let pkg;\n    let _try_err$3;\n    _L$4: {\n      _L$5: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, _start + 1 | 0, match_tag_saver_0);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          pkg = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err$3 = _tmp;\n          break _L$5;\n        }\n        break _L$4;\n      }\n      pkg = $panic();\n    }\n    let filename;\n    let _try_err$4;\n    _L$5: {\n      _L$6: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_0 + 1 | 0, match_tag_saver_1);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          filename = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err$4 = _tmp;\n          break _L$6;\n        }\n        break _L$5;\n      }\n      filename = $panic();\n    }\n    let end_line;\n    let _try_err$5;\n    _L$6: {\n      _L$7: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_3 + 1 | 0, match_tag_saver_4);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          end_line = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err$5 = _tmp;\n          break _L$7;\n        }\n        break _L$6;\n      }\n      end_line = $panic();\n    }\n    let end_column;\n    let _try_err$6;\n    _L$7: {\n      _L$8: {\n        const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_4 + 1 | 0, match_end);\n        if (_bind$4.$tag === 1) {\n          const _ok = _bind$4;\n          end_column = _ok._0;\n        } else {\n          const _err = _bind$4;\n          const _tmp = _err._0;\n          _try_err$6 = _tmp;\n          break _L$8;\n        }\n        break _L$7;\n      }\n      end_column = $panic();\n    }\n    return { pkg: pkg, filename: filename, start_line: start_line, start_column: start_column, end_line: end_line, end_column: end_column };\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$builtin$$Logger$write_string$0$(self, str) {\n  const _bind$3 = self;\n  _bind$3.val = `${_bind$3.val}${str}`;\n}\nfunction moonbitlang$core$builtin$$Hasher$combine$5$(self, value) {\n  moonbitlang$core$builtin$$Hash$hash_combine$5$(value, self);\n}\nfunction moonbitlang$core$builtin$$Eq$not_equal$20$(x, y) {\n  return !moonbitlang$core$builtin$$Eq$equal$21$(x, y);\n}\nfunction moonbitlang$core$builtin$$Hasher$avalanche(self) {\n  let acc = self.acc;\n  acc = acc ^ (acc >>> 15 | 0);\n  acc = Math.imul(acc, -2048144777) | 0;\n  acc = acc ^ (acc >>> 13 | 0);\n  acc = Math.imul(acc, -1028477379) | 0;\n  acc = acc ^ (acc >>> 16 | 0);\n  return acc;\n}\nfunction moonbitlang$core$builtin$$Hasher$finalize(self) {\n  return moonbitlang$core$builtin$$Hasher$avalanche(self);\n}\nfunction moonbitlang$core$builtin$$Hasher$new$46$inner(seed) {\n  return { acc: (seed >>> 0) + (374761393 >>> 0) | 0 };\n}\nfunction moonbitlang$core$builtin$$Hasher$new(seed$46$opt) {\n  let seed;\n  if (seed$46$opt === undefined) {\n    seed = moonbitlang$core$builtin$$seed;\n  } else {\n    const _Some = seed$46$opt;\n    seed = _Some;\n  }\n  return moonbitlang$core$builtin$$Hasher$new$46$inner(seed);\n}\nfunction moonbitlang$core$builtin$$Hash$hash$22$(self) {\n  const _self = moonbitlang$core$builtin$$Hasher$new(undefined);\n  moonbitlang$core$builtin$$Hasher$combine$5$(_self, self);\n  return moonbitlang$core$builtin$$Hasher$finalize(_self);\n}\nfunction moonbitlang$core$string$$String$sub$46$inner(self, start, end) {\n  const len = self.length;\n  let end$2;\n  if (end === undefined) {\n    end$2 = len;\n  } else {\n    const _Some = end;\n    const _end = _Some;\n    end$2 = _end < 0 ? len + _end | 0 : _end;\n  }\n  const start$2 = start < 0 ? len + start | 0 : start;\n  if (start$2 >= 0 && (start$2 <= end$2 && end$2 <= len)) {\n    let _tmp;\n    if (start$2 < len) {\n      const _p = self.charCodeAt(start$2);\n      _tmp = 56320 <= _p && _p <= 57343;\n    } else {\n      _tmp = false;\n    }\n    if (_tmp) {\n      return new Result$Err$1$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex);\n    }\n    let _tmp$2;\n    if (end$2 < len) {\n      const _p = self.charCodeAt(end$2);\n      _tmp$2 = 56320 <= _p && _p <= 57343;\n    } else {\n      _tmp$2 = false;\n    }\n    if (_tmp$2) {\n      return new Result$Err$1$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex);\n    }\n    return new Result$Ok$1$({ str: self, start: start$2, end: end$2 });\n  } else {\n    return new Result$Err$1$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$IndexOutOfBounds);\n  }\n}\nfunction moonbitlang$core$string$$String$sub(self, start$46$opt, end) {\n  let start;\n  if (start$46$opt === undefined) {\n    start = 0;\n  } else {\n    const _Some = start$46$opt;\n    start = _Some;\n  }\n  return moonbitlang$core$string$$String$sub$46$inner(self, start, end);\n}\nfunction moonbitlang$core$builtin$$Logger$write_substring$1$(self, value, start, len) {\n  let _tmp;\n  let _try_err;\n  _L: {\n    _L$2: {\n      const _bind$3 = moonbitlang$core$string$$String$sub$46$inner(value, start, start + len | 0);\n      if (_bind$3.$tag === 1) {\n        const _ok = _bind$3;\n        _tmp = _ok._0;\n      } else {\n        const _err = _bind$3;\n        const _tmp$2 = _err._0;\n        _try_err = _tmp$2;\n        break _L$2;\n      }\n      break _L;\n    }\n    _tmp = $panic();\n  }\n  moonbitlang$core$builtin$$Logger$write_view$0$(self, _tmp);\n}\nfunction moonbitlang$core$builtin$$Show$to_string$23$(self) {\n  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const _p = { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger };\n  if (self) {\n    _p.method_table.method_0(_p.self, \"true\");\n  } else {\n    _p.method_table.method_0(_p.self, \"false\");\n  }\n  return logger.val;\n}\nfunction moonbitlang$core$builtin$$Show$to_string$24$(self) {\n  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  moonbitlang$core$builtin$$Show$output$25$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });\n  return logger.val;\n}\nfunction moonbitlang$core$builtin$$Show$to_string$10$(self) {\n  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  moonbitlang$core$builtin$$Show$output$26$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });\n  return logger.val;\n}\nfunction moonbitlang$core$builtin$$Show$to_string$27$(self) {\n  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  moonbitlang$core$builtin$$Show$output$16$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });\n  return logger.val;\n}\nfunction moonbitlang$core$int$$Int$to_string$46$inner(self, radix) {\n  return moonbitlang$core$builtin$$int_to_string_js(self, radix);\n}\nfunction moonbitlang$core$string$$StringView$view$46$inner(self, start_offset, end_offset) {\n  let end_offset$2;\n  if (end_offset === undefined) {\n    end_offset$2 = self.end - self.start | 0;\n  } else {\n    const _Some = end_offset;\n    end_offset$2 = _Some;\n  }\n  return start_offset >= 0 && (start_offset <= end_offset$2 && end_offset$2 <= (self.end - self.start | 0)) ? { str: self.str, start: self.start + start_offset | 0, end: self.start + end_offset$2 | 0 } : moonbitlang$core$builtin$$abort$4$(\"Invalid index for View\", \"@moonbitlang/core/builtin:stringview.mbt:111:5-111:36\");\n}\nfunction moonbitlang$core$builtin$$Show$to_string$4$(self) {\n  return self.str.substring(self.start, self.end);\n}\nfunction moonbitlang$core$string$$StringView$iter(self) {\n  const start = self.start;\n  const end = self.end;\n  const index = { val: start };\n  const _p = () => {\n    if (index.val < end) {\n      const _tmp = self.str;\n      const _tmp$2 = index.val;\n      const c1 = _tmp.charCodeAt(_tmp$2);\n      if (55296 <= c1 && c1 <= 56319 && (index.val + 1 | 0) < self.end) {\n        const _tmp$3 = self.str;\n        const _tmp$4 = index.val + 1 | 0;\n        const c2 = _tmp$3.charCodeAt(_tmp$4);\n        if (56320 <= c2 && c2 <= 57343) {\n          index.val = index.val + 2 | 0;\n          return moonbitlang$core$builtin$$code_point_of_surrogate_pair(c1, c2);\n        }\n      }\n      index.val = index.val + 1 | 0;\n      return c1;\n    } else {\n      return -1;\n    }\n  };\n  return _p;\n}\nfunction moonbitlang$core$builtin$$Iter2$new$28$(f) {\n  return f;\n}\nfunction moonbitlang$core$string$$StringView$iter2(self) {\n  const start = self.start;\n  const end = self.end;\n  const index = { val: start };\n  const char_index = { val: 0 };\n  return moonbitlang$core$builtin$$Iter2$new$28$(() => {\n    if (index.val < end) {\n      const _tmp = self.str;\n      const _tmp$2 = index.val;\n      const c1 = _tmp.charCodeAt(_tmp$2);\n      if (55296 <= c1 && c1 <= 56319 && (index.val + 1 | 0) < self.end) {\n        const _tmp$3 = self.str;\n        const _tmp$4 = index.val + 1 | 0;\n        const c2 = _tmp$3.charCodeAt(_tmp$4);\n        if (56320 <= c2 && c2 <= 57343) {\n          const result = { _0: char_index.val, _1: moonbitlang$core$builtin$$code_point_of_surrogate_pair(c1, c2) };\n          index.val = index.val + 2 | 0;\n          char_index.val = char_index.val + 1 | 0;\n          return result;\n        }\n      }\n      const result = { _0: char_index.val, _1: c1 };\n      index.val = index.val + 1 | 0;\n      char_index.val = char_index.val + 1 | 0;\n      return result;\n    } else {\n      return undefined;\n    }\n  });\n}\nfunction moonbitlang$core$string$$String$view$46$inner(self, start_offset, end_offset) {\n  let end_offset$2;\n  if (end_offset === undefined) {\n    end_offset$2 = self.length;\n  } else {\n    const _Some = end_offset;\n    end_offset$2 = _Some;\n  }\n  return start_offset >= 0 && (start_offset <= end_offset$2 && end_offset$2 <= self.length) ? { str: self, start: start_offset, end: end_offset$2 } : moonbitlang$core$builtin$$abort$4$(\"Invalid index for View\", \"@moonbitlang/core/builtin:stringview.mbt:382:5-382:36\");\n}\nfunction moonbitlang$core$string$$String$char_length_eq$46$inner(self, len, start_offset, end_offset) {\n  let end_offset$2;\n  if (end_offset === undefined) {\n    end_offset$2 = self.length;\n  } else {\n    const _Some = end_offset;\n    end_offset$2 = _Some;\n  }\n  let _tmp = start_offset;\n  let _tmp$2 = 0;\n  while (true) {\n    const index = _tmp;\n    const count = _tmp$2;\n    if (index < end_offset$2 && count < len) {\n      const c1 = self.charCodeAt(index);\n      if (55296 <= c1 && c1 <= 56319 && (index + 1 | 0) < end_offset$2) {\n        const _tmp$3 = index + 1 | 0;\n        const c2 = self.charCodeAt(_tmp$3);\n        if (56320 <= c2 && c2 <= 57343) {\n          _tmp = index + 2 | 0;\n          _tmp$2 = count + 1 | 0;\n          continue;\n        } else {\n          moonbitlang$core$builtin$$abort$6$(\"invalid surrogate pair\", \"@moonbitlang/core/builtin:string.mbt:426:9-426:40\");\n        }\n      }\n      _tmp = index + 1 | 0;\n      _tmp$2 = count + 1 | 0;\n      continue;\n    } else {\n      return count === len && index === end_offset$2;\n    }\n  }\n}\nfunction moonbitlang$core$string$$String$offset_of_nth_char_backward(self, n, start_offset, end_offset) {\n  let char_count = 0;\n  let utf16_offset = end_offset;\n  while (true) {\n    if ((utf16_offset - 1 | 0) >= start_offset && char_count < n) {\n      const _tmp = utf16_offset - 1 | 0;\n      const c = self.charCodeAt(_tmp);\n      if (56320 <= c && c <= 57343) {\n        utf16_offset = utf16_offset - 2 | 0;\n      } else {\n        utf16_offset = utf16_offset - 1 | 0;\n      }\n      char_count = char_count + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return char_count < n || utf16_offset < start_offset ? undefined : utf16_offset;\n}\nfunction moonbitlang$core$string$$String$offset_of_nth_char_forward(self, n, start_offset, end_offset) {\n  if (start_offset >= 0 && start_offset <= end_offset) {\n    let utf16_offset = start_offset;\n    let char_count = 0;\n    while (true) {\n      if (utf16_offset < end_offset && char_count < n) {\n        const _tmp = utf16_offset;\n        const c = self.charCodeAt(_tmp);\n        if (55296 <= c && c <= 56319) {\n          utf16_offset = utf16_offset + 2 | 0;\n        } else {\n          utf16_offset = utf16_offset + 1 | 0;\n        }\n        char_count = char_count + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n    return char_count < n || utf16_offset >= end_offset ? undefined : utf16_offset;\n  } else {\n    return moonbitlang$core$builtin$$abort$7$(\"Invalid start index\", \"@moonbitlang/core/builtin:string.mbt:329:5-329:33\");\n  }\n}\nfunction moonbitlang$core$string$$String$offset_of_nth_char$46$inner(self, i, start_offset, end_offset) {\n  let end_offset$2;\n  if (end_offset === undefined) {\n    end_offset$2 = self.length;\n  } else {\n    const _Some = end_offset;\n    end_offset$2 = _Some;\n  }\n  return i >= 0 ? moonbitlang$core$string$$String$offset_of_nth_char_forward(self, i, start_offset, end_offset$2) : moonbitlang$core$string$$String$offset_of_nth_char_backward(self, -i | 0, start_offset, end_offset$2);\n}\nfunction moonbitlang$core$builtin$$unsafe_make_string(_tmp, _tmp$2) {\n  return $unsafe_make_string(_tmp, _tmp$2);\n}\nfunction moonbitlang$core$string$$String$make(length, value) {\n  if (length >= 0) {\n    if (value <= 65535) {\n      return moonbitlang$core$builtin$$unsafe_make_string(length, value);\n    } else {\n      const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(Math.imul(2, length) | 0);\n      let _tmp = 0;\n      while (true) {\n        const _ = _tmp;\n        if (_ < length) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(buf, value);\n          _tmp = _ + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      return buf.val;\n    }\n  } else {\n    return moonbitlang$core$builtin$$abort$5$(\"invalid length\", \"@moonbitlang/core/builtin:string.mbt:27:28-27:51\");\n  }\n}\nfunction moonbitlang$core$builtin$$Logger$write_view$0$(self, str) {\n  const _bind$3 = self;\n  _bind$3.val = `${_bind$3.val}${moonbitlang$core$builtin$$Show$to_string$4$(str)}`;\n}\nfunction moonbitlang$core$builtin$$StringBuilder$reset(self) {\n  self.val = \"\";\n}\nfunction moonbitlang$core$builtin$$boyer_moore_horspool_find(haystack, needle) {\n  const haystack_len = haystack.end - haystack.start | 0;\n  const needle_len = needle.end - needle.start | 0;\n  if (needle_len > 0) {\n    if (haystack_len >= needle_len) {\n      const skip_table = $make_array_len_and_init(256, needle_len);\n      const _end4174 = needle_len - 1 | 0;\n      let _tmp = 0;\n      while (true) {\n        const i = _tmp;\n        if (i < _end4174) {\n          const _tmp$2 = needle.str;\n          const _tmp$3 = needle.start + i | 0;\n          const _tmp$4 = _tmp$2.charCodeAt(_tmp$3) & 255;\n          $bound_check(skip_table, _tmp$4);\n          skip_table[_tmp$4] = (needle_len - 1 | 0) - i | 0;\n          _tmp = i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      let _tmp$2 = 0;\n      while (true) {\n        const i = _tmp$2;\n        if (i <= (haystack_len - needle_len | 0)) {\n          const _end4180 = needle_len - 1 | 0;\n          let _tmp$3 = 0;\n          while (true) {\n            const j = _tmp$3;\n            if (j <= _end4180) {\n              const _p = i + j | 0;\n              const _tmp$4 = haystack.str;\n              const _tmp$5 = haystack.start + _p | 0;\n              const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);\n              const _tmp$7 = needle.str;\n              const _tmp$8 = needle.start + j | 0;\n              if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {\n                break;\n              }\n              _tmp$3 = j + 1 | 0;\n              continue;\n            } else {\n              return i;\n            }\n          }\n          const _p = (i + needle_len | 0) - 1 | 0;\n          const _tmp$4 = haystack.str;\n          const _tmp$5 = haystack.start + _p | 0;\n          const _tmp$6 = _tmp$4.charCodeAt(_tmp$5) & 255;\n          $bound_check(skip_table, _tmp$6);\n          _tmp$2 = i + skip_table[_tmp$6] | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  } else {\n    return moonbitlang$core$builtin$$boyer_moore_horspool_find$46$constr$47$315;\n  }\n}\nfunction moonbitlang$core$builtin$$brute_force_find(haystack, needle) {\n  const haystack_len = haystack.end - haystack.start | 0;\n  const needle_len = needle.end - needle.start | 0;\n  if (needle_len > 0) {\n    if (haystack_len >= needle_len) {\n      const _p = 0;\n      const _tmp = needle.str;\n      const _tmp$2 = needle.start + _p | 0;\n      const needle_first = _tmp.charCodeAt(_tmp$2);\n      const forward_len = haystack_len - needle_len | 0;\n      let i = 0;\n      while (true) {\n        if (i <= forward_len) {\n          while (true) {\n            let _tmp$3;\n            if (i <= forward_len) {\n              const _p$2 = i;\n              const _tmp$4 = haystack.str;\n              const _tmp$5 = haystack.start + _p$2 | 0;\n              _tmp$3 = _tmp$4.charCodeAt(_tmp$5) !== needle_first;\n            } else {\n              _tmp$3 = false;\n            }\n            if (_tmp$3) {\n              i = i + 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n          if (i <= forward_len) {\n            let _tmp$3 = 1;\n            while (true) {\n              const j = _tmp$3;\n              if (j < needle_len) {\n                const _p$2 = i + j | 0;\n                const _tmp$4 = haystack.str;\n                const _tmp$5 = haystack.start + _p$2 | 0;\n                const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);\n                const _tmp$7 = needle.str;\n                const _tmp$8 = needle.start + j | 0;\n                if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {\n                  break;\n                }\n                _tmp$3 = j + 1 | 0;\n                continue;\n              } else {\n                return i;\n              }\n            }\n            i = i + 1 | 0;\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  } else {\n    return moonbitlang$core$builtin$$brute_force_find$46$constr$47$329;\n  }\n}\nfunction moonbitlang$core$string$$StringView$find(self, str) {\n  return (str.end - str.start | 0) <= 4 ? moonbitlang$core$builtin$$brute_force_find(self, str) : moonbitlang$core$builtin$$boyer_moore_horspool_find(self, str);\n}\nfunction moonbitlang$core$builtin$$boyer_moore_horspool_rev_find(haystack, needle) {\n  const haystack_len = haystack.end - haystack.start | 0;\n  const needle_len = needle.end - needle.start | 0;\n  if (needle_len > 0) {\n    if (haystack_len >= needle_len) {\n      const skip_table = $make_array_len_and_init(256, needle_len);\n      let _tmp = needle_len - 1 | 0;\n      while (true) {\n        const i = _tmp;\n        if (i > 0) {\n          const _tmp$2 = needle.str;\n          const _tmp$3 = needle.start + i | 0;\n          const _tmp$4 = _tmp$2.charCodeAt(_tmp$3) & 255;\n          $bound_check(skip_table, _tmp$4);\n          skip_table[_tmp$4] = i;\n          _tmp = i - 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      let _tmp$2 = haystack_len - needle_len | 0;\n      while (true) {\n        const i = _tmp$2;\n        if (i >= 0) {\n          let _tmp$3 = 0;\n          while (true) {\n            const j = _tmp$3;\n            if (j < needle_len) {\n              const _p = i + j | 0;\n              const _tmp$4 = haystack.str;\n              const _tmp$5 = haystack.start + _p | 0;\n              const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);\n              const _tmp$7 = needle.str;\n              const _tmp$8 = needle.start + j | 0;\n              if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {\n                break;\n              }\n              _tmp$3 = j + 1 | 0;\n              continue;\n            } else {\n              return i;\n            }\n          }\n          const _tmp$4 = haystack.str;\n          const _tmp$5 = haystack.start + i | 0;\n          const _tmp$6 = _tmp$4.charCodeAt(_tmp$5) & 255;\n          $bound_check(skip_table, _tmp$6);\n          _tmp$2 = i - skip_table[_tmp$6] | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  } else {\n    return haystack_len;\n  }\n}\nfunction moonbitlang$core$string$$StringView$find_by(self, pred) {\n  const _it = moonbitlang$core$string$$StringView$iter2(self);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter2$next$28$(_it);\n    if (_bind$3 === undefined) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _x = _Some;\n      const _i = _x._0;\n      const _c = _x._1;\n      if (pred(_c)) {\n        return _i;\n      }\n      continue;\n    }\n  }\n  return undefined;\n}\nfunction moonbitlang$core$string$$String$find_by(self, pred) {\n  return moonbitlang$core$string$$StringView$find_by({ str: self, start: 0, end: self.length }, pred);\n}\nfunction moonbitlang$core$builtin$$brute_force_rev_find(haystack, needle) {\n  const haystack_len = haystack.end - haystack.start | 0;\n  const needle_len = needle.end - needle.start | 0;\n  if (needle_len > 0) {\n    if (haystack_len >= needle_len) {\n      const _p = 0;\n      const _tmp = needle.str;\n      const _tmp$2 = needle.start + _p | 0;\n      const needle_first = _tmp.charCodeAt(_tmp$2);\n      let i = haystack_len - needle_len | 0;\n      while (true) {\n        if (i >= 0) {\n          while (true) {\n            let _tmp$3;\n            if (i >= 0) {\n              const _p$2 = i;\n              const _tmp$4 = haystack.str;\n              const _tmp$5 = haystack.start + _p$2 | 0;\n              _tmp$3 = _tmp$4.charCodeAt(_tmp$5) !== needle_first;\n            } else {\n              _tmp$3 = false;\n            }\n            if (_tmp$3) {\n              i = i - 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n          if (i >= 0) {\n            let _tmp$3 = 1;\n            while (true) {\n              const j = _tmp$3;\n              if (j < needle_len) {\n                const _p$2 = i + j | 0;\n                const _tmp$4 = haystack.str;\n                const _tmp$5 = haystack.start + _p$2 | 0;\n                const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);\n                const _tmp$7 = needle.str;\n                const _tmp$8 = needle.start + j | 0;\n                if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {\n                  break;\n                }\n                _tmp$3 = j + 1 | 0;\n                continue;\n              } else {\n                return i;\n              }\n            }\n            i = i - 1 | 0;\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  } else {\n    return haystack_len;\n  }\n}\nfunction moonbitlang$core$string$$StringView$rev_find(self, str) {\n  return (str.end - str.start | 0) <= 4 ? moonbitlang$core$builtin$$brute_force_rev_find(self, str) : moonbitlang$core$builtin$$boyer_moore_horspool_rev_find(self, str);\n}\nfunction moonbitlang$core$string$$StringView$has_suffix(self, str) {\n  const _bind$3 = moonbitlang$core$string$$StringView$rev_find(self, str);\n  if (_bind$3 === undefined) {\n    return false;\n  } else {\n    const _Some = _bind$3;\n    const _i = _Some;\n    return _i === ((self.end - self.start | 0) - (str.end - str.start | 0) | 0);\n  }\n}\nfunction moonbitlang$core$string$$String$has_suffix(self, str) {\n  return moonbitlang$core$string$$StringView$has_suffix({ str: self, start: 0, end: self.length }, str);\n}\nfunction moonbitlang$core$string$$StringView$has_prefix(self, str) {\n  const _bind$3 = moonbitlang$core$string$$StringView$find(self, str);\n  if (_bind$3 === undefined) {\n    return false;\n  } else {\n    const _Some = _bind$3;\n    const _i = _Some;\n    return _i === 0;\n  }\n}\nfunction moonbitlang$core$string$$String$has_prefix(self, str) {\n  return moonbitlang$core$string$$StringView$has_prefix({ str: self, start: 0, end: self.length }, str);\n}\nfunction moonbitlang$core$array$$Array$new$46$inner$11$(capacity) {\n  return [];\n}\nfunction moonbitlang$core$array$$Array$push$29$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$30$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$13$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$11$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$31$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$4$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$16$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$32$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$15$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$33$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$14$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$34$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$35$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$18$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$12$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$5$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$36$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$17$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$9$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$array$$Array$push$19$(self, value) {\n  moonbitlang$core$builtin$$JSArray$push(self, value);\n}\nfunction moonbitlang$core$builtin$$Iter$next$11$(self) {\n  const _func = self;\n  return _func();\n}\nfunction moonbitlang$core$builtin$$Iter$next$29$(self) {\n  const _func = self;\n  return _func();\n}\nfunction moonbitlang$core$builtin$$Iter$next$4$(self) {\n  const _func = self;\n  return _func();\n}\nfunction moonbitlang$core$builtin$$Iter$next$18$(self) {\n  const _func = self;\n  return _func();\n}\nfunction moonbitlang$core$builtin$$Iter$next$37$(self) {\n  const _func = self;\n  return _func();\n}\nfunction moonbitlang$core$string$$StringView$contains(self, str) {\n  const _bind$3 = moonbitlang$core$string$$StringView$find(self, str);\n  return !(_bind$3 === undefined);\n}\nfunction moonbitlang$core$string$$String$contains(self, str) {\n  return moonbitlang$core$string$$StringView$contains({ str: self, start: 0, end: self.length }, str);\n}\nfunction moonbitlang$core$string$$StringView$contains_char(self, c) {\n  const len = self.end - self.start | 0;\n  if (len > 0) {\n    const c$2 = c;\n    if (c$2 <= 65535) {\n      let _tmp = 0;\n      while (true) {\n        const i = _tmp;\n        if (i < len) {\n          const _tmp$2 = self.str;\n          const _tmp$3 = self.start + i | 0;\n          if (_tmp$2.charCodeAt(_tmp$3) === c$2) {\n            return true;\n          }\n          _tmp = i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n    } else {\n      if (len >= 2) {\n        const adj = c$2 - 65536 | 0;\n        const high = 55296 + (adj >> 10) | 0;\n        const low = 56320 + (adj & 1023) | 0;\n        let i = 0;\n        while (true) {\n          if (i < (len - 1 | 0)) {\n            const _p = i;\n            const _tmp = self.str;\n            const _tmp$2 = self.start + _p | 0;\n            if (_tmp.charCodeAt(_tmp$2) === high) {\n              i = i + 1 | 0;\n              const _p$2 = i;\n              const _tmp$3 = self.str;\n              const _tmp$4 = self.start + _p$2 | 0;\n              if (_tmp$3.charCodeAt(_tmp$4) === low) {\n                return true;\n              }\n            }\n            i = i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n    return false;\n  } else {\n    return false;\n  }\n}\nfunction moonbitlang$core$string$$StringView$trim_start$46$inner(self, chars) {\n  let _tmp = self;\n  while (true) {\n    const _param = _tmp;\n    if (moonbitlang$core$string$$String$char_length_eq$46$inner(_param.str, 0, _param.start, _param.end)) {\n      return _param;\n    } else {\n      const _c = moonbitlang$core$string$$String$unsafe_char_at(_param.str, moonbitlang$core$string$$String$offset_of_nth_char$46$inner(_param.str, 0, _param.start, _param.end));\n      const _tmp$2 = _param.str;\n      const _bind$3 = moonbitlang$core$string$$String$offset_of_nth_char$46$inner(_param.str, 1, _param.start, _param.end);\n      let _tmp$3;\n      if (_bind$3 === undefined) {\n        _tmp$3 = _param.end;\n      } else {\n        const _Some = _bind$3;\n        _tmp$3 = _Some;\n      }\n      const _tmp$4 = _tmp$3;\n      const _x = { str: _tmp$2, start: _tmp$4, end: _param.end };\n      if (moonbitlang$core$string$$StringView$contains_char(chars, _c)) {\n        _tmp = _x;\n        continue;\n      } else {\n        return _param;\n      }\n    }\n  }\n}\nfunction moonbitlang$core$string$$StringView$trim_end$46$inner(self, chars) {\n  let _tmp = self;\n  while (true) {\n    const _param = _tmp;\n    if (moonbitlang$core$string$$String$char_length_eq$46$inner(_param.str, 0, _param.start, _param.end)) {\n      return _param;\n    } else {\n      const _c = moonbitlang$core$string$$String$unsafe_char_at(_param.str, moonbitlang$core$string$$String$offset_of_nth_char$46$inner(_param.str, -1, _param.start, _param.end));\n      const _x = { str: _param.str, start: _param.start, end: moonbitlang$core$string$$String$offset_of_nth_char$46$inner(_param.str, -1, _param.start, _param.end) };\n      if (moonbitlang$core$string$$StringView$contains_char(chars, _c)) {\n        _tmp = _x;\n        continue;\n      } else {\n        return _param;\n      }\n    }\n  }\n}\nfunction moonbitlang$core$string$$String$trim_end$46$inner(self, chars) {\n  return moonbitlang$core$string$$StringView$trim_end$46$inner({ str: self, start: 0, end: self.length }, chars);\n}\nfunction moonbitlang$core$string$$StringView$trim$46$inner(self, chars) {\n  return moonbitlang$core$string$$StringView$trim_end$46$inner(moonbitlang$core$string$$StringView$trim_start$46$inner(self, chars), chars);\n}\nfunction moonbitlang$core$string$$String$trim$46$inner(self, chars) {\n  return moonbitlang$core$string$$StringView$trim$46$inner({ str: self, start: 0, end: self.length }, chars);\n}\nfunction moonbitlang$core$string$$StringView$is_empty(self) {\n  return (self.end - self.start | 0) === 0;\n}\nfunction moonbitlang$core$string$$String$iter(self) {\n  const len = self.length;\n  const index = { val: 0 };\n  const _p = () => {\n    if (index.val < len) {\n      const _tmp = index.val;\n      const c1 = self.charCodeAt(_tmp);\n      if (55296 <= c1 && c1 <= 56319 && (index.val + 1 | 0) < len) {\n        const _tmp$2 = index.val + 1 | 0;\n        const c2 = self.charCodeAt(_tmp$2);\n        if (56320 <= c2 && c2 <= 57343) {\n          const c = moonbitlang$core$builtin$$code_point_of_surrogate_pair(c1, c2);\n          index.val = index.val + 2 | 0;\n          return c;\n        }\n      }\n      index.val = index.val + 1 | 0;\n      return c1;\n    } else {\n      return -1;\n    }\n  };\n  return _p;\n}\nfunction moonbitlang$core$builtin$$Iter$map$38$(self, f) {\n  return () => {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(self);\n    if (_bind$3 === -1) {\n      return undefined;\n    } else {\n      const _Some = _bind$3;\n      const _x = _Some;\n      return f(_x);\n    }\n  };\n}\nfunction moonbitlang$core$builtin$$Show$to_string$11$(self) {\n  return String.fromCodePoint(self);\n}\nfunction moonbitlang$core$string$$StringView$split(self, sep) {\n  const sep_len = sep.end - sep.start | 0;\n  if (sep_len === 0) {\n    return moonbitlang$core$builtin$$Iter$map$38$(moonbitlang$core$string$$StringView$iter(self), (c) => moonbitlang$core$string$$String$view$46$inner(moonbitlang$core$builtin$$Show$to_string$11$(c), 0, undefined));\n  }\n  const remaining = { val: self };\n  const _p = () => {\n    const _bind$3 = remaining.val;\n    if (_bind$3 === undefined) {\n      return undefined;\n    } else {\n      const _Some = _bind$3;\n      const _view = _Some;\n      const _bind$4 = moonbitlang$core$string$$StringView$find(_view, sep);\n      if (_bind$4 === undefined) {\n        remaining.val = undefined;\n        return _view;\n      } else {\n        const _Some$2 = _bind$4;\n        const _end = _Some$2;\n        remaining.val = moonbitlang$core$string$$StringView$view$46$inner(_view, _end + sep_len | 0, undefined);\n        return moonbitlang$core$string$$StringView$view$46$inner(_view, 0, _end);\n      }\n    }\n  };\n  return _p;\n}\nfunction moonbitlang$core$string$$String$split(self, sep) {\n  return moonbitlang$core$string$$StringView$split({ str: self, start: 0, end: self.length }, sep);\n}\nfunction moonbitlang$core$builtin$$Iter$to_array$4$(self) {\n  const result = [];\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$4$(self);\n    if (_bind$3 === undefined) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _x = _Some;\n      moonbitlang$core$array$$Array$push$4$(result, _x);\n      continue;\n    }\n  }\n  return result;\n}\nfunction moonbitlang$core$char$$Char$is_ascii_uppercase(self) {\n  return self >= 65 && self <= 90;\n}\nfunction moonbitlang$core$string$$String$to_lower(self) {\n  const _bind$3 = moonbitlang$core$string$$String$find_by(self, (x) => moonbitlang$core$char$$Char$is_ascii_uppercase(x));\n  if (_bind$3 === undefined) {\n    return self;\n  } else {\n    const _Some = _bind$3;\n    const _idx = _Some;\n    const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(self.length);\n    const head = moonbitlang$core$string$$String$view$46$inner(self, 0, _idx);\n    moonbitlang$core$builtin$$Logger$write_substring$1$(buf, head.str, head.start, head.end - head.start | 0);\n    const _it = moonbitlang$core$string$$StringView$iter(moonbitlang$core$string$$String$view$46$inner(self, _idx, undefined));\n    while (true) {\n      const _bind$4 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n      if (_bind$4 === -1) {\n        break;\n      } else {\n        const _Some$2 = _bind$4;\n        const _c = _Some$2;\n        if (moonbitlang$core$char$$Char$is_ascii_uppercase(_c)) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(buf, _c + 32 | 0);\n        } else {\n          moonbitlang$core$builtin$$Logger$write_char$0$(buf, _c);\n        }\n        continue;\n      }\n    }\n    return buf.val;\n  }\n}\nfunction moonbitlang$core$string$$String$get_char(self, idx) {\n  if (idx >= 0 && idx < self.length) {\n    const c = self.charCodeAt(idx);\n    if (55296 <= c && c <= 56319) {\n      if ((idx + 1 | 0) < self.length) {\n        const _tmp = idx + 1 | 0;\n        const next = self.charCodeAt(_tmp);\n        return 56320 <= next && next <= 57343 ? moonbitlang$core$builtin$$code_point_of_surrogate_pair(c, next) : -1;\n      } else {\n        return -1;\n      }\n    } else {\n      return 56320 <= c && c <= 57343 ? -1 : c;\n    }\n  } else {\n    return -1;\n  }\n}\nfunction moonbitlang$core$string$$String$substring$46$inner(self, start, end) {\n  const len = self.length;\n  let end$2;\n  if (end === undefined) {\n    end$2 = len;\n  } else {\n    const _Some = end;\n    end$2 = _Some;\n  }\n  return start >= 0 && (start <= end$2 && end$2 <= len) ? self.substring(start, end$2) : $panic();\n}\nfunction moonbitlang$core$string$$String$to_array(self) {\n  const _p = moonbitlang$core$string$$String$iter(self);\n  const _p$2 = moonbitlang$core$array$$Array$new$46$inner$11$(self.length);\n  let _p$3 = _p$2;\n  while (true) {\n    const _p$4 = moonbitlang$core$builtin$$Iter$next$11$(_p);\n    if (_p$4 === -1) {\n      break;\n    } else {\n      const _p$5 = _p$4;\n      const _p$6 = _p$5;\n      const _p$7 = _p$3;\n      moonbitlang$core$array$$Array$push$11$(_p$7, _p$6);\n      _p$3 = _p$7;\n      continue;\n    }\n  }\n  return _p$3;\n}\nfunction moonbitlang$core$builtin$$Show$output$16$(self, logger) {\n  logger.method_table.method_0(logger.self, moonbitlang$core$int$$Int$to_string$46$inner(self, 10));\n}\nfunction moonbitlang$core$array$$ArrayView$iter$29$(self) {\n  const i = { val: 0 };\n  const _p = () => {\n    if (i.val < (self.end - self.start | 0)) {\n      const elem = self.buf[self.start + i.val | 0];\n      i.val = i.val + 1 | 0;\n      return elem;\n    } else {\n      return undefined;\n    }\n  };\n  return _p;\n}\nfunction moonbitlang$core$array$$ArrayView$iter$18$(self) {\n  const i = { val: 0 };\n  const _p = () => {\n    if (i.val < (self.end - self.start | 0)) {\n      const elem = self.buf[self.start + i.val | 0];\n      i.val = i.val + 1 | 0;\n      return elem;\n    } else {\n      return undefined;\n    }\n  };\n  return _p;\n}\nfunction moonbitlang$core$array$$Array$iter$29$(self) {\n  return moonbitlang$core$array$$ArrayView$iter$29$({ buf: self, start: 0, end: self.length });\n}\nfunction moonbitlang$core$array$$Array$iter$18$(self) {\n  return moonbitlang$core$array$$ArrayView$iter$18$({ buf: self, start: 0, end: self.length });\n}\nfunction moonbitlang$core$builtin$$Eq$equal$39$(self, other) {\n  if (self === -1) {\n    return other === -1;\n  } else {\n    const _Some = self;\n    const _x = _Some;\n    if (other === -1) {\n      return false;\n    } else {\n      const _Some$2 = other;\n      const _y = _Some$2;\n      return _x === _y;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Eq$equal$21$(self, other) {\n  if (self === undefined) {\n    return other === undefined;\n  } else {\n    const _Some = self;\n    const _x = _Some;\n    if (other === undefined) {\n      return false;\n    } else {\n      const _Some$2 = other;\n      const _y = _Some$2;\n      return moonbitlang$core$builtin$$Eq$equal$40$(_x, _y);\n    }\n  }\n}\nfunction moonbitlang$core$array$$MutArrayView$at$9$(self, index) {\n  if (index >= 0 && index < (self.end - self.start | 0)) {\n    const _tmp = self.buf;\n    const _tmp$2 = self.start + index | 0;\n    $bound_check(_tmp, _tmp$2);\n    return _tmp[_tmp$2];\n  } else {\n    return moonbitlang$core$builtin$$abort$9$(`index out of bounds: the len is from 0 to ${moonbitlang$core$builtin$$Show$to_string$27$(self.end - self.start | 0)} but the index is ${moonbitlang$core$builtin$$Show$to_string$27$(index)}`, \"@moonbitlang/core/builtin:mutarrayview.mbt:97:5-99:6\");\n  }\n}\nfunction moonbitlang$core$array$$MutArrayView$set$9$(self, index, value) {\n  if (index >= 0 && index < (self.end - self.start | 0)) {\n    const _tmp = self.buf;\n    const _tmp$2 = self.start + index | 0;\n    $bound_check(_tmp, _tmp$2);\n    _tmp[_tmp$2] = value;\n    return;\n  } else {\n    moonbitlang$core$builtin$$abort$6$(`index out of bounds: the len is from 0 to ${moonbitlang$core$builtin$$Show$to_string$27$(self.end - self.start | 0)} but the index is ${moonbitlang$core$builtin$$Show$to_string$27$(index)}`, \"@moonbitlang/core/builtin:mutarrayview.mbt:161:5-163:6\");\n    return;\n  }\n}\nfunction moonbitlang$core$array$$Array$mut_view$46$inner$9$(self, start, end) {\n  const len = self.length;\n  let end$2;\n  if (end === undefined) {\n    end$2 = len;\n  } else {\n    const _Some = end;\n    const _end = _Some;\n    end$2 = _end < 0 ? len + _end | 0 : _end;\n  }\n  const start$2 = start < 0 ? len + start | 0 : start;\n  return start$2 >= 0 && (start$2 <= end$2 && end$2 <= len) ? { buf: self, start: start$2, end: end$2 } : moonbitlang$core$builtin$$abort$8$(\"View index out of bounds\", \"@moonbitlang/core/builtin:mutarrayview.mbt:237:5-237:38\");\n}\nfunction moonbitlang$core$array$$MutArrayView$mut_view$46$inner$9$(self, start, end) {\n  const len = self.end - self.start | 0;\n  let end$2;\n  if (end === undefined) {\n    end$2 = len;\n  } else {\n    const _Some = end;\n    const _end = _Some;\n    end$2 = _end < 0 ? len + _end | 0 : _end;\n  }\n  const start$2 = start < 0 ? len + start | 0 : start;\n  return start$2 >= 0 && (start$2 <= end$2 && end$2 <= len) ? { buf: self.buf, start: self.start + start$2 | 0, end: (self.start + start$2 | 0) + (end$2 - start$2 | 0) | 0 } : moonbitlang$core$builtin$$abort$8$(\"View index out of bounds\", \"@moonbitlang/core/builtin:mutarrayview.mbt:286:5-286:38\");\n}\nfunction moonbitlang$core$int$$Int$next_power_of_two(self) {\n  if (self >= 0) {\n    if (self <= 1) {\n      return 1;\n    }\n    if (self > 1073741824) {\n      return 1073741824;\n    }\n    return (2147483647 >> (Math.clz32(self - 1 | 0) - 1 | 0)) + 1 | 0;\n  } else {\n    return $panic();\n  }\n}\nfunction moonbitlang$core$builtin$$Map$new$46$inner$2$(capacity) {\n  const capacity$2 = moonbitlang$core$int$$Int$next_power_of_two(capacity);\n  const _bind$3 = capacity$2 - 1 | 0;\n  const _bind$4 = (Math.imul(capacity$2, 13) | 0) / 16 | 0;\n  const _bind$5 = $make_array_len_and_init(capacity$2, undefined);\n  const _bind$6 = undefined;\n  return { entries: _bind$5, size: 0, capacity: capacity$2, capacity_mask: _bind$3, grow_at: _bind$4, head: _bind$6, tail: -1 };\n}\nfunction moonbitlang$core$builtin$$Map$new$46$inner$3$(capacity) {\n  const capacity$2 = moonbitlang$core$int$$Int$next_power_of_two(capacity);\n  const _bind$3 = capacity$2 - 1 | 0;\n  const _bind$4 = (Math.imul(capacity$2, 13) | 0) / 16 | 0;\n  const _bind$5 = $make_array_len_and_init(capacity$2, undefined);\n  const _bind$6 = undefined;\n  return { entries: _bind$5, size: 0, capacity: capacity$2, capacity_mask: _bind$3, grow_at: _bind$4, head: _bind$6, tail: -1 };\n}\nfunction moonbitlang$core$builtin$$Map$add_entry_to_tail$3$(self, idx, entry) {\n  const _bind$3 = self.tail;\n  if (_bind$3 === -1) {\n    self.head = entry;\n  } else {\n    const _tmp = self.entries;\n    $bound_check(_tmp, _bind$3);\n    const _p = _tmp[_bind$3];\n    let _tmp$2;\n    if (_p === undefined) {\n      _tmp$2 = $panic();\n    } else {\n      const _p$2 = _p;\n      _tmp$2 = _p$2;\n    }\n    _tmp$2.next = entry;\n  }\n  self.tail = idx;\n  const _tmp = self.entries;\n  $bound_check(_tmp, idx);\n  _tmp[idx] = entry;\n  self.size = self.size + 1 | 0;\n}\nfunction moonbitlang$core$builtin$$Map$add_entry_to_tail$2$(self, idx, entry) {\n  const _bind$3 = self.tail;\n  if (_bind$3 === -1) {\n    self.head = entry;\n  } else {\n    const _tmp = self.entries;\n    $bound_check(_tmp, _bind$3);\n    const _p = _tmp[_bind$3];\n    let _tmp$2;\n    if (_p === undefined) {\n      _tmp$2 = $panic();\n    } else {\n      const _p$2 = _p;\n      _tmp$2 = _p$2;\n    }\n    _tmp$2.next = entry;\n  }\n  self.tail = idx;\n  const _tmp = self.entries;\n  $bound_check(_tmp, idx);\n  _tmp[idx] = entry;\n  self.size = self.size + 1 | 0;\n}\nfunction moonbitlang$core$builtin$$Map$set_entry$2$(self, entry, new_idx) {\n  const _tmp = self.entries;\n  $bound_check(_tmp, new_idx);\n  _tmp[new_idx] = entry;\n  const _bind$3 = entry.next;\n  if (_bind$3 === undefined) {\n    self.tail = new_idx;\n    return;\n  } else {\n    const _Some = _bind$3;\n    const _next = _Some;\n    _next.prev = new_idx;\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Map$set_entry$3$(self, entry, new_idx) {\n  const _tmp = self.entries;\n  $bound_check(_tmp, new_idx);\n  _tmp[new_idx] = entry;\n  const _bind$3 = entry.next;\n  if (_bind$3 === undefined) {\n    self.tail = new_idx;\n    return;\n  } else {\n    const _Some = _bind$3;\n    const _next = _Some;\n    _next.prev = new_idx;\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Map$push_away$3$(self, idx, entry) {\n  let _tmp = entry.psl + 1 | 0;\n  let _tmp$2 = idx + 1 & self.capacity_mask;\n  let _tmp$3 = entry;\n  while (true) {\n    const psl = _tmp;\n    const idx$2 = _tmp$2;\n    const entry$2 = _tmp$3;\n    const _tmp$4 = self.entries;\n    $bound_check(_tmp$4, idx$2);\n    const _bind$3 = _tmp$4[idx$2];\n    if (_bind$3 === undefined) {\n      entry$2.psl = psl;\n      moonbitlang$core$builtin$$Map$set_entry$3$(self, entry$2, idx$2);\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _curr_entry = _Some;\n      if (psl > _curr_entry.psl) {\n        entry$2.psl = psl;\n        moonbitlang$core$builtin$$Map$set_entry$3$(self, entry$2, idx$2);\n        _tmp = _curr_entry.psl + 1 | 0;\n        _tmp$2 = idx$2 + 1 & self.capacity_mask;\n        _tmp$3 = _curr_entry;\n        continue;\n      } else {\n        _tmp = psl + 1 | 0;\n        _tmp$2 = idx$2 + 1 & self.capacity_mask;\n        continue;\n      }\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$push_away$2$(self, idx, entry) {\n  let _tmp = entry.psl + 1 | 0;\n  let _tmp$2 = idx + 1 & self.capacity_mask;\n  let _tmp$3 = entry;\n  while (true) {\n    const psl = _tmp;\n    const idx$2 = _tmp$2;\n    const entry$2 = _tmp$3;\n    const _tmp$4 = self.entries;\n    $bound_check(_tmp$4, idx$2);\n    const _bind$3 = _tmp$4[idx$2];\n    if (_bind$3 === undefined) {\n      entry$2.psl = psl;\n      moonbitlang$core$builtin$$Map$set_entry$2$(self, entry$2, idx$2);\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _curr_entry = _Some;\n      if (psl > _curr_entry.psl) {\n        entry$2.psl = psl;\n        moonbitlang$core$builtin$$Map$set_entry$2$(self, entry$2, idx$2);\n        _tmp = _curr_entry.psl + 1 | 0;\n        _tmp$2 = idx$2 + 1 & self.capacity_mask;\n        _tmp$3 = _curr_entry;\n        continue;\n      } else {\n        _tmp = psl + 1 | 0;\n        _tmp$2 = idx$2 + 1 & self.capacity_mask;\n        continue;\n      }\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$set_with_hash$3$(self, key, value, hash) {\n  if (self.size >= self.grow_at) {\n    moonbitlang$core$builtin$$Map$grow$3$(self);\n  }\n  let _bind$3;\n  let _tmp = 0;\n  let _tmp$2 = hash & self.capacity_mask;\n  while (true) {\n    const psl = _tmp;\n    const idx = _tmp$2;\n    const _tmp$3 = self.entries;\n    $bound_check(_tmp$3, idx);\n    const _bind$4 = _tmp$3[idx];\n    if (_bind$4 === undefined) {\n      _bind$3 = { _0: idx, _1: psl };\n      break;\n    } else {\n      const _Some = _bind$4;\n      const _curr_entry = _Some;\n      if (_curr_entry.hash === hash && _curr_entry.key === key) {\n        _curr_entry.value = value;\n        return undefined;\n      }\n      if (psl > _curr_entry.psl) {\n        moonbitlang$core$builtin$$Map$push_away$3$(self, idx, _curr_entry);\n        _bind$3 = { _0: idx, _1: psl };\n        break;\n      }\n      _tmp = psl + 1 | 0;\n      _tmp$2 = idx + 1 & self.capacity_mask;\n      continue;\n    }\n  }\n  const _idx = _bind$3._0;\n  const _psl = _bind$3._1;\n  const _bind$4 = self.tail;\n  const _bind$5 = undefined;\n  const entry = { prev: _bind$4, next: _bind$5, psl: _psl, hash: hash, key: key, value: value };\n  moonbitlang$core$builtin$$Map$add_entry_to_tail$3$(self, _idx, entry);\n}\nfunction moonbitlang$core$builtin$$Map$set_with_hash$2$(self, key, value, hash) {\n  if (self.size >= self.grow_at) {\n    moonbitlang$core$builtin$$Map$grow$2$(self);\n  }\n  let _bind$3;\n  let _tmp = 0;\n  let _tmp$2 = hash & self.capacity_mask;\n  while (true) {\n    const psl = _tmp;\n    const idx = _tmp$2;\n    const _tmp$3 = self.entries;\n    $bound_check(_tmp$3, idx);\n    const _bind$4 = _tmp$3[idx];\n    if (_bind$4 === undefined) {\n      _bind$3 = { _0: idx, _1: psl };\n      break;\n    } else {\n      const _Some = _bind$4;\n      const _curr_entry = _Some;\n      if (_curr_entry.hash === hash && _curr_entry.key === key) {\n        _curr_entry.value = value;\n        return undefined;\n      }\n      if (psl > _curr_entry.psl) {\n        moonbitlang$core$builtin$$Map$push_away$2$(self, idx, _curr_entry);\n        _bind$3 = { _0: idx, _1: psl };\n        break;\n      }\n      _tmp = psl + 1 | 0;\n      _tmp$2 = idx + 1 & self.capacity_mask;\n      continue;\n    }\n  }\n  const _idx = _bind$3._0;\n  const _psl = _bind$3._1;\n  const _bind$4 = self.tail;\n  const _bind$5 = undefined;\n  const entry = { prev: _bind$4, next: _bind$5, psl: _psl, hash: hash, key: key, value: value };\n  moonbitlang$core$builtin$$Map$add_entry_to_tail$2$(self, _idx, entry);\n}\nfunction moonbitlang$core$builtin$$Map$grow$3$(self) {\n  const old_head = self.head;\n  const new_capacity = self.capacity << 1;\n  self.entries = $make_array_len_and_init(new_capacity, undefined);\n  self.capacity = new_capacity;\n  self.capacity_mask = new_capacity - 1 | 0;\n  const _p = self.capacity;\n  self.grow_at = (Math.imul(_p, 13) | 0) / 16 | 0;\n  self.size = 0;\n  self.head = undefined;\n  self.tail = -1;\n  let _tmp = old_head;\n  while (true) {\n    const _param = _tmp;\n    if (_param === undefined) {\n      return;\n    } else {\n      const _Some = _param;\n      const _x = _Some;\n      const _next = _x.next;\n      const _key = _x.key;\n      const _value = _x.value;\n      const _hash = _x.hash;\n      moonbitlang$core$builtin$$Map$set_with_hash$3$(self, _key, _value, _hash);\n      _tmp = _next;\n      continue;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$grow$2$(self) {\n  const old_head = self.head;\n  const new_capacity = self.capacity << 1;\n  self.entries = $make_array_len_and_init(new_capacity, undefined);\n  self.capacity = new_capacity;\n  self.capacity_mask = new_capacity - 1 | 0;\n  const _p = self.capacity;\n  self.grow_at = (Math.imul(_p, 13) | 0) / 16 | 0;\n  self.size = 0;\n  self.head = undefined;\n  self.tail = -1;\n  let _tmp = old_head;\n  while (true) {\n    const _param = _tmp;\n    if (_param === undefined) {\n      return;\n    } else {\n      const _Some = _param;\n      const _x = _Some;\n      const _next = _x.next;\n      const _key = _x.key;\n      const _value = _x.value;\n      const _hash = _x.hash;\n      moonbitlang$core$builtin$$Map$set_with_hash$2$(self, _key, _value, _hash);\n      _tmp = _next;\n      continue;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$set$3$(self, key, value) {\n  moonbitlang$core$builtin$$Map$set_with_hash$3$(self, key, value, moonbitlang$core$builtin$$Hash$hash$22$(key));\n}\nfunction moonbitlang$core$builtin$$Map$set$2$(self, key, value) {\n  moonbitlang$core$builtin$$Map$set_with_hash$2$(self, key, value, moonbitlang$core$builtin$$Hash$hash$22$(key));\n}\nfunction moonbitlang$core$builtin$$Map$from_array$2$(arr) {\n  const length = arr.end - arr.start | 0;\n  let capacity = moonbitlang$core$int$$Int$next_power_of_two(length);\n  const _p = capacity;\n  if (length > ((Math.imul(_p, 13) | 0) / 16 | 0)) {\n    capacity = Math.imul(capacity, 2) | 0;\n  }\n  const m = moonbitlang$core$builtin$$Map$new$46$inner$2$(capacity);\n  const _len = arr.end - arr.start | 0;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const e = arr.buf[arr.start + _i | 0];\n      moonbitlang$core$builtin$$Map$set$2$(m, e._0, e._1);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return m;\n}\nfunction moonbitlang$core$builtin$$Map$from_array$3$(arr) {\n  const length = arr.end - arr.start | 0;\n  let capacity = moonbitlang$core$int$$Int$next_power_of_two(length);\n  const _p = capacity;\n  if (length > ((Math.imul(_p, 13) | 0) / 16 | 0)) {\n    capacity = Math.imul(capacity, 2) | 0;\n  }\n  const m = moonbitlang$core$builtin$$Map$new$46$inner$3$(capacity);\n  const _len = arr.end - arr.start | 0;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const e = arr.buf[arr.start + _i | 0];\n      moonbitlang$core$builtin$$Map$set$3$(m, e._0, e._1);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return m;\n}\nfunction moonbitlang$core$builtin$$Map$get$2$(self, key) {\n  const hash = moonbitlang$core$builtin$$Hash$hash$22$(key);\n  let _tmp = 0;\n  let _tmp$2 = hash & self.capacity_mask;\n  while (true) {\n    const i = _tmp;\n    const idx = _tmp$2;\n    const _tmp$3 = self.entries;\n    $bound_check(_tmp$3, idx);\n    const _bind$3 = _tmp$3[idx];\n    if (_bind$3 === undefined) {\n      return -1;\n    } else {\n      const _Some = _bind$3;\n      const _entry = _Some;\n      if (_entry.hash === hash && _entry.key === key) {\n        return _entry.value;\n      }\n      if (i > _entry.psl) {\n        return -1;\n      }\n      _tmp = i + 1 | 0;\n      _tmp$2 = idx + 1 & self.capacity_mask;\n      continue;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$get$3$(self, key) {\n  const hash = moonbitlang$core$builtin$$Hash$hash$22$(key);\n  let _tmp = 0;\n  let _tmp$2 = hash & self.capacity_mask;\n  while (true) {\n    const i = _tmp;\n    const idx = _tmp$2;\n    const _tmp$3 = self.entries;\n    $bound_check(_tmp$3, idx);\n    const _bind$3 = _tmp$3[idx];\n    if (_bind$3 === undefined) {\n      return Option$None$2$;\n    } else {\n      const _Some = _bind$3;\n      const _entry = _Some;\n      if (_entry.hash === hash && _entry.key === key) {\n        return new Option$Some$2$(_entry.value);\n      }\n      if (i > _entry.psl) {\n        return Option$None$2$;\n      }\n      _tmp = i + 1 | 0;\n      _tmp$2 = idx + 1 & self.capacity_mask;\n      continue;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$remove_entry$2$(self, entry) {\n  const _bind$3 = entry.prev;\n  if (_bind$3 === -1) {\n    self.head = entry.next;\n  } else {\n    const _tmp = self.entries;\n    $bound_check(_tmp, _bind$3);\n    const _p = _tmp[_bind$3];\n    let _tmp$2;\n    if (_p === undefined) {\n      _tmp$2 = $panic();\n    } else {\n      const _p$2 = _p;\n      _tmp$2 = _p$2;\n    }\n    const _tmp$3 = _tmp$2;\n    _tmp$3.next = entry.next;\n  }\n  const _bind$4 = entry.next;\n  if (_bind$4 === undefined) {\n    self.tail = entry.prev;\n    return;\n  } else {\n    const _Some = _bind$4;\n    const _next = _Some;\n    _next.prev = entry.prev;\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Map$shift_back$2$(self, idx) {\n  let _tmp = idx;\n  while (true) {\n    const idx$2 = _tmp;\n    const next = idx$2 + 1 & self.capacity_mask;\n    _L: {\n      const _tmp$2 = self.entries;\n      $bound_check(_tmp$2, next);\n      const _bind$3 = _tmp$2[next];\n      if (_bind$3 === undefined) {\n        break _L;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        const _x$2 = _x.psl;\n        if (_x$2 === 0) {\n          break _L;\n        } else {\n          _x.psl = _x.psl - 1 | 0;\n          moonbitlang$core$builtin$$Map$set_entry$2$(self, _x, idx$2);\n          _tmp = next;\n          continue;\n        }\n      }\n    }\n    const _tmp$2 = self.entries;\n    $bound_check(_tmp$2, idx$2);\n    _tmp$2[idx$2] = undefined;\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Map$remove_with_hash$2$(self, key, hash) {\n  let _tmp = 0;\n  let _tmp$2 = hash & self.capacity_mask;\n  while (true) {\n    const i = _tmp;\n    const idx = _tmp$2;\n    const _tmp$3 = self.entries;\n    $bound_check(_tmp$3, idx);\n    const _bind$3 = _tmp$3[idx];\n    if (_bind$3 === undefined) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _entry = _Some;\n      if (_entry.hash === hash && _entry.key === key) {\n        moonbitlang$core$builtin$$Map$remove_entry$2$(self, _entry);\n        moonbitlang$core$builtin$$Map$shift_back$2$(self, idx);\n        self.size = self.size - 1 | 0;\n        break;\n      }\n      if (i > _entry.psl) {\n        break;\n      }\n      _tmp = i + 1 | 0;\n      _tmp$2 = idx + 1 & self.capacity_mask;\n      continue;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Map$remove$2$(self, key) {\n  moonbitlang$core$builtin$$Map$remove_with_hash$2$(self, key, moonbitlang$core$builtin$$Hash$hash$22$(key));\n}\nfunction moonbitlang$core$array$$FixedArray$fill$46$inner$41$(self, value, start, end) {\n  const array_length = self.length;\n  if (array_length > 0) {\n    if (start >= 0 && start < array_length) {\n      let length;\n      if (end === undefined) {\n        length = array_length - start | 0;\n      } else {\n        const _Some = end;\n        const _e = _Some;\n        length = _e >= start && _e <= array_length ? _e - start | 0 : $panic();\n      }\n      self.fill(value, start, start + length);\n      return;\n    } else {\n      $panic();\n      return;\n    }\n  } else {\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Map$clear$2$(self) {\n  moonbitlang$core$array$$FixedArray$fill$46$inner$41$(self.entries, undefined, 0, undefined);\n  self.size = 0;\n  self.head = undefined;\n  self.tail = -1;\n}\nfunction moonbitlang$core$builtin$$Iter2$next$28$(self) {\n  return moonbitlang$core$builtin$$Iter$next$37$(self);\n}\nfunction moonbitlang$core$builtin$$Hasher$combine_string(self, value) {\n  const _end2373 = value.length;\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < _end2373) {\n      moonbitlang$core$builtin$$Hasher$combine_uint(self, value.charCodeAt(i));\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Hash$hash_combine$5$(self, hasher) {\n  moonbitlang$core$builtin$$Hasher$combine_string(hasher, self);\n}\nfunction moonbitlang$core$array$$Array$make$16$(len, elem) {\n  const arr = new Array(len);\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < len) {\n      arr[i] = elem;\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return arr;\n}\nfunction moonbitlang$core$array$$Array$set$16$(self, index, value) {\n  const len = self.length;\n  if (index >= 0 && index < len) {\n    $bound_check(self, index);\n    self[index] = value;\n    return;\n  } else {\n    $panic();\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$Show$output$42$(self, logger) {\n  const pkg = self.pkg;\n  const _data = pkg.str;\n  const _start = pkg.start;\n  const _end = _start + (pkg.end - pkg.start | 0) | 0;\n  let _cursor = _start;\n  let accept_state = -1;\n  let match_end = -1;\n  let match_tag_saver_0 = -1;\n  let tag_0 = -1;\n  let _bind$3;\n  _L: {\n    _L$2: {\n      _L$3: while (true) {\n        if (_cursor < _end) {\n          _L$4: {\n            _L$5: {\n              const _p = _cursor;\n              const next_char = _data.charCodeAt(_p);\n              _cursor = _cursor + 1 | 0;\n              if (next_char < 55296) {\n                if (next_char < 47) {\n                  break _L$5;\n                } else {\n                  if (next_char > 47) {\n                    break _L$5;\n                  } else {\n                    _L$6: while (true) {\n                      tag_0 = _cursor;\n                      if (_cursor < _end) {\n                        _L$7: {\n                          const _p$2 = _cursor;\n                          const next_char$2 = _data.charCodeAt(_p$2);\n                          _cursor = _cursor + 1 | 0;\n                          if (next_char$2 < 55296) {\n                            if (next_char$2 < 47) {\n                              break _L$7;\n                            } else {\n                              if (next_char$2 > 47) {\n                                break _L$7;\n                              } else {\n                                while (true) {\n                                  if (_cursor < _end) {\n                                    _L$8: {\n                                      const _p$3 = _cursor;\n                                      const next_char$3 = _data.charCodeAt(_p$3);\n                                      _cursor = _cursor + 1 | 0;\n                                      if (next_char$3 < 56319) {\n                                        if (next_char$3 < 55296) {\n                                          break _L$8;\n                                        } else {\n                                          if (_cursor < _end) {\n                                            const _p$4 = _cursor;\n                                            const next_char$4 = _data.charCodeAt(_p$4);\n                                            _cursor = _cursor + 1 | 0;\n                                            if (next_char$4 < 56320) {\n                                              break _L$2;\n                                            } else {\n                                              if (next_char$4 > 65535) {\n                                                break _L$2;\n                                              } else {\n                                                continue;\n                                              }\n                                            }\n                                          } else {\n                                            break _L$2;\n                                          }\n                                        }\n                                      } else {\n                                        if (next_char$3 > 56319) {\n                                          if (next_char$3 < 65536) {\n                                            break _L$8;\n                                          } else {\n                                            break _L$2;\n                                          }\n                                        } else {\n                                          if (_cursor < _end) {\n                                            const _p$4 = _cursor;\n                                            const next_char$4 = _data.charCodeAt(_p$4);\n                                            _cursor = _cursor + 1 | 0;\n                                            if (next_char$4 < 56320) {\n                                              break _L$2;\n                                            } else {\n                                              if (next_char$4 > 57343) {\n                                                break _L$2;\n                                              } else {\n                                                continue;\n                                              }\n                                            }\n                                          } else {\n                                            break _L$2;\n                                          }\n                                        }\n                                      }\n                                    }\n                                    continue;\n                                  } else {\n                                    match_tag_saver_0 = tag_0;\n                                    accept_state = 0;\n                                    match_end = _cursor;\n                                    break _L$2;\n                                  }\n                                }\n                              }\n                            }\n                          } else {\n                            if (next_char$2 > 56318) {\n                              if (next_char$2 < 57344) {\n                                if (_cursor < _end) {\n                                  const _p$3 = _cursor;\n                                  const next_char$3 = _data.charCodeAt(_p$3);\n                                  _cursor = _cursor + 1 | 0;\n                                  if (next_char$3 < 56320) {\n                                    break _L$2;\n                                  } else {\n                                    if (next_char$3 > 57343) {\n                                      break _L$2;\n                                    } else {\n                                      continue;\n                                    }\n                                  }\n                                } else {\n                                  break _L$2;\n                                }\n                              } else {\n                                if (next_char$2 > 65535) {\n                                  break _L$2;\n                                } else {\n                                  break _L$7;\n                                }\n                              }\n                            } else {\n                              if (_cursor < _end) {\n                                const _p$3 = _cursor;\n                                const next_char$3 = _data.charCodeAt(_p$3);\n                                _cursor = _cursor + 1 | 0;\n                                if (next_char$3 < 56320) {\n                                  break _L$2;\n                                } else {\n                                  if (next_char$3 > 65535) {\n                                    break _L$2;\n                                  } else {\n                                    continue;\n                                  }\n                                }\n                              } else {\n                                break _L$2;\n                              }\n                            }\n                          }\n                        }\n                        continue;\n                      } else {\n                        break _L$2;\n                      }\n                    }\n                  }\n                }\n              } else {\n                if (next_char > 56318) {\n                  if (next_char < 57344) {\n                    if (_cursor < _end) {\n                      const _p$2 = _cursor;\n                      const next_char$2 = _data.charCodeAt(_p$2);\n                      _cursor = _cursor + 1 | 0;\n                      if (next_char$2 < 56320) {\n                        break _L$2;\n                      } else {\n                        if (next_char$2 > 57343) {\n                          break _L$2;\n                        } else {\n                          continue;\n                        }\n                      }\n                    } else {\n                      break _L$2;\n                    }\n                  } else {\n                    if (next_char > 65535) {\n                      break _L$2;\n                    } else {\n                      break _L$5;\n                    }\n                  }\n                } else {\n                  if (_cursor < _end) {\n                    const _p$2 = _cursor;\n                    const next_char$2 = _data.charCodeAt(_p$2);\n                    _cursor = _cursor + 1 | 0;\n                    if (next_char$2 < 56320) {\n                      break _L$2;\n                    } else {\n                      if (next_char$2 > 65535) {\n                        break _L$2;\n                      } else {\n                        continue;\n                      }\n                    }\n                  } else {\n                    break _L$2;\n                  }\n                }\n              }\n              break _L$4;\n            }\n            continue;\n          }\n        } else {\n          break _L$2;\n        }\n      }\n      break _L;\n    }\n    if (accept_state === 0) {\n      let package_name;\n      let _try_err;\n      _L$3: {\n        _L$4: {\n          const _bind$4 = moonbitlang$core$string$$String$sub(_data, match_tag_saver_0 + 1 | 0, match_end);\n          if (_bind$4.$tag === 1) {\n            const _ok = _bind$4;\n            package_name = _ok._0;\n          } else {\n            const _err = _bind$4;\n            const _tmp = _err._0;\n            _try_err = _tmp;\n            break _L$4;\n          }\n          break _L$3;\n        }\n        package_name = $panic();\n      }\n      let module_name;\n      let _try_err$2;\n      _L$4: {\n        _L$5: {\n          const _bind$4 = moonbitlang$core$string$$String$sub(_data, _start, match_tag_saver_0);\n          if (_bind$4.$tag === 1) {\n            const _ok = _bind$4;\n            module_name = _ok._0;\n          } else {\n            const _err = _bind$4;\n            const _tmp = _err._0;\n            _try_err$2 = _tmp;\n            break _L$5;\n          }\n          break _L$4;\n        }\n        module_name = $panic();\n      }\n      _bind$3 = { _0: module_name, _1: package_name };\n    } else {\n      _bind$3 = { _0: pkg, _1: undefined };\n    }\n  }\n  const _module_name = _bind$3._0;\n  const _package_name = _bind$3._1;\n  if (_package_name === undefined) {\n  } else {\n    const _Some = _package_name;\n    const _pkg_name = _Some;\n    logger.method_table.method_2(logger.self, _pkg_name);\n    logger.method_table.method_3(logger.self, 47);\n  }\n  logger.method_table.method_2(logger.self, self.filename);\n  logger.method_table.method_3(logger.self, 58);\n  logger.method_table.method_2(logger.self, self.start_line);\n  logger.method_table.method_3(logger.self, 58);\n  logger.method_table.method_2(logger.self, self.start_column);\n  logger.method_table.method_3(logger.self, 45);\n  logger.method_table.method_2(logger.self, self.end_line);\n  logger.method_table.method_3(logger.self, 58);\n  logger.method_table.method_2(logger.self, self.end_column);\n  logger.method_table.method_3(logger.self, 64);\n  logger.method_table.method_2(logger.self, _module_name);\n}\nfunction moonbitlang$core$builtin$$Show$output$26$(self, logger) {\n  moonbitlang$core$builtin$$Show$output$42$(moonbitlang$core$builtin$$SourceLocRepr$parse(self), logger);\n}\nfunction moonbitlang$core$array$$Array$unsafe_truncate_to_length$14$(self, new_len) {\n  moonbitlang$core$builtin$$JSArray$set_length(self, new_len);\n}\nfunction moonbitlang$core$array$$Array$unsafe_truncate_to_length$15$(self, new_len) {\n  moonbitlang$core$builtin$$JSArray$set_length(self, new_len);\n}\nfunction moonbitlang$core$array$$Array$unsafe_pop$19$(self) {\n  return moonbitlang$core$builtin$$JSArray$pop(self);\n}\nfunction moonbitlang$core$array$$Array$pop$19$(self) {\n  if (self.length === 0) {\n    return undefined;\n  } else {\n    const v = moonbitlang$core$array$$Array$unsafe_pop$19$(self);\n    return v;\n  }\n}\nfunction moonbitlang$core$array$$Array$remove$5$(self, index) {\n  if (index >= 0 && index < self.length) {\n    $bound_check(self, index);\n    const value = self[index];\n    moonbitlang$core$builtin$$JSArray$splice(self, index, 1);\n    return value;\n  } else {\n    return moonbitlang$core$builtin$$abort$5$(`index out of bounds: the len is from 0 to ${moonbitlang$core$builtin$$Show$to_string$27$(self.length)} but the index is ${moonbitlang$core$builtin$$Show$to_string$27$(index)}`, \"@moonbitlang/core/builtin:arraycore_js.mbt:251:5-253:6\");\n  }\n}\nfunction moonbitlang$core$array$$Array$copy$9$(self) {\n  return moonbitlang$core$builtin$$JSArray$copy(self);\n}\nfunction moonbitlang$core$array$$MutArrayView$swap$9$(arr, i, j) {\n  const temp = moonbitlang$core$array$$MutArrayView$at$9$(arr, i);\n  moonbitlang$core$array$$MutArrayView$set$9$(arr, i, moonbitlang$core$array$$MutArrayView$at$9$(arr, j));\n  moonbitlang$core$array$$MutArrayView$set$9$(arr, j, temp);\n}\nfunction moonbitlang$core$array$$MutArrayView$slice$9$(arr, start, end) {\n  return moonbitlang$core$array$$MutArrayView$mut_view$46$inner$9$(arr, start, end);\n}\nfunction moonbitlang$core$array$$MutArrayView$rev_in_place$9$(arr) {\n  const len = arr.end - arr.start | 0;\n  const mid_len = len / 2 | 0;\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < mid_len) {\n      const j = (len - i | 0) - 1 | 0;\n      const temp = moonbitlang$core$array$$MutArrayView$at$9$(arr, i);\n      moonbitlang$core$array$$MutArrayView$set$9$(arr, i, moonbitlang$core$array$$MutArrayView$at$9$(arr, j));\n      moonbitlang$core$array$$MutArrayView$set$9$(arr, j, temp);\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_get_limit(len) {\n  let len$2 = len;\n  let limit = 0;\n  while (true) {\n    if (len$2 > 0) {\n      len$2 = len$2 / 2 | 0;\n      limit = limit + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return limit;\n}\nfunction moonbitlang$core$builtin$$fixed_bubble_sort_by$9$(arr, cmp) {\n  const _end538 = arr.end - arr.start | 0;\n  let _tmp = 1;\n  while (true) {\n    const i = _tmp;\n    if (i < _end538) {\n      let _tmp$2 = i;\n      while (true) {\n        const j = _tmp$2;\n        if (j > 0 && cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, j - 1 | 0), moonbitlang$core$array$$MutArrayView$at$9$(arr, j)) > 0) {\n          moonbitlang$core$array$$MutArrayView$swap$9$(arr, j, j - 1 | 0);\n          _tmp$2 = j - 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_2$47$930(_env, a, b) {\n  const arr = _env._2;\n  const swaps = _env._1;\n  const cmp = _env._0;\n  if (cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, a), moonbitlang$core$array$$MutArrayView$at$9$(arr, b)) > 0) {\n    moonbitlang$core$array$$MutArrayView$swap$9$(arr, a, b);\n    swaps.val = swaps.val + 1 | 0;\n    return;\n  } else {\n    return;\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_3$47$931(_env, a, b, c) {\n  moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_2$47$930(_env, a, b);\n  moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_2$47$930(_env, b, c);\n  moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_2$47$930(_env, a, b);\n}\nfunction moonbitlang$core$builtin$$fixed_choose_pivot_by$9$(arr, cmp) {\n  const len = arr.end - arr.start | 0;\n  const swaps = { val: 0 };\n  const b = Math.imul(len / 4 | 0, 2) | 0;\n  if (len >= 8) {\n    const a = Math.imul(len / 4 | 0, 1) | 0;\n    const c = Math.imul(len / 4 | 0, 3) | 0;\n    const _env = { _0: cmp, _1: swaps, _2: arr };\n    if (len > 50) {\n      moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_3$47$931(_env, a - 1 | 0, a, a + 1 | 0);\n      moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_3$47$931(_env, b - 1 | 0, b, b + 1 | 0);\n      moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_3$47$931(_env, c - 1 | 0, c, c + 1 | 0);\n    }\n    moonbitlang$core$builtin$$fixed_choose_pivot_by$46$sort_3$47$931(_env, a, b, c);\n  }\n  if (swaps.val === 12) {\n    moonbitlang$core$array$$MutArrayView$rev_in_place$9$(arr);\n    return { _0: (len - b | 0) - 1 | 0, _1: true };\n  } else {\n    return { _0: b, _1: swaps.val === 0 };\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_sift_down_by$9$(arr, index, cmp) {\n  let index$2 = index;\n  const len = arr.end - arr.start | 0;\n  let child = (Math.imul(index$2, 2) | 0) + 1 | 0;\n  while (true) {\n    if (child < len) {\n      if ((child + 1 | 0) < len && cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, child), moonbitlang$core$array$$MutArrayView$at$9$(arr, child + 1 | 0)) < 0) {\n        child = child + 1 | 0;\n      }\n      if (cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, index$2), moonbitlang$core$array$$MutArrayView$at$9$(arr, child)) >= 0) {\n        return undefined;\n      }\n      moonbitlang$core$array$$MutArrayView$swap$9$(arr, index$2, child);\n      index$2 = child;\n      child = (Math.imul(index$2, 2) | 0) + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_heap_sort_by$9$(arr, cmp) {\n  const len = arr.end - arr.start | 0;\n  let _tmp = (len / 2 | 0) - 1 | 0;\n  while (true) {\n    const i = _tmp;\n    if (i >= 0) {\n      moonbitlang$core$builtin$$fixed_sift_down_by$9$(arr, i, cmp);\n      _tmp = i - 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  let _tmp$2 = len - 1 | 0;\n  while (true) {\n    const i = _tmp$2;\n    if (i > 0) {\n      moonbitlang$core$array$$MutArrayView$swap$9$(arr, 0, i);\n      moonbitlang$core$builtin$$fixed_sift_down_by$9$(moonbitlang$core$array$$MutArrayView$slice$9$(arr, 0, i), 0, cmp);\n      _tmp$2 = i - 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$fixed_partition_by$9$(arr, cmp, pivot_index) {\n  moonbitlang$core$array$$MutArrayView$swap$9$(arr, pivot_index, (arr.end - arr.start | 0) - 1 | 0);\n  const pivot = moonbitlang$core$array$$MutArrayView$at$9$(arr, (arr.end - arr.start | 0) - 1 | 0);\n  let i = 0;\n  let partitioned = true;\n  const _end527 = (arr.end - arr.start | 0) - 1 | 0;\n  let _tmp = 0;\n  while (true) {\n    const j = _tmp;\n    if (j < _end527) {\n      if (cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, j), pivot) < 0) {\n        if (i !== j) {\n          moonbitlang$core$array$$MutArrayView$swap$9$(arr, i, j);\n          partitioned = false;\n        }\n        i = i + 1 | 0;\n      }\n      _tmp = j + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  moonbitlang$core$array$$MutArrayView$swap$9$(arr, i, (arr.end - arr.start | 0) - 1 | 0);\n  return { _0: i, _1: partitioned };\n}\nfunction moonbitlang$core$builtin$$fixed_try_bubble_sort_by$9$(arr, cmp) {\n  let tries = 0;\n  const _end548 = arr.end - arr.start | 0;\n  let _tmp = 1;\n  while (true) {\n    const i = _tmp;\n    if (i < _end548) {\n      let sorted = true;\n      let _tmp$2 = i;\n      while (true) {\n        const j = _tmp$2;\n        if (j > 0 && cmp(moonbitlang$core$array$$MutArrayView$at$9$(arr, j - 1 | 0), moonbitlang$core$array$$MutArrayView$at$9$(arr, j)) > 0) {\n          sorted = false;\n          moonbitlang$core$array$$MutArrayView$swap$9$(arr, j, j - 1 | 0);\n          _tmp$2 = j - 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      if (!sorted) {\n        tries = tries + 1 | 0;\n        if (tries > 8) {\n          return false;\n        }\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return true;\n}\nfunction moonbitlang$core$builtin$$fixed_quick_sort_by$9$(arr, cmp, pred, limit) {\n  let limit$2 = limit;\n  let arr$2 = arr;\n  let pred$2 = pred;\n  let was_partitioned = true;\n  let balanced = true;\n  while (true) {\n    const _p = arr$2;\n    const len = _p.end - _p.start | 0;\n    if (len <= 16) {\n      if (len >= 2) {\n        moonbitlang$core$builtin$$fixed_bubble_sort_by$9$(arr$2, cmp);\n      }\n      return undefined;\n    }\n    if (limit$2 === 0) {\n      moonbitlang$core$builtin$$fixed_heap_sort_by$9$(arr$2, cmp);\n      return undefined;\n    }\n    const _bind$3 = moonbitlang$core$builtin$$fixed_choose_pivot_by$9$(arr$2, cmp);\n    const _pivot_index = _bind$3._0;\n    const _likely_sorted = _bind$3._1;\n    if (was_partitioned && (balanced && _likely_sorted)) {\n      if (moonbitlang$core$builtin$$fixed_try_bubble_sort_by$9$(arr$2, cmp)) {\n        return undefined;\n      }\n    }\n    const _bind$4 = moonbitlang$core$builtin$$fixed_partition_by$9$(arr$2, cmp, _pivot_index);\n    const _pivot = _bind$4._0;\n    const _partitioned = _bind$4._1;\n    was_partitioned = _partitioned;\n    const _p$2 = len - _pivot | 0;\n    balanced = (_pivot > _p$2 ? _p$2 : _pivot) >= (len / 8 | 0);\n    if (!balanced) {\n      limit$2 = limit$2 - 1 | 0;\n    }\n    const _bind$5 = pred$2;\n    if (_bind$5 === undefined) {\n    } else {\n      const _Some = _bind$5;\n      const _pred = _Some;\n      if (cmp(_pred, moonbitlang$core$array$$MutArrayView$at$9$(arr$2, _pivot)) === 0) {\n        let i = _pivot;\n        while (true) {\n          if (i < len && cmp(_pred, moonbitlang$core$array$$MutArrayView$at$9$(arr$2, i)) === 0) {\n            i = i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        arr$2 = moonbitlang$core$array$$MutArrayView$slice$9$(arr$2, i, len);\n        continue;\n      }\n    }\n    const left = moonbitlang$core$array$$MutArrayView$slice$9$(arr$2, 0, _pivot);\n    const right = moonbitlang$core$array$$MutArrayView$slice$9$(arr$2, _pivot + 1 | 0, len);\n    if ((left.end - left.start | 0) < (right.end - right.start | 0)) {\n      moonbitlang$core$builtin$$fixed_quick_sort_by$9$(left, cmp, pred$2, limit$2);\n      pred$2 = moonbitlang$core$array$$MutArrayView$at$9$(arr$2, _pivot);\n      arr$2 = right;\n    } else {\n      moonbitlang$core$builtin$$fixed_quick_sort_by$9$(right, cmp, moonbitlang$core$array$$MutArrayView$at$9$(arr$2, _pivot), limit$2);\n      arr$2 = left;\n    }\n    continue;\n  }\n}\nfunction moonbitlang$core$array$$MutArrayView$sort_by$9$(self, cmp) {\n  moonbitlang$core$builtin$$fixed_quick_sort_by$9$(self, cmp, undefined, moonbitlang$core$builtin$$fixed_get_limit(self.end - self.start | 0));\n}\nfunction moonbitlang$core$array$$Array$sort_by$9$(self, cmp) {\n  moonbitlang$core$array$$MutArrayView$sort_by$9$(moonbitlang$core$array$$Array$mut_view$46$inner$9$(self, 0, undefined), cmp);\n}\nfunction moonbitlang$core$array$$Array$clear$14$(self) {\n  moonbitlang$core$array$$Array$unsafe_truncate_to_length$14$(self, 0);\n}\nfunction moonbitlang$core$array$$Array$clear$15$(self) {\n  moonbitlang$core$array$$Array$unsafe_truncate_to_length$15$(self, 0);\n}\nfunction moonbitlang$core$array$$Array$last$19$(self) {\n  if (self.length === 0) {\n    return undefined;\n  } else {\n    const _last = self[self.length - 1 | 0];\n    return _last;\n  }\n}\nfunction mizchi$js$core$$identity_option$32$(v) {\n  return mizchi$js$core$$is_nullish(v) ? Option$None$3$ : new Option$Some$3$(v);\n}\nfunction mizchi$js$browser$dom$$Node$nodeType(self) {\n  return mizchi$js$core$$Any$_get(self, \"nodeType\");\n}\nfunction mizchi$js$browser$dom$$Node$parentNode(self) {\n  const v = mizchi$js$core$$Any$_get(self, \"parentNode\");\n  return mizchi$js$core$$identity_option$32$(v);\n}\nfunction mizchi$js$browser$dom$$Node$firstChild(self) {\n  const v = mizchi$js$core$$Any$_get(self, \"firstChild\");\n  return mizchi$js$core$$identity_option$32$(v);\n}\nfunction mizchi$js$browser$dom$$Node$appendChild(self, child) {\n  return mizchi$js$core$$Any$_call(self, \"appendChild\", [child]);\n}\nfunction mizchi$js$browser$dom$$Node$removeChild(self, child) {\n  return mizchi$js$core$$Any$_call(self, \"removeChild\", [child]);\n}\nfunction mizchi$js$browser$dom$$Node$insertBefore(self, new_node, ref_node) {\n  if (ref_node.$tag === 1) {\n    const _Some = ref_node;\n    const _node = _Some._0;\n    return mizchi$js$core$$Any$_call(self, \"insertBefore\", [new_node, _node]);\n  } else {\n    return mizchi$js$core$$Any$_call(self, \"insertBefore\", [new_node, mizchi$js$core$$null()]);\n  }\n}\nfunction mizchi$js$browser$dom$$Node$setTextContent(self, content) {\n  mizchi$js$core$$Any$_set(self, \"textContent\", content);\n}\nfunction mizchi$js$browser$dom$$FormEvent$preventDefault(self) {\n  mizchi$js$core$$Any$_call(self, \"preventDefault\", []);\n}\nfunction mizchi$js$browser$dom$$InputEvent$target(self) {\n  return mizchi$js$core$$Any$_get(self, \"target\");\n}\nfunction mizchi$js$browser$dom$$Element$setClassName(self, class_name) {\n  mizchi$js$core$$Any$_set(self, \"className\", class_name);\n}\nfunction mizchi$js$browser$dom$$Element$setAttribute(self, name, value) {\n  mizchi$js$core$$Any$_call(self, \"setAttribute\", [name, value]);\n}\nfunction mizchi$js$browser$dom$$Element$removeAttribute(self, name) {\n  mizchi$js$core$$Any$_call(self, \"removeAttribute\", [name]);\n}\nfunction mizchi$js$browser$dom$$Document$createDocumentFragment(self) {\n  return mizchi$js$core$$Any$_call(self, \"createDocumentFragment\", []);\n}\nfunction mizchi$js$browser$dom$$Document$createComment(self, data) {\n  return mizchi$js$core$$Any$_call(self, \"createComment\", [data]);\n}\nfunction mizchi$luna$luna$signal$$new_effect_id() {\n  const id = mizchi$luna$luna$signal$$effect_id_counter.val;\n  mizchi$luna$luna$signal$$effect_id_counter.val = id + 1 | 0;\n  return id;\n}\nfunction mizchi$luna$luna$signal$$run_cleanups(cleanups) {\n  let _tmp = cleanups.length - 1 | 0;\n  while (true) {\n    const i = _tmp;\n    if (i >= 0) {\n      const _func = moonbitlang$core$array$$Array$at$15$(cleanups, i);\n      _func();\n      _tmp = i - 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  moonbitlang$core$array$$Array$clear$15$(cleanups);\n}\nfunction mizchi$luna$luna$signal$$set_current_cleanups(cleanups) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_cleanups;\n  mizchi$luna$luna$signal$$reactive_context.current_cleanups = cleanups;\n  return prev;\n}\nfunction mizchi$luna$luna$signal$$run_with_cleanup_tracking$6$(cleanups, f) {\n  const prev = mizchi$luna$luna$signal$$set_current_cleanups(new Option$Some$0$(cleanups));\n  f();\n  mizchi$luna$luna$signal$$reactive_context.current_cleanups = prev;\n}\nfunction mizchi$luna$luna$signal$$run_with_subscriber$6$(subscriber, f) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_subscriber;\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = subscriber;\n  f();\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = prev;\n}\nfunction mizchi$luna$luna$signal$$create_effect_runner(fn_, state) {\n  const id = mizchi$luna$luna$signal$$new_effect_id();\n  const runner_ref = { val: undefined };\n  const run_effect = () => {\n    if (!state.active) {\n      return undefined;\n    }\n    mizchi$luna$luna$signal$$run_cleanups(state.cleanups);\n    const _bind$3 = runner_ref.val;\n    if (_bind$3 === undefined) {\n      return;\n    } else {\n      const _Some = _bind$3;\n      const _runner = _Some;\n      mizchi$luna$luna$signal$$run_with_subscriber$6$(_runner, () => {\n        mizchi$luna$luna$signal$$run_with_cleanup_tracking$6$(state.cleanups, fn_);\n      });\n      return;\n    }\n  };\n  const runner = { id: id, run: run_effect };\n  runner_ref.val = runner;\n  const dispose = () => {\n    state.active = false;\n    mizchi$luna$luna$signal$$run_cleanups(state.cleanups);\n  };\n  return { _0: runner, _1: dispose };\n}\nfunction mizchi$luna$luna$signal$$register_disposer(disposer) {\n  const _bind$3 = mizchi$luna$luna$signal$$reactive_context.current_owner;\n  if (_bind$3 === undefined) {\n    return;\n  } else {\n    const _Some = _bind$3;\n    const _owner = _Some;\n    moonbitlang$core$array$$Array$push$15$(_owner.disposers, disposer);\n    return;\n  }\n}\nfunction mizchi$luna$luna$signal$$render_effect(fn_) {\n  const state = { active: true, cleanups: [] };\n  const _bind$3 = mizchi$luna$luna$signal$$create_effect_runner(fn_, state);\n  const _runner = _bind$3._0;\n  const _dispose = _bind$3._1;\n  const _func = _runner.run;\n  _func();\n  mizchi$luna$luna$signal$$register_disposer(_dispose);\n  return _dispose;\n}\nfunction mizchi$luna$luna$signal$$Signal$get$5$(self) {\n  const _bind$3 = mizchi$luna$luna$signal$$reactive_context.current_subscriber;\n  if (_bind$3 === undefined) {\n  } else {\n    const _Some = _bind$3;\n    const _subscriber = _Some;\n    const _p = moonbitlang$core$array$$Array$iter$29$(self.subscribers);\n    let already_subscribed;\n    while (true) {\n      const _p$2 = moonbitlang$core$builtin$$Iter$next$29$(_p);\n      if (_p$2 === undefined) {\n        already_subscribed = false;\n        break;\n      } else {\n        const _p$3 = _p$2;\n        const _p$4 = _p$3;\n        if (_p$4.id === _subscriber.id) {\n          already_subscribed = true;\n          break;\n        }\n        continue;\n      }\n    }\n    if (!already_subscribed) {\n      moonbitlang$core$array$$Array$push$29$(self.subscribers, _subscriber);\n    }\n  }\n  return self.value;\n}\nfunction mizchi$luna$luna$signal$$Signal$get$43$(self) {\n  const _bind$3 = mizchi$luna$luna$signal$$reactive_context.current_subscriber;\n  if (_bind$3 === undefined) {\n  } else {\n    const _Some = _bind$3;\n    const _subscriber = _Some;\n    const _p = moonbitlang$core$array$$Array$iter$29$(self.subscribers);\n    let already_subscribed;\n    while (true) {\n      const _p$2 = moonbitlang$core$builtin$$Iter$next$29$(_p);\n      if (_p$2 === undefined) {\n        already_subscribed = false;\n        break;\n      } else {\n        const _p$3 = _p$2;\n        const _p$4 = _p$3;\n        if (_p$4.id === _subscriber.id) {\n          already_subscribed = true;\n          break;\n        }\n        continue;\n      }\n    }\n    if (!already_subscribed) {\n      moonbitlang$core$array$$Array$push$29$(self.subscribers, _subscriber);\n    }\n  }\n  return self.value;\n}\nfunction mizchi$luna$luna$signal$$Signal$new$5$(initial) {\n  return { value: initial, subscribers: [] };\n}\nfunction mizchi$luna$luna$signal$$Signal$new$43$(initial) {\n  return { value: initial, subscribers: [] };\n}\nfunction mizchi$luna$luna$signal$$signal$5$(initial) {\n  return mizchi$luna$luna$signal$$Signal$new$5$(initial);\n}\nfunction mizchi$luna$luna$signal$$signal$43$(initial) {\n  return mizchi$luna$luna$signal$$Signal$new$43$(initial);\n}\nfunction mizchi$luna$luna$signal$$is_pending(id) {\n  const _arr = mizchi$luna$luna$signal$$reactive_context.pending_ids;\n  const _len = _arr.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const pending_id = _arr[_i];\n      if (pending_id === id) {\n        return true;\n      }\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return false;\n}\nfunction mizchi$luna$luna$signal$$schedule_effect(effect) {\n  if (mizchi$luna$luna$signal$$reactive_context.batch_depth > 0) {\n    if (!mizchi$luna$luna$signal$$is_pending(effect.id)) {\n      moonbitlang$core$array$$Array$push$16$(mizchi$luna$luna$signal$$reactive_context.pending_ids, effect.id);\n      moonbitlang$core$array$$Array$push$29$(mizchi$luna$luna$signal$$reactive_context.pending_effects, effect);\n      return;\n    } else {\n      return;\n    }\n  } else {\n    const _func = effect.run;\n    _func();\n    return;\n  }\n}\nfunction mizchi$luna$luna$signal$$Signal$notify$43$(self) {\n  const _arr = self.subscribers;\n  const _len = _arr.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const subscriber = _arr[_i];\n      mizchi$luna$luna$signal$$schedule_effect(subscriber);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction mizchi$luna$luna$signal$$Signal$notify$5$(self) {\n  const _arr = self.subscribers;\n  const _len = _arr.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const subscriber = _arr[_i];\n      mizchi$luna$luna$signal$$schedule_effect(subscriber);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction mizchi$luna$luna$signal$$Signal$set$43$(self, new_value) {\n  self.value = new_value;\n  mizchi$luna$luna$signal$$Signal$notify$43$(self);\n}\nfunction mizchi$luna$luna$signal$$Signal$set$5$(self, new_value) {\n  self.value = new_value;\n  mizchi$luna$luna$signal$$Signal$notify$5$(self);\n}\nfunction mizchi$luna$luna$signal$$run_with_owner$44$(owner, f) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_owner;\n  mizchi$luna$luna$signal$$reactive_context.current_owner = owner;\n  const result = f();\n  mizchi$luna$luna$signal$$reactive_context.current_owner = prev;\n  return result;\n}\nfunction mizchi$luna$luna$signal$$run_with_owner$13$(owner, f) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_owner;\n  mizchi$luna$luna$signal$$reactive_context.current_owner = owner;\n  const result = f();\n  mizchi$luna$luna$signal$$reactive_context.current_owner = prev;\n  return result;\n}\nfunction mizchi$luna$luna$signal$$Owner$dispose(self) {\n  if (self.disposed) {\n    return undefined;\n  }\n  self.disposed = true;\n  let _tmp = self.children.length - 1 | 0;\n  while (true) {\n    const i = _tmp;\n    if (i >= 0) {\n      mizchi$luna$luna$signal$$Owner$dispose(moonbitlang$core$array$$Array$at$14$(self.children, i));\n      _tmp = i - 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  let _tmp$2 = self.disposers.length - 1 | 0;\n  while (true) {\n    const i = _tmp$2;\n    if (i >= 0) {\n      const _func = moonbitlang$core$array$$Array$at$15$(self.disposers, i);\n      _func();\n      _tmp$2 = i - 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  let _tmp$3 = self.cleanups.length - 1 | 0;\n  while (true) {\n    const i = _tmp$3;\n    if (i >= 0) {\n      const _func = moonbitlang$core$array$$Array$at$15$(self.cleanups, i);\n      _func();\n      _tmp$3 = i - 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  moonbitlang$core$array$$Array$clear$14$(self.children);\n  moonbitlang$core$array$$Array$clear$15$(self.disposers);\n  moonbitlang$core$array$$Array$clear$15$(self.cleanups);\n  const _bind$3 = self.parent;\n  if (_bind$3 === undefined) {\n    return;\n  } else {\n    const _Some = _bind$3;\n    const _p = _Some;\n    const _p$2 = _p.children;\n    const _p$3 = _p$2.length;\n    let _tmp$4 = 0;\n    let _tmp$5 = 0;\n    while (true) {\n      const _p$4 = _tmp$4;\n      const _p$5 = _tmp$5;\n      if (_p$4 < _p$3) {\n        const _p$6 = _p$2[_p$4];\n        if (_p$6.id !== self.id) {\n          _p$2[_p$5] = _p$6;\n          _tmp$4 = _p$4 + 1 | 0;\n          _tmp$5 = _p$5 + 1 | 0;\n          continue;\n        }\n        _tmp$4 = _p$4 + 1 | 0;\n        continue;\n      } else {\n        moonbitlang$core$array$$Array$unsafe_truncate_to_length$14$(_p$2, _p$5);\n        return;\n      }\n    }\n  }\n}\nfunction mizchi$luna$luna$signal$$Owner$new(parent) {\n  const owner = { id: mizchi$luna$luna$signal$$new_effect_id(), parent: parent, children: [], cleanups: [], disposers: [], disposed: false };\n  if (parent === undefined) {\n  } else {\n    const _Some = parent;\n    const _p = _Some;\n    moonbitlang$core$array$$Array$push$14$(_p.children, owner);\n  }\n  return owner;\n}\nfunction mizchi$luna$luna$signal$$untracked$43$(f) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_subscriber;\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = undefined;\n  const result = f();\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = prev;\n  return result;\n}\nfunction mizchi$luna$luna$signal$$untracked$44$(f) {\n  const prev = mizchi$luna$luna$signal$$reactive_context.current_subscriber;\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = undefined;\n  const result = f();\n  mizchi$luna$luna$signal$$reactive_context.current_subscriber = prev;\n  return result;\n}\nfunction mizchi$luna$luna$signal$$create_root_with_dispose$13$(f) {\n  const owner = mizchi$luna$luna$signal$$Owner$new(mizchi$luna$luna$signal$$reactive_context.current_owner);\n  const dispose = () => {\n    mizchi$luna$luna$signal$$Owner$dispose(owner);\n  };\n  const result = mizchi$luna$luna$signal$$run_with_owner$13$(owner, f);\n  return { _0: result, _1: dispose };\n}\nfunction mizchi$luna$luna$signal$$with_parent_owner$44$(captured_owner, f) {\n  if (captured_owner === undefined) {\n    return f();\n  } else {\n    const _Some = captured_owner;\n    const _parent = _Some;\n    return mizchi$luna$luna$signal$$run_with_owner$44$(_parent, f);\n  }\n}\nfunction mizchi$luna$luna$dom$element$$text_node(content) {\n  const doc = mizchi$js$browser$dom$$document();\n  const initial = content();\n  const node = mizchi$js$browser$dom$$Document$createTextNode(doc, initial);\n  mizchi$luna$luna$signal$$render_effect(() => {\n    const new_content = content();\n    mizchi$js$browser$dom$$Node$setTextContent(node, new_content);\n  });\n  return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Txt(node);\n}\nfunction mizchi$luna$luna$dom$element$$text_from_signal$5$(sig) {\n  return mizchi$luna$luna$dom$element$$text_node(() => mizchi$luna$luna$signal$$Signal$get$5$(sig));\n}\nfunction mizchi$luna$luna$dom$element$$apply_static_attr(elem, name, value) {\n  if (name === \"className\" || name === \"class\") {\n    mizchi$js$browser$dom$$Element$setClassName(elem, value);\n    return;\n  } else {\n    if (name === \"__innerHTML\") {\n      mizchi$js$core$$Any$_set(elem, \"innerHTML\", value);\n      return;\n    } else {\n      if (name === \"value\") {\n        mizchi$js$core$$Any$_set(elem, \"value\", value);\n        return;\n      } else {\n        if (name === \"checked\") {\n          mizchi$js$core$$Any$_set(elem, \"checked\", value === \"true\");\n          return;\n        } else {\n          if (name === \"disabled\") {\n            if (value === \"true\") {\n              mizchi$js$browser$dom$$Element$setAttribute(elem, \"disabled\", \"\");\n              return;\n            } else {\n              mizchi$js$browser$dom$$Element$removeAttribute(elem, \"disabled\");\n              return;\n            }\n          } else {\n            mizchi$js$browser$dom$$Element$setAttribute(elem, name, value);\n            return;\n          }\n        }\n      }\n    }\n  }\n}\nfunction mizchi$luna$luna$dom$element$$apply_style_string(elem, style) {\n  mizchi$js$browser$dom$$Element$setAttribute(elem, \"style\", style);\n}\nfunction mizchi$luna$luna$dom$element$$apply_attribute(elem, name, value) {\n  switch (value.$tag) {\n    case 0: {\n      const _Static = value;\n      const _s = _Static._0;\n      if (name === \"style\") {\n        mizchi$luna$luna$dom$element$$apply_style_string(elem, _s);\n        return;\n      } else {\n        mizchi$luna$luna$dom$element$$apply_static_attr(elem, name, _s);\n        return;\n      }\n    }\n    case 1: {\n      const _Dynamic = value;\n      const _getter = _Dynamic._0;\n      mizchi$luna$luna$signal$$render_effect(() => {\n        const new_value = _getter();\n        if (name === \"style\") {\n          mizchi$luna$luna$dom$element$$apply_style_string(elem, new_value);\n          return;\n        } else {\n          mizchi$luna$luna$dom$element$$apply_static_attr(elem, name, new_value);\n          return;\n        }\n      });\n      return;\n    }\n    default: {\n      const _Handler = value;\n      const _handler = _Handler._0;\n      if (name === \"__ref\") {\n        _handler(elem);\n        return;\n      } else {\n        mizchi$luna$luna$dom$element$$apply_event_handler(elem, name, _handler);\n        return;\n      }\n    }\n  }\n}\nfunction mizchi$luna$luna$dom$element$$DomElement$from_dom(elem) {\n  return { inner: elem };\n}\nfunction mizchi$luna$luna$dom$element$$DomNode$to_dom(self) {\n  switch (self.$tag) {\n    case 0: {\n      const _El = self;\n      const _elem = _El._0;\n      return _elem.inner;\n    }\n    case 1: {\n      const _Txt = self;\n      const _text = _Txt._0;\n      return _text;\n    }\n    case 2: {\n      const _Raw = self;\n      return _Raw._0;\n    }\n    default: {\n      const _Static = self;\n      return _Static._0;\n    }\n  }\n}\nfunction mizchi$luna$luna$dom$element$$create_element(tag, attrs, children) {\n  const doc = mizchi$js$browser$dom$$document();\n  const elem = mizchi$js$browser$dom$$Document$createElement(doc, tag);\n  const _len = attrs.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const attr = attrs[_i];\n      const _name = attr._0;\n      const _value = attr._1;\n      mizchi$luna$luna$dom$element$$apply_attribute(elem, _name, _value);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  const _len$2 = children.length;\n  let _tmp$2 = 0;\n  while (true) {\n    const _i = _tmp$2;\n    if (_i < _len$2) {\n      const child = children[_i];\n      mizchi$js$browser$dom$$Node$appendChild(elem, mizchi$luna$luna$dom$element$$DomNode$to_dom(child));\n      _tmp$2 = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$El(mizchi$luna$luna$dom$element$$DomElement$from_dom(elem));\n}\nfunction mizchi$luna$luna$dom$element$$collect_child_nodes(node) {\n  if (mizchi$js$browser$dom$$Node$nodeType(node) === 11) {\n    const children = [];\n    while (true) {\n      const _bind$3 = mizchi$js$browser$dom$$Node$firstChild(node);\n      if (_bind$3.$tag === 1) {\n        const _Some = _bind$3;\n        const _child = _Some._0;\n        moonbitlang$core$array$$Array$push$32$(children, _child);\n        mizchi$js$browser$dom$$Node$removeChild(node, _child);\n        continue;\n      } else {\n        break;\n      }\n    }\n    return children;\n  } else {\n    return [node];\n  }\n}\nfunction mizchi$luna$luna$dom$element$$fragment(children) {\n  const _bind$3 = children.length;\n  switch (_bind$3) {\n    case 0: {\n      const doc = mizchi$js$browser$dom$$document();\n      const frag = mizchi$js$browser$dom$$Document$createDocumentFragment(doc);\n      return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(frag);\n    }\n    case 1: {\n      return moonbitlang$core$array$$Array$at$13$(children, 0);\n    }\n    default: {\n      const doc$2 = mizchi$js$browser$dom$$document();\n      const frag$2 = mizchi$js$browser$dom$$Document$createDocumentFragment(doc$2);\n      const _len = children.length;\n      let _tmp = 0;\n      while (true) {\n        const _i = _tmp;\n        if (_i < _len) {\n          const child = children[_i];\n          mizchi$js$browser$dom$$Node$appendChild(frag$2, mizchi$luna$luna$dom$element$$DomNode$to_dom(child));\n          _tmp = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(frag$2);\n    }\n  }\n}\nfunction mizchi$luna$luna$dom$element$$show$46$render_with_scope$124$1407(_env) {\n  const render_fn = _env._2;\n  const current_dispose = _env._1;\n  const captured_owner = _env._0;\n  return mizchi$luna$luna$signal$$with_parent_owner$44$(captured_owner, () => {\n    const _bind$3 = mizchi$luna$luna$signal$$create_root_with_dispose$13$(() => render_fn());\n    const _dom = _bind$3._0;\n    const _dispose = _bind$3._1;\n    current_dispose.val = _dispose;\n    return mizchi$luna$luna$dom$element$$collect_child_nodes(mizchi$luna$luna$dom$element$$DomNode$to_dom(_dom));\n  });\n}\nfunction mizchi$luna$luna$dom$element$$show(when, render_fn) {\n  const doc = mizchi$js$browser$dom$$document();\n  const placeholder = mizchi$js$browser$dom$$Document$createComment(doc, \"show\");\n  const captured_owner = mizchi$luna$luna$signal$$reactive_context.current_owner;\n  const current_dispose = { val: undefined };\n  const _env = { _0: captured_owner, _1: current_dispose, _2: render_fn };\n  const initial_show = mizchi$luna$luna$signal$$untracked$43$(() => when());\n  const initial_nodes = initial_show ? mizchi$luna$luna$signal$$untracked$44$(() => mizchi$luna$luna$dom$element$$show$46$render_with_scope$124$1407(_env)) : [];\n  const current_nodes = { val: initial_nodes };\n  const is_first_run = { val: true };\n  mizchi$luna$luna$signal$$render_effect(() => {\n    const should_show = when();\n    const has_nodes = current_nodes.val.length > 0;\n    if (is_first_run.val) {\n      is_first_run.val = false;\n      return undefined;\n    }\n    if (should_show === true) {\n      if (has_nodes === false) {\n        const _bind$3 = mizchi$js$browser$dom$$Node$parentNode(placeholder);\n        if (_bind$3.$tag === 1) {\n          const _Some = _bind$3;\n          const _parent = _Some._0;\n          const nodes = mizchi$luna$luna$signal$$untracked$44$(() => mizchi$luna$luna$dom$element$$show$46$render_with_scope$124$1407(_env));\n          const _len = nodes.length;\n          let _tmp = 0;\n          while (true) {\n            const _i = _tmp;\n            if (_i < _len) {\n              const node = nodes[_i];\n              mizchi$js$browser$dom$$Node$insertBefore(_parent, node, new Option$Some$3$(placeholder));\n              _tmp = _i + 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n          current_nodes.val = nodes;\n          return;\n        } else {\n          return;\n        }\n      } else {\n        return;\n      }\n    } else {\n      if (has_nodes === true) {\n        const _bind$3 = current_dispose.val;\n        if (_bind$3 === undefined) {\n        } else {\n          const _Some = _bind$3;\n          const _dispose = _Some;\n          _dispose();\n          current_dispose.val = undefined;\n        }\n        const _arr = current_nodes.val;\n        const _len = _arr.length;\n        let _tmp = 0;\n        while (true) {\n          const _i = _tmp;\n          if (_i < _len) {\n            const node = _arr[_i];\n            const _bind$4 = mizchi$js$browser$dom$$Node$parentNode(node);\n            if (_bind$4.$tag === 1) {\n              const _Some = _bind$4;\n              const _parent = _Some._0;\n              mizchi$js$browser$dom$$Node$removeChild(_parent, node);\n            }\n            _tmp = _i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        current_nodes.val = [];\n        return;\n      } else {\n        return;\n      }\n    }\n  });\n  if (initial_nodes.length > 0) {\n    const all_nodes = [];\n    const _len = initial_nodes.length;\n    let _tmp = 0;\n    while (true) {\n      const _i = _tmp;\n      if (_i < _len) {\n        const node = initial_nodes[_i];\n        moonbitlang$core$array$$Array$push$13$(all_nodes, new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(node));\n        _tmp = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n    moonbitlang$core$array$$Array$push$13$(all_nodes, new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(placeholder));\n    return mizchi$luna$luna$dom$element$$fragment(all_nodes);\n  } else {\n    return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Raw(placeholder);\n  }\n}\nfunction mizchi$luna$luna$dom$element$$ToDomNode$to_dom_node$5$(self) {\n  const doc = mizchi$js$browser$dom$$document();\n  return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$DomNode$Txt(mizchi$js$browser$dom$$Document$createTextNode(doc, self));\n}\nfunction mizchi$luna$luna$dom$element$$double_to_string(d) {\n  const any = d;\n  return mizchi$js$core$$Any$_call(any, \"toString\", []);\n}\nfunction moonbitlang$core$builtin$$Show$output$25$(self, logger) {\n  switch (self.$tag) {\n    case 0: {\n      const _AttrString = self;\n      const _s = _AttrString._0;\n      logger.method_table.method_0(logger.self, _s);\n      return;\n    }\n    case 1: {\n      const _AttrNumber = self;\n      const _d = _AttrNumber._0;\n      logger.method_table.method_0(logger.self, mizchi$luna$luna$dom$element$$double_to_string(_d));\n      return;\n    }\n    case 2: {\n      const _AttrInt = self;\n      const _i = _AttrInt._0;\n      logger.method_table.method_0(logger.self, moonbitlang$core$int$$Int$to_string$46$inner(_i, 10));\n      return;\n    }\n    default: {\n      const _AttrBool = self;\n      const _b = _AttrBool._0;\n      logger.method_table.method_0(logger.self, moonbitlang$core$builtin$$Show$to_string$23$(_b));\n      return;\n    }\n  }\n}\nfunction mizchi$luna$luna$dom$element$$Attr$to_attr_value(self) {\n  return new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(moonbitlang$core$builtin$$Show$to_string$24$(self));\n}\nfunction mizchi$luna$luna$dom$element$$events() {\n  return mizchi$js$core$$new_object();\n}\nfunction mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs) {\n  const result = [];\n  if (id === undefined) {\n  } else {\n    const _Some = id;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(result, { _0: \"id\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (class_ === undefined) {\n  } else {\n    const _Some = class_;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(result, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (style === undefined) {\n  } else {\n    const _Some = style;\n    const _s = _Some;\n    moonbitlang$core$array$$Array$push$30$(result, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_s) });\n  }\n  if (on.$tag === 1) {\n    const _Some = on;\n    const _handlers = _Some._0;\n    const _arr = mizchi$luna$luna$dom$element$$HandlerMap$to_attrs(_handlers);\n    const _len = _arr.length;\n    let _tmp = 0;\n    while (true) {\n      const _i = _tmp;\n      if (_i < _len) {\n        const attr = _arr[_i];\n        moonbitlang$core$array$$Array$push$30$(result, attr);\n        _tmp = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  }\n  if (ref_ === undefined) {\n  } else {\n    const _Some = ref_;\n    const _cb = _Some;\n    const handler = (el) => {\n      _cb(el);\n    };\n    moonbitlang$core$array$$Array$push$30$(result, { _0: \"__ref\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Handler(handler) });\n  }\n  if (attrs.$tag === 1) {\n    const _Some = attrs;\n    const _extra = _Some._0;\n    const _len = _extra.length;\n    let _tmp = 0;\n    while (true) {\n      const _i = _tmp;\n      if (_i < _len) {\n        const pair = _extra[_i];\n        moonbitlang$core$array$$Array$push$30$(result, { _0: pair._0, _1: mizchi$luna$luna$dom$element$$Attr$to_attr_value(pair._1) });\n        _tmp = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  }\n  if (dyn_attrs.$tag === 1) {\n    const _Some = dyn_attrs;\n    const _extra = _Some._0;\n    const _len = _extra.length;\n    let _tmp = 0;\n    while (true) {\n      const _i = _tmp;\n      if (_i < _len) {\n        const pair = _extra[_i];\n        moonbitlang$core$array$$Array$push$30$(result, pair);\n        _tmp = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  }\n  return result;\n}\nfunction mizchi$luna$luna$dom$element$$div(id, class_, style, dyn_class, dyn_style, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"div\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$span(id, class_, style, dyn_class, dyn_style, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"span\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$button(disabled, id, class_, style, dyn_class, dyn_style, dyn_disabled, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (disabled === -1) {\n  } else {\n    const _Some = disabled;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$button$46$tuple$47$1362);\n    }\n  }\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_disabled === undefined) {\n  } else {\n    const _Some = dyn_disabled;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"disabled\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(() => moonbitlang$core$builtin$$Show$to_string$23$(_getter())) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"button\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$input(type_, name, value, placeholder, disabled, readonly_, required, checked, id, class_, style, dyn_class, dyn_style, dyn_value, dyn_disabled, dyn_checked, on, ref_, attrs, dyn_attrs) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (type_ === undefined) {\n  } else {\n    const _Some = type_;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"type\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (name === undefined) {\n  } else {\n    const _Some = name;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"name\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (value === undefined) {\n  } else {\n    const _Some = value;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"value\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (placeholder === undefined) {\n  } else {\n    const _Some = placeholder;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"placeholder\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (disabled === -1) {\n  } else {\n    const _Some = disabled;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$input$46$tuple$47$1385);\n    }\n  }\n  if (readonly_ === -1) {\n  } else {\n    const _Some = readonly_;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$input$46$tuple$47$1387);\n    }\n  }\n  if (required === -1) {\n  } else {\n    const _Some = required;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$input$46$tuple$47$1389);\n    }\n  }\n  if (checked === -1) {\n  } else {\n    const _Some = checked;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$input$46$tuple$47$1391);\n    }\n  }\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_value === undefined) {\n  } else {\n    const _Some = dyn_value;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"value\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_disabled === undefined) {\n  } else {\n    const _Some = dyn_disabled;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"disabled\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(() => moonbitlang$core$builtin$$Show$to_string$23$(_getter())) });\n  }\n  if (dyn_checked === undefined) {\n  } else {\n    const _Some = dyn_checked;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"checked\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(() => moonbitlang$core$builtin$$Show$to_string$23$(_getter())) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"input\", props, []);\n}\nfunction mizchi$luna$luna$dom$element$$textarea(name, placeholder, disabled, id, class_, style, dyn_class, dyn_style, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (name === undefined) {\n  } else {\n    const _Some = name;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"name\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (placeholder === undefined) {\n  } else {\n    const _Some = placeholder;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"placeholder\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (disabled === -1) {\n  } else {\n    const _Some = disabled;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$array$$Array$push$30$(props, mizchi$luna$luna$dom$element$$textarea$46$tuple$47$1440);\n    }\n  }\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"textarea\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$form(action, http_method, id, class_, style, dyn_class, dyn_style, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (action === undefined) {\n  } else {\n    const _Some = action;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"action\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (http_method === undefined) {\n  } else {\n    const _Some = http_method;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"method\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"form\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$label(for_, id, class_, style, dyn_class, dyn_style, on, ref_, attrs, dyn_attrs, children) {\n  const props = mizchi$luna$luna$dom$element$$build_props$46$inner(id, class_, style, on, ref_, attrs, dyn_attrs);\n  if (for_ === undefined) {\n  } else {\n    const _Some = for_;\n    const _v = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"for\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(_v) });\n  }\n  if (dyn_class === undefined) {\n  } else {\n    const _Some = dyn_class;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"className\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  if (dyn_style === undefined) {\n  } else {\n    const _Some = dyn_style;\n    const _getter = _Some;\n    moonbitlang$core$array$$Array$push$30$(props, { _0: \"style\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(_getter) });\n  }\n  return mizchi$luna$luna$dom$element$$create_element(\"label\", props, children);\n}\nfunction mizchi$luna$luna$dom$element$$text(content) {\n  return mizchi$luna$luna$dom$element$$ToDomNode$to_dom_node$5$(content);\n}\nfunction mizchi$luna$luna$dom$element$$text_of$5$(sig) {\n  return mizchi$luna$luna$dom$element$$text_from_signal$5$(sig);\n}\nfunction mizchi$luna$sol$action$$ActionOptions$default() {\n  return { headers: [], timeout: undefined, signal: Option$None$2$ };\n}\nfunction mizchi$luna$sol$action$$invoke_action(url, payload, callback, options) {\n  const _p = mizchi$luna$sol$action$$ActionOptions$default();\n  let opts;\n  if (options === undefined) {\n    opts = _p;\n  } else {\n    const _p$2 = options;\n    opts = _p$2;\n  }\n  mizchi$luna$sol$action$$ffi_invoke_action_cb(url, payload, callback, opts);\n}\nfunction moonbitlang$core$builtin$$Eq$equal$45$(_x_1792, _x_1793) {\n  if (_x_1792 === 0) {\n    if (_x_1793 === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    if (_x_1793 === 1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\nfunction moonbitlang$core$builtin$$Eq$equal$40$(_x_1752, _x_1753) {\n  switch (_x_1752) {\n    case 0: {\n      if (_x_1753 === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    case 1: {\n      if (_x_1753 === 1) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    default: {\n      if (_x_1753 === 2) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n}\nfunction mizchi$markdown$$Span$new(from, to) {\n  return { from: from, to: to };\n}\nfunction mizchi$markdown$$Trivia$new(content) {\n  return { content: content };\n}\nfunction mizchi$markdown$$Scanner$new(source) {\n  const chars = moonbitlang$core$string$$String$to_array(source);\n  const len = chars.length;\n  const has_non_bmp = source.length !== len;\n  let utf16_offsets;\n  if (has_non_bmp) {\n    const offsets = moonbitlang$core$array$$Array$make$16$(len + 1 | 0, 0);\n    let utf16_pos = 0;\n    let _tmp = 0;\n    while (true) {\n      const i = _tmp;\n      if (i < len) {\n        moonbitlang$core$array$$Array$set$16$(offsets, i, utf16_pos);\n        const _p = moonbitlang$core$array$$Array$at$11$(chars, i);\n        if (_p > 65535) {\n          utf16_pos = utf16_pos + 2 | 0;\n        } else {\n          utf16_pos = utf16_pos + 1 | 0;\n        }\n        _tmp = i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n    moonbitlang$core$array$$Array$set$16$(offsets, len, utf16_pos);\n    utf16_offsets = new Option$Some$4$(offsets);\n  } else {\n    utf16_offsets = Option$None$4$;\n  }\n  return { source: source, chars: chars, pos: 0, len: len, utf16_offsets: utf16_offsets };\n}\nfunction mizchi$markdown$$Scanner$to_utf16_index(self, cp_index) {\n  const _bind$3 = self.utf16_offsets;\n  if (_bind$3.$tag === 1) {\n    const _Some = _bind$3;\n    const _offsets = _Some._0;\n    return moonbitlang$core$array$$Array$at$16$(_offsets, cp_index);\n  } else {\n    return cp_index;\n  }\n}\nfunction mizchi$markdown$$Scanner$peek(self) {\n  return self.pos >= self.len ? -1 : moonbitlang$core$array$$Array$at$11$(self.chars, self.pos);\n}\nfunction mizchi$markdown$$Scanner$peek_at(self, offset) {\n  const idx = self.pos + offset | 0;\n  return idx >= self.len || idx < 0 ? -1 : moonbitlang$core$array$$Array$at$11$(self.chars, idx);\n}\nfunction mizchi$markdown$$Scanner$advance(self, n) {\n  self.pos = self.pos + n | 0;\n  if (self.pos > self.len) {\n    self.pos = self.len;\n    return;\n  } else {\n    return;\n  }\n}\nfunction mizchi$markdown$$Scanner$consume(self) {\n  if (self.pos >= self.len) {\n    return -1;\n  } else {\n    const c = moonbitlang$core$array$$Array$at$11$(self.chars, self.pos);\n    self.pos = self.pos + 1 | 0;\n    return c;\n  }\n}\nfunction mizchi$markdown$$Scanner$substring(self, start, end) {\n  const clamped_start = start < 0 ? 0 : start > self.len ? self.len : start;\n  const clamped_end = end < 0 ? 0 : end > self.len ? self.len : end;\n  if (clamped_start >= clamped_end) {\n    return \"\";\n  } else {\n    const utf16_start = mizchi$markdown$$Scanner$to_utf16_index(self, clamped_start);\n    const utf16_end = mizchi$markdown$$Scanner$to_utf16_index(self, clamped_end);\n    return self.source.substring(utf16_start, utf16_end);\n  }\n}\nfunction mizchi$markdown$$Scanner$skip_spaces(self) {\n  const start = self.pos;\n  while (true) {\n    if (self.pos < self.len) {\n      const c = moonbitlang$core$array$$Array$at$11$(self.chars, self.pos);\n      if (c === 32 || c === 9) {\n        self.pos = self.pos + 1 | 0;\n      } else {\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return self.pos - start | 0;\n}\nfunction mizchi$markdown$$Scanner$count_leading_spaces(self) {\n  let count = 0;\n  let idx = self.pos;\n  while (true) {\n    if (idx < self.len) {\n      const c = moonbitlang$core$array$$Array$at$11$(self.chars, idx);\n      if (c === 32) {\n        count = count + 1 | 0;\n        idx = idx + 1 | 0;\n      } else {\n        if (c === 9) {\n          count = Math.imul((count / 4 | 0) + 1 | 0, 4) | 0;\n          idx = idx + 1 | 0;\n        } else {\n          break;\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return count;\n}\nfunction mizchi$markdown$$Scanner$read_line(self) {\n  const start = self.pos;\n  while (true) {\n    if (self.pos < self.len) {\n      if (moonbitlang$core$array$$Array$at$11$(self.chars, self.pos) === 10) {\n        break;\n      }\n      self.pos = self.pos + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  const utf16_start = mizchi$markdown$$Scanner$to_utf16_index(self, start);\n  const utf16_end = mizchi$markdown$$Scanner$to_utf16_index(self, self.pos);\n  return self.source.substring(utf16_start, utf16_end);\n}\nfunction mizchi$markdown$$Scanner$skip_line(self) {\n  while (true) {\n    if (self.pos < self.len) {\n      const c = moonbitlang$core$array$$Array$at$11$(self.chars, self.pos);\n      self.pos = self.pos + 1 | 0;\n      if (c === 10) {\n        break;\n      }\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction mizchi$markdown$$Scanner$is_blank_line(self) {\n  let idx = self.pos;\n  while (true) {\n    if (idx < self.len) {\n      const c = moonbitlang$core$array$$Array$at$11$(self.chars, idx);\n      if (c === 10) {\n        return true;\n      }\n      if (c !== 32 && c !== 9) {\n        return false;\n      }\n      idx = idx + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return true;\n}\nfunction mizchi$markdown$$Scanner$matches(self, s) {\n  const s_len = s.length;\n  if ((self.pos + s_len | 0) > self.len) {\n    return false;\n  }\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < s_len) {\n      _L: {\n        _L$2: {\n          const _bind$3 = moonbitlang$core$string$$String$get_char(s, i);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _b = _Some;\n            if (moonbitlang$core$array$$Array$at$11$(self.chars, self.pos + i | 0) === _b) {\n              break _L;\n            } else {\n              break _L$2;\n            }\n          }\n        }\n        return false;\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return true;\n}\nfunction mizchi$markdown$$Scanner$count_char(self, c) {\n  let count = 0;\n  let idx = self.pos;\n  while (true) {\n    if (idx < self.len) {\n      if (moonbitlang$core$array$$Array$at$11$(self.chars, idx) === c) {\n        count = count + 1 | 0;\n        idx = idx + 1 | 0;\n      } else {\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return count;\n}\nfunction mizchi$markdown$$Scanner$restore(self, pos) {\n  self.pos = pos;\n}\nfunction mizchi$markdown$$is_punctuation(c) {\n  switch (c) {\n    case 33: {\n      return true;\n    }\n    case 34: {\n      return true;\n    }\n    case 35: {\n      return true;\n    }\n    case 36: {\n      return true;\n    }\n    case 37: {\n      return true;\n    }\n    case 38: {\n      return true;\n    }\n    case 39: {\n      return true;\n    }\n    case 40: {\n      return true;\n    }\n    case 41: {\n      return true;\n    }\n    case 42: {\n      return true;\n    }\n    case 43: {\n      return true;\n    }\n    case 44: {\n      return true;\n    }\n    case 45: {\n      return true;\n    }\n    case 46: {\n      return true;\n    }\n    case 47: {\n      return true;\n    }\n    case 58: {\n      return true;\n    }\n    case 59: {\n      return true;\n    }\n    case 60: {\n      return true;\n    }\n    case 61: {\n      return true;\n    }\n    case 62: {\n      return true;\n    }\n    case 63: {\n      return true;\n    }\n    case 64: {\n      return true;\n    }\n    case 91: {\n      return true;\n    }\n    case 92: {\n      return true;\n    }\n    case 93: {\n      return true;\n    }\n    case 94: {\n      return true;\n    }\n    case 95: {\n      return true;\n    }\n    case 96: {\n      return true;\n    }\n    case 123: {\n      return true;\n    }\n    case 124: {\n      return true;\n    }\n    case 125: {\n      return true;\n    }\n    case 126: {\n      return true;\n    }\n    default: {\n      return false;\n    }\n  }\n}\nfunction mizchi$markdown$$char_is_digit(opt) {\n  if (opt === -1) {\n    return false;\n  } else {\n    const _Some = opt;\n    const _c = _Some;\n    return _c >= 48 && _c <= 57;\n  }\n}\nfunction mizchi$markdown$$escape_html(s) {\n  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const _it = moonbitlang$core$string$$String$iter(s);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n    if (_bind$3 === -1) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _c = _Some;\n      switch (_c) {\n        case 38: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&amp;\");\n          break;\n        }\n        case 60: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&lt;\");\n          break;\n        }\n        case 62: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&gt;\");\n          break;\n        }\n        case 34: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&quot;\");\n          break;\n        }\n        default: {\n          moonbitlang$core$builtin$$Logger$write_char$0$(buf, _c);\n        }\n      }\n      continue;\n    }\n  }\n  return buf.val;\n}\nfunction mizchi$markdown$$escape_html_attr(s) {\n  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const _it = moonbitlang$core$string$$String$iter(s);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n    if (_bind$3 === -1) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _c = _Some;\n      switch (_c) {\n        case 38: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&amp;\");\n          break;\n        }\n        case 60: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&lt;\");\n          break;\n        }\n        case 62: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&gt;\");\n          break;\n        }\n        case 34: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&quot;\");\n          break;\n        }\n        case 39: {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"&#39;\");\n          break;\n        }\n        default: {\n          moonbitlang$core$builtin$$Logger$write_char$0$(buf, _c);\n        }\n      }\n      continue;\n    }\n  }\n  return buf.val;\n}\nfunction mizchi$markdown$$render_inlines_html(inlines, buf) {\n  const _len = inlines.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const inline = inlines[_i];\n      mizchi$markdown$$render_inline_html(inline, buf);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction mizchi$markdown$$render_inline_html(inline, buf) {\n  switch (inline.$tag) {\n    case 0: {\n      const _Text = inline;\n      const _content = _Text._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_content));\n      return;\n    }\n    case 6: {\n      const _Code = inline;\n      const _content$2 = _Code._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<code>\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_content$2));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</code>\");\n      return;\n    }\n    case 3: {\n      const _Emphasis = inline;\n      const _children = _Emphasis._1;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<em>\");\n      mizchi$markdown$$render_inlines_html(_children, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</em>\");\n      return;\n    }\n    case 4: {\n      const _Strong = inline;\n      const _children$2 = _Strong._1;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<strong>\");\n      mizchi$markdown$$render_inlines_html(_children$2, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</strong>\");\n      return;\n    }\n    case 5: {\n      const _Strikethrough = inline;\n      const _children$3 = _Strikethrough._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<del>\");\n      mizchi$markdown$$render_inlines_html(_children$3, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</del>\");\n      return;\n    }\n    case 7: {\n      const _Link = inline;\n      const _children$4 = _Link._0;\n      const _url = _Link._1;\n      const _title = _Link._2;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<a href=\\\"\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_url));\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 34);\n      if (!(_title === \"\")) {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \" title=\\\"\");\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_title));\n        moonbitlang$core$builtin$$Logger$write_char$0$(buf, 34);\n      }\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 62);\n      mizchi$markdown$$render_inlines_html(_children$4, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</a>\");\n      return;\n    }\n    case 8: {\n      const _RefLink = inline;\n      const _children$5 = _RefLink._0;\n      const _label = _RefLink._1;\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 91);\n      mizchi$markdown$$render_inlines_html(_children$5, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"][\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_label));\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 93);\n      return;\n    }\n    case 9: {\n      const _Autolink = inline;\n      const _url$2 = _Autolink._0;\n      const _is_email = _Autolink._1;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<a href=\\\"\");\n      if (_is_email) {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"mailto:\");\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_url$2));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\">\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_url$2));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</a>\");\n      return;\n    }\n    case 10: {\n      const _Image = inline;\n      const _alt = _Image._0;\n      const _url$3 = _Image._1;\n      const _title$2 = _Image._2;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<img src=\\\"\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_url$3));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\" alt=\\\"\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_alt));\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 34);\n      if (!(_title$2 === \"\")) {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \" title=\\\"\");\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_title$2));\n        moonbitlang$core$builtin$$Logger$write_char$0$(buf, 34);\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \">\");\n      return;\n    }\n    case 11: {\n      const _RefImage = inline;\n      const _alt$2 = _RefImage._0;\n      const _label$2 = _RefImage._1;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"![\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_alt$2));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"][\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_label$2));\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 93);\n      return;\n    }\n    case 12: {\n      const _HtmlInline = inline;\n      const _html = _HtmlInline._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, _html);\n      return;\n    }\n    case 1: {\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 10);\n      return;\n    }\n    case 2: {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<br>\\n\");\n      return;\n    }\n    default: {\n      const _FootnoteReference = inline;\n      const _label$3 = _FootnoteReference._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<sup><a href=\\\"#fn-\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_label$3));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\" id=\\\"fnref-\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html_attr(_label$3));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\">\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_label$3));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</a></sup>\");\n      return;\n    }\n  }\n}\nfunction mizchi$markdown$$render_table_cell_html(cell, buf, tag, align) {\n  moonbitlang$core$builtin$$Logger$write_char$0$(buf, 60);\n  moonbitlang$core$builtin$$Logger$write_string$0$(buf, tag);\n  switch (align) {\n    case 0: {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \" align=\\\"left\\\"\");\n      break;\n    }\n    case 1: {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \" align=\\\"center\\\"\");\n      break;\n    }\n    case 2: {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \" align=\\\"right\\\"\");\n      break;\n    }\n  }\n  moonbitlang$core$builtin$$Logger$write_char$0$(buf, 62);\n  mizchi$markdown$$render_inlines_html(cell.children, buf);\n  moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</\");\n  moonbitlang$core$builtin$$Logger$write_string$0$(buf, tag);\n  moonbitlang$core$builtin$$Logger$write_string$0$(buf, \">\\n\");\n}\nfunction mizchi$markdown$$render_block_html(block, buf) {\n  switch (block.$tag) {\n    case 2: {\n      const _Paragraph = block;\n      const _children = _Paragraph._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<p>\");\n      mizchi$markdown$$render_inlines_html(_children, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</p>\\n\");\n      return;\n    }\n    case 1: {\n      const _Heading = block;\n      const _level = _Heading._0;\n      const _children$2 = _Heading._2;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<h\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, moonbitlang$core$int$$Int$to_string$46$inner(_level, 10));\n      moonbitlang$core$builtin$$Logger$write_char$0$(buf, 62);\n      mizchi$markdown$$render_inlines_html(_children$2, buf);\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</h\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, moonbitlang$core$int$$Int$to_string$46$inner(_level, 10));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \">\\n\");\n      return;\n    }\n    case 0: {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<hr>\\n\");\n      return;\n    }\n    case 3: {\n      const _FencedCode = block;\n      const _info = _FencedCode._2;\n      const _code = _FencedCode._3;\n      if (_info === \"\") {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<pre><code>\");\n      } else {\n        const parts = moonbitlang$core$builtin$$Iter$to_array$4$(moonbitlang$core$string$$String$split(_info, { str: mizchi$markdown$$render_block_html$46$42$bind$124$2191, start: 0, end: mizchi$markdown$$render_block_html$46$42$bind$124$2191.length }));\n        const lang = parts.length > 0 ? moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$array$$Array$at$4$(parts, 0)) : _info;\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<pre><code class=\\\"language-\");\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(lang));\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\">\");\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_code));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</code></pre>\\n\");\n      return;\n    }\n    case 4: {\n      const _IndentedCode = block;\n      const _code$2 = _IndentedCode._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<pre><code>\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_code$2));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</code></pre>\\n\");\n      return;\n    }\n    case 5: {\n      const _Blockquote = block;\n      const _children$3 = _Blockquote._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<blockquote>\\n\");\n      const _len = _children$3.length;\n      let _tmp = 0;\n      while (true) {\n        const _i = _tmp;\n        if (_i < _len) {\n          const child = _children$3[_i];\n          mizchi$markdown$$render_block_html(child, buf);\n          _tmp = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</blockquote>\\n\");\n      return;\n    }\n    case 6: {\n      const _BulletList = block;\n      const _items = _BulletList._2;\n      const _tight = _BulletList._1;\n      const _p = moonbitlang$core$array$$Array$iter$18$(_items);\n      let has_task;\n      while (true) {\n        const _p$2 = moonbitlang$core$builtin$$Iter$next$18$(_p);\n        if (_p$2 === undefined) {\n          has_task = false;\n          break;\n        } else {\n          const _p$3 = _p$2;\n          const _p$4 = _p$3;\n          const _p$5 = _p$4.checked;\n          if (!(_p$5 === -1)) {\n            has_task = true;\n            break;\n          }\n          continue;\n        }\n      }\n      if (has_task) {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ul class=\\\"contains-task-list\\\">\\n\");\n      } else {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ul>\\n\");\n      }\n      const _len$2 = _items.length;\n      let _tmp$2 = 0;\n      while (true) {\n        const _i = _tmp$2;\n        if (_i < _len$2) {\n          const item = _items[_i];\n          mizchi$markdown$$render_list_item_html(item, buf, _tight, has_task);\n          _tmp$2 = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</ul>\\n\");\n      return;\n    }\n    case 7: {\n      const _OrderedList = block;\n      const _items$2 = _OrderedList._3;\n      const _start = _OrderedList._0;\n      const _tight$2 = _OrderedList._2;\n      const _p$2 = moonbitlang$core$array$$Array$iter$18$(_items$2);\n      let has_task$2;\n      while (true) {\n        const _p$3 = moonbitlang$core$builtin$$Iter$next$18$(_p$2);\n        if (_p$3 === undefined) {\n          has_task$2 = false;\n          break;\n        } else {\n          const _p$4 = _p$3;\n          const _p$5 = _p$4;\n          const _p$6 = _p$5.checked;\n          if (!(_p$6 === -1)) {\n            has_task$2 = true;\n            break;\n          }\n          continue;\n        }\n      }\n      if (_start === 1) {\n        if (has_task$2) {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ol class=\\\"contains-task-list\\\">\\n\");\n        } else {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ol>\\n\");\n        }\n      } else {\n        if (has_task$2) {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ol class=\\\"contains-task-list\\\" start=\\\"\");\n        } else {\n          moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<ol start=\\\"\");\n        }\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, moonbitlang$core$int$$Int$to_string$46$inner(_start, 10));\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\">\\n\");\n      }\n      const _len$3 = _items$2.length;\n      let _tmp$3 = 0;\n      while (true) {\n        const _i = _tmp$3;\n        if (_i < _len$3) {\n          const item = _items$2[_i];\n          mizchi$markdown$$render_list_item_html(item, buf, _tight$2, has_task$2);\n          _tmp$3 = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</ol>\\n\");\n      return;\n    }\n    case 8: {\n      const _HtmlBlock = block;\n      const _html = _HtmlBlock._0;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, _html);\n      if (!moonbitlang$core$string$$String$has_suffix(_html, { str: mizchi$markdown$$render_block_html$46$42$bind$124$2204, start: 0, end: mizchi$markdown$$render_block_html$46$42$bind$124$2204.length })) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(buf, 10);\n        return;\n      } else {\n        return;\n      }\n    }\n    case 9: {\n      const _Table = block;\n      const _header = _Table._0;\n      const _alignments = _Table._1;\n      const _rows = _Table._2;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<table>\\n<thead>\\n<tr>\\n\");\n      const _len$4 = _header.length;\n      let _tmp$4 = 0;\n      while (true) {\n        const _i = _tmp$4;\n        if (_i < _len$4) {\n          const cell = _header[_i];\n          const align = _i < _alignments.length ? moonbitlang$core$array$$Array$at$12$(_alignments, _i) : 3;\n          mizchi$markdown$$render_table_cell_html(cell, buf, \"th\", align);\n          _tmp$4 = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</tr>\\n</thead>\\n\");\n      if (_rows.length > 0) {\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<tbody>\\n\");\n        const _len$5 = _rows.length;\n        let _tmp$5 = 0;\n        while (true) {\n          const _i = _tmp$5;\n          if (_i < _len$5) {\n            const row = _rows[_i];\n            moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<tr>\\n\");\n            const _len$6 = row.length;\n            let _tmp$6 = 0;\n            while (true) {\n              const _i$2 = _tmp$6;\n              if (_i$2 < _len$6) {\n                const cell = row[_i$2];\n                const align = _i$2 < _alignments.length ? moonbitlang$core$array$$Array$at$12$(_alignments, _i$2) : 3;\n                mizchi$markdown$$render_table_cell_html(cell, buf, \"td\", align);\n                _tmp$6 = _i$2 + 1 | 0;\n                continue;\n              } else {\n                break;\n              }\n            }\n            moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</tr>\\n\");\n            _tmp$5 = _i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</tbody>\\n\");\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</table>\\n\");\n      return;\n    }\n    case 10: {\n      return;\n    }\n    default: {\n      const _FootnoteDefinition = block;\n      const _label = _FootnoteDefinition._0;\n      const _children$4 = _FootnoteDefinition._1;\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<div class=\\\"footnote\\\" id=\\\"fn-\");\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, mizchi$markdown$$escape_html(_label));\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"\\\">\\n\");\n      const _len$5 = _children$4.length;\n      let _tmp$5 = 0;\n      while (true) {\n        const _i = _tmp$5;\n        if (_i < _len$5) {\n          const child = _children$4[_i];\n          mizchi$markdown$$render_block_html(child, buf);\n          _tmp$5 = _i + 1 | 0;\n          continue;\n        } else {\n          break;\n        }\n      }\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</div>\\n\");\n      return;\n    }\n  }\n}\nfunction mizchi$markdown$$render_list_item_html(item, buf, tight, is_task_list) {\n  let _tmp;\n  if (is_task_list) {\n    const _bind$3 = item.checked;\n    _tmp = !(_bind$3 === -1);\n  } else {\n    _tmp = false;\n  }\n  if (_tmp) {\n    moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<li class=\\\"task-list-item\\\">\");\n  } else {\n    moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<li>\");\n  }\n  const _bind$3 = item.checked;\n  if (_bind$3 === -1) {\n  } else {\n    const _Some = _bind$3;\n    const _x = _Some;\n    if (_x === true) {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<input type=\\\"checkbox\\\" checked disabled> \");\n    } else {\n      moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"<input type=\\\"checkbox\\\" disabled> \");\n    }\n  }\n  if (tight) {\n    const _arr = item.children;\n    const _len = _arr.length;\n    let _tmp$2 = 0;\n    while (true) {\n      const _i = _tmp$2;\n      if (_i < _len) {\n        const child = _arr[_i];\n        if (child.$tag === 2) {\n          const _Paragraph = child;\n          const _children = _Paragraph._0;\n          mizchi$markdown$$render_inlines_html(_children, buf);\n        } else {\n          mizchi$markdown$$render_block_html(child, buf);\n        }\n        _tmp$2 = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  } else {\n    moonbitlang$core$builtin$$Logger$write_char$0$(buf, 10);\n    const _arr = item.children;\n    const _len = _arr.length;\n    let _tmp$2 = 0;\n    while (true) {\n      const _i = _tmp$2;\n      if (_i < _len) {\n        const child = _arr[_i];\n        mizchi$markdown$$render_block_html(child, buf);\n        _tmp$2 = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  }\n  moonbitlang$core$builtin$$Logger$write_string$0$(buf, \"</li>\\n\");\n}\nfunction mizchi$markdown$$render_html(doc) {\n  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const _arr = doc.children;\n  const _len = _arr.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const block = _arr[_i];\n      mizchi$markdown$$render_block_html(block, buf);\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return buf.val;\n}\nfunction mizchi$markdown$$BlockParser$new(scanner, strict) {\n  return { scanner: scanner, definitions: [], strict: strict };\n}\nfunction mizchi$markdown$$InlineParser$new(scanner) {\n  return { scanner: scanner };\n}\nfunction mizchi$markdown$$trim_trailing_space_from_last_text(inlines) {\n  if (inlines.length > 0) {\n    const _bind$3 = moonbitlang$core$array$$Array$at$19$(inlines, inlines.length - 1 | 0);\n    if (_bind$3.$tag === 0) {\n      const _Text = _bind$3;\n      const _content = _Text._0;\n      const _span = _Text._1;\n      const len = _content.length;\n      if (len > 0) {\n        const _tmp = len - 1 | 0;\n        if (_content.charCodeAt(_tmp) === 32) {\n          let end = len - 1 | 0;\n          while (true) {\n            let _tmp$2;\n            if (end > 0) {\n              const _tmp$3 = end - 1 | 0;\n              _tmp$2 = _content.charCodeAt(_tmp$3) === 32;\n            } else {\n              _tmp$2 = false;\n            }\n            if (_tmp$2) {\n              end = end - 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n          moonbitlang$core$array$$Array$pop$19$(inlines);\n          if (end > 0) {\n            moonbitlang$core$array$$Array$push$19$(inlines, new $64$mizchi$47$markdown$46$Inline$Text(_content.substring(0, end), _span));\n            return;\n          } else {\n            return;\n          }\n        } else {\n          return;\n        }\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n  } else {\n    return;\n  }\n}\nfunction mizchi$markdown$$InlineParser$try_parse_autolink(self, start) {\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const url_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let is_email = false;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 62: {\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                const url = url_buf.val;\n                if (moonbitlang$core$string$$String$contains(url, { str: mizchi$markdown$$try_parse_autolink$46$42$bind$124$2282, start: 0, end: mizchi$markdown$$try_parse_autolink$46$42$bind$124$2282.length }) && !moonbitlang$core$string$$String$has_prefix(url, { str: mizchi$markdown$$try_parse_autolink$46$42$bind$124$2283, start: 0, end: mizchi$markdown$$try_parse_autolink$46$42$bind$124$2283.length })) {\n                  is_email = true;\n                }\n                return new $64$mizchi$47$markdown$46$Inline$Autolink(url, is_email, mizchi$markdown$$Span$new(start, self.scanner.pos));\n              }\n              case 32: {\n                break _L$2;\n              }\n              case 9: {\n                break _L$2;\n              }\n              case 10: {\n                break _L$2;\n              }\n              default: {\n                moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              }\n            }\n          }\n          break _L;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, start);\n        return undefined;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$is_all_spaces(s) {\n  const _it = moonbitlang$core$string$$String$iter(s);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n    if (_bind$3 === -1) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _c = _Some;\n      if (_c !== 32) {\n        return false;\n      }\n      continue;\n    }\n  }\n  return true;\n}\nfunction mizchi$markdown$$InlineParser$try_parse_code_span(self, start) {\n  const backtick_count = mizchi$markdown$$Scanner$count_char(self.scanner, 96);\n  if (backtick_count === 0) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, backtick_count);\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const closing_count = mizchi$markdown$$Scanner$count_char(self.scanner, 96);\n      if (closing_count === backtick_count) {\n        const content = content_buf.val;\n        mizchi$markdown$$Scanner$advance(self.scanner, closing_count);\n        let trimmed;\n        if (content.length >= 2) {\n          const first = moonbitlang$core$string$$String$get_char(content, 0);\n          const last = moonbitlang$core$string$$String$get_char(content, content.length - 1 | 0);\n          trimmed = moonbitlang$core$builtin$$Eq$equal$39$(first, mizchi$markdown$$try_parse_code_span$46$constr$47$1776) && (moonbitlang$core$builtin$$Eq$equal$39$(last, mizchi$markdown$$try_parse_code_span$46$constr$47$1777) && !mizchi$markdown$$is_all_spaces(content)) ? content.substring(1, content.length - 1 | 0) : content;\n        } else {\n          trimmed = content;\n        }\n        return new $64$mizchi$47$markdown$46$Inline$Code(trimmed, backtick_count, mizchi$markdown$$Span$new(start, self.scanner.pos));\n      } else {\n        if (closing_count > 0) {\n          let _tmp = 0;\n          while (true) {\n            const i = _tmp;\n            if (i < closing_count) {\n              moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 96);\n              _tmp = i + 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n          mizchi$markdown$$Scanner$advance(self.scanner, closing_count);\n        } else {\n          const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n          if (_bind$3 === -1) {\n            break;\n          } else {\n            const _Some = _bind$3;\n            const _c = _Some;\n            moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, _c);\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$contains_link(inlines) {\n  const _len = inlines.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const inline = inlines[_i];\n      let children;\n      _L: {\n        _L$2: {\n          _L$3: {\n            _L$4: {\n              switch (inline.$tag) {\n                case 7: {\n                  break _L$4;\n                }\n                case 8: {\n                  break _L$4;\n                }\n                case 3: {\n                  const _Emphasis = inline;\n                  const _children = _Emphasis._1;\n                  children = _children;\n                  break _L$2;\n                }\n                case 4: {\n                  const _Strong = inline;\n                  const _children$2 = _Strong._1;\n                  children = _children$2;\n                  break _L$2;\n                }\n                case 5: {\n                  const _Strikethrough = inline;\n                  const _children$3 = _Strikethrough._0;\n                  children = _children$3;\n                  break _L$2;\n                }\n              }\n              break _L$3;\n            }\n            return true;\n          }\n          break _L;\n        }\n        if (mizchi$markdown$$contains_link(children)) {\n          return true;\n        }\n      }\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return false;\n}\nfunction mizchi$markdown$$InlineParser$try_parse_escape(self, start) {\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  _L: {\n    const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n    if (_bind$3 === -1) {\n      break _L;\n    } else {\n      const _Some = _bind$3;\n      const _x = _Some;\n      if (_x === 10) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        while (true) {\n          const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n          const _p$2 = 32;\n          let _tmp;\n          if (_p === -1) {\n            _tmp = false;\n          } else {\n            const _p$3 = _p;\n            const _p$4 = _p$3;\n            _tmp = _p$4 === _p$2;\n          }\n          if (_tmp) {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            continue;\n          } else {\n            break;\n          }\n        }\n        return new $64$mizchi$47$markdown$46$Inline$HardBreak(1, mizchi$markdown$$Span$new(start, self.scanner.pos));\n      } else {\n        if (mizchi$markdown$$is_punctuation(_x)) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          return new $64$mizchi$47$markdown$46$Inline$Text(moonbitlang$core$string$$String$make(1, _x), mizchi$markdown$$Span$new(start, self.scanner.pos));\n        } else {\n          break _L;\n        }\n      }\n    }\n  }\n  return new $64$mizchi$47$markdown$46$Inline$Text(\"\\\\\", mizchi$markdown$$Span$new(start, self.scanner.pos));\n}\nfunction mizchi$markdown$$InlineParser$try_parse_footnote_reference(self, start) {\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 94;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const label_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            if (_x === 93) {\n              break;\n            } else {\n              if (_x >= 97 && _x <= 122 || (_x >= 65 && _x <= 90 || (_x >= 48 && _x <= 57 || (_x === 45 || _x === 95)))) {\n                moonbitlang$core$builtin$$Logger$write_char$0$(label_buf, _x);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              } else {\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, start);\n        return undefined;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const label = label_buf.val;\n  if (label === \"\") {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 93;\n  let _tmp$2;\n  if (_p$3 === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$2 = _p$6 === _p$4;\n  }\n  if (!_tmp$2) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  return new $64$mizchi$47$markdown$46$Inline$FootnoteReference(label, mizchi$markdown$$Span$new(start, self.scanner.pos));\n}\nfunction mizchi$markdown$$InlineParser$try_parse_hard_break(self, start) {\n  const space_count = mizchi$markdown$$Scanner$count_char(self.scanner, 32);\n  if (space_count < 2) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, space_count);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    while (true) {\n      const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$4 = 32;\n      let _tmp$2;\n      if (_p$3 === -1) {\n        _tmp$2 = false;\n      } else {\n        const _p$5 = _p$3;\n        const _p$6 = _p$5;\n        _tmp$2 = _p$6 === _p$4;\n      }\n      if (_tmp$2) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        continue;\n      } else {\n        break;\n      }\n    }\n    return new $64$mizchi$47$markdown$46$Inline$HardBreak(0, mizchi$markdown$$Span$new(start, self.scanner.pos));\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$InlineParser$try_parse_image(self, start) {\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 91;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const alt_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  _L: while (true) {\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 93: {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break _L;\n          }\n          case 92: {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            const _bind$4 = mizchi$markdown$$Scanner$consume(self.scanner);\n            if (_bind$4 === -1) {\n              break _L;\n            } else {\n              const _Some$2 = _bind$4;\n              const _c = _Some$2;\n              moonbitlang$core$builtin$$Logger$write_char$0$(alt_buf, _c);\n            }\n            break;\n          }\n          default: {\n            moonbitlang$core$builtin$$Logger$write_char$0$(alt_buf, _x);\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const alt = alt_buf.val;\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 40;\n  let _tmp$2;\n  if (_p$3 === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$2 = _p$6 === _p$4;\n  }\n  if (_tmp$2) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    const url_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n    const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n    const _p$6 = 60;\n    let _tmp$3;\n    if (_p$5 === -1) {\n      _tmp$3 = false;\n    } else {\n      const _p$7 = _p$5;\n      const _p$8 = _p$7;\n      _tmp$3 = _p$8 === _p$6;\n    }\n    if (_tmp$3) {\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      while (true) {\n        const _p$7 = self.scanner;\n        if (!(_p$7.pos >= _p$7.len)) {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            if (_x === 62) {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              break;\n            } else {\n              moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            }\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n    } else {\n      while (true) {\n        const _p$7 = self.scanner;\n        if (!(_p$7.pos >= _p$7.len)) {\n          _L$2: {\n            _L$3: {\n              const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$3 === -1) {\n                break;\n              } else {\n                const _Some = _bind$3;\n                const _x = _Some;\n                switch (_x) {\n                  case 41: {\n                    break _L$3;\n                  }\n                  case 32: {\n                    break _L$3;\n                  }\n                  case 9: {\n                    break _L$3;\n                  }\n                  default: {\n                    moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n                    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                  }\n                }\n              }\n              break _L$2;\n            }\n            break;\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n    }\n    const url = url_buf.val;\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n    let title;\n    _L$2: {\n      _L$3: {\n        const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n        if (_bind$3 === -1) {\n          title = \"\";\n        } else {\n          const _Some = _bind$3;\n          const _x = _Some;\n          switch (_x) {\n            case 34: {\n              break _L$3;\n            }\n            case 39: {\n              break _L$3;\n            }\n            default: {\n              title = \"\";\n            }\n          }\n        }\n        break _L$2;\n      }\n      const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n      const quote = _bind$3 === -1 ? 34 : _bind$3;\n      const title_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n      while (true) {\n        const _p$7 = self.scanner;\n        if (!(_p$7.pos >= _p$7.len)) {\n          const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$4 === -1) {\n            break;\n          } else {\n            const _Some = _bind$4;\n            const _c = _Some;\n            if (_c === quote) {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              break;\n            } else {\n              moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _c);\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            }\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      title = title_buf.val;\n    }\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n    const _p$7 = mizchi$markdown$$Scanner$peek(self.scanner);\n    const _p$8 = 41;\n    let _tmp$4;\n    if (_p$7 === -1) {\n      _tmp$4 = false;\n    } else {\n      const _p$9 = _p$7;\n      const _p$10 = _p$9;\n      _tmp$4 = _p$10 === _p$8;\n    }\n    if (_tmp$4) {\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      return new $64$mizchi$47$markdown$46$Inline$Image(alt, url, title, mizchi$markdown$$Span$new(start, self.scanner.pos));\n    }\n  }\n  const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$6 = 91;\n  let _tmp$3;\n  if (_p$5 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$7 = _p$5;\n    const _p$8 = _p$7;\n    _tmp$3 = _p$8 === _p$6;\n  }\n  if (_tmp$3) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    const label_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    while (true) {\n      const _p$7 = self.scanner;\n      if (!(_p$7.pos >= _p$7.len)) {\n        const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n        if (_bind$3 === -1) {\n          break;\n        } else {\n          const _Some = _bind$3;\n          const _x = _Some;\n          if (_x === 93) {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break;\n          } else {\n            moonbitlang$core$builtin$$Logger$write_char$0$(label_buf, _x);\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          }\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    return new $64$mizchi$47$markdown$46$Inline$RefImage(alt, label_buf.val, mizchi$markdown$$Span$new(start, self.scanner.pos));\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$InlineParser$try_parse_strikethrough(self, start) {\n  if (mizchi$markdown$$Scanner$count_char(self.scanner, 126) < 2) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 2);\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const content_start = self.scanner.pos;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      if (mizchi$markdown$$Scanner$count_char(self.scanner, 126) >= 2) {\n        const content = content_buf.val;\n        if (content === \"\") {\n          mizchi$markdown$$Scanner$restore(self.scanner, start);\n          return undefined;\n        }\n        mizchi$markdown$$Scanner$advance(self.scanner, 2);\n        const children = [new $64$mizchi$47$markdown$46$Inline$Text(content, mizchi$markdown$$Span$new(content_start, self.scanner.pos - 2 | 0))];\n        return new $64$mizchi$47$markdown$46$Inline$Strikethrough(children, mizchi$markdown$$Span$new(start, self.scanner.pos));\n      }\n      const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n      if (_bind$3 === -1) {\n        break;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        if (_x === 10) {\n          break;\n        } else {\n          moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, _x);\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$is_unicode_punctuation(c) {\n  const code = c;\n  return code >= 33 && code <= 47 || (code >= 58 && code <= 64 || (code >= 91 && code <= 96 || code >= 123 && code <= 126));\n}\nfunction mizchi$markdown$$is_unicode_whitespace(c) {\n  return c === 32 || (c === 9 || (c === 10 || (c === 13 || c === 12)));\n}\nfunction mizchi$markdown$$parse_inlines$46$inner(text, strict) {\n  return strict ? mizchi$markdown$$parse_inlines_with_delimiter_stack(text) : mizchi$markdown$$parse_inlines_fast(text);\n}\nfunction mizchi$markdown$$parse_inlines_fast(text) {\n  const scanner = mizchi$markdown$$Scanner$new(text);\n  const parser = mizchi$markdown$$InlineParser$new(scanner);\n  return mizchi$markdown$$InlineParser$parse(parser);\n}\nfunction mizchi$markdown$$InlineParser$parse(self) {\n  const inlines = [];\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const _bind$3 = mizchi$markdown$$InlineParser$parse_inline(self);\n      if (_bind$3 === undefined) {\n        const start = self.scanner.pos;\n        const _bind$4 = mizchi$markdown$$Scanner$consume(self.scanner);\n        if (_bind$4 === -1) {\n          break;\n        } else {\n          const _Some = _bind$4;\n          const _c = _Some;\n          const text = moonbitlang$core$string$$String$make(1, _c);\n          _L: {\n            _L$2: {\n              const _bind$5 = moonbitlang$core$array$$Array$last$19$(inlines);\n              if (_bind$5 === undefined) {\n                break _L$2;\n              } else {\n                const _Some$2 = _bind$5;\n                const _x = _Some$2;\n                if (_x.$tag === 0) {\n                  const _Text = _x;\n                  const _content = _Text._0;\n                  const _span = _Text._1;\n                  moonbitlang$core$array$$Array$pop$19$(inlines);\n                  moonbitlang$core$array$$Array$push$19$(inlines, new $64$mizchi$47$markdown$46$Inline$Text(`${_content}${text}`, mizchi$markdown$$Span$new(_span.from, self.scanner.pos)));\n                } else {\n                  break _L$2;\n                }\n              }\n              break _L;\n            }\n            moonbitlang$core$array$$Array$push$19$(inlines, new $64$mizchi$47$markdown$46$Inline$Text(text, mizchi$markdown$$Span$new(start, self.scanner.pos)));\n          }\n        }\n      } else {\n        const _Some = _bind$3;\n        const _inline = _Some;\n        _L: {\n          _L$2: {\n            switch (_inline.$tag) {\n              case 1: {\n                break _L$2;\n              }\n              case 2: {\n                break _L$2;\n              }\n            }\n            break _L;\n          }\n          mizchi$markdown$$trim_trailing_space_from_last_text(inlines);\n        }\n        moonbitlang$core$array$$Array$push$19$(inlines, _inline);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return inlines;\n}\nfunction mizchi$markdown$$InlineParser$parse_inline(self) {\n  const start = self.scanner.pos;\n  _L: {\n    const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n    if (_bind$3 === -1) {\n      break _L;\n    } else {\n      const _Some = _bind$3;\n      const _x = _Some;\n      switch (_x) {\n        case 92: {\n          return mizchi$markdown$$InlineParser$try_parse_escape(self, start);\n        }\n        case 96: {\n          return mizchi$markdown$$InlineParser$try_parse_code_span(self, start);\n        }\n        case 42: {\n          return mizchi$markdown$$InlineParser$try_parse_emphasis(self, start, 42);\n        }\n        case 95: {\n          return mizchi$markdown$$InlineParser$try_parse_emphasis(self, start, 95);\n        }\n        case 126: {\n          return mizchi$markdown$$InlineParser$try_parse_strikethrough(self, start);\n        }\n        case 91: {\n          const _p = mizchi$markdown$$Scanner$peek_at(self.scanner, 1);\n          const _p$2 = 94;\n          let _tmp;\n          if (_p === -1) {\n            _tmp = false;\n          } else {\n            const _p$3 = _p;\n            const _p$4 = _p$3;\n            _tmp = _p$4 === _p$2;\n          }\n          if (_tmp) {\n            const _bind$4 = mizchi$markdown$$InlineParser$try_parse_footnote_reference(self, start);\n            if (_bind$4 === undefined) {\n              return mizchi$markdown$$InlineParser$try_parse_link(self, start);\n            } else {\n              const _Some$2 = _bind$4;\n              const _fn_ref = _Some$2;\n              return _fn_ref;\n            }\n          } else {\n            return mizchi$markdown$$InlineParser$try_parse_link(self, start);\n          }\n        }\n        case 33: {\n          return mizchi$markdown$$InlineParser$try_parse_image(self, start);\n        }\n        case 60: {\n          return mizchi$markdown$$InlineParser$try_parse_autolink(self, start);\n        }\n        case 32: {\n          return mizchi$markdown$$InlineParser$try_parse_hard_break(self, start);\n        }\n        case 10: {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          while (true) {\n            const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n            const _p$4 = 32;\n            let _tmp$2;\n            if (_p$3 === -1) {\n              _tmp$2 = false;\n            } else {\n              const _p$5 = _p$3;\n              const _p$6 = _p$5;\n              _tmp$2 = _p$6 === _p$4;\n            }\n            if (_tmp$2) {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              continue;\n            } else {\n              break;\n            }\n          }\n          return new $64$mizchi$47$markdown$46$Inline$SoftBreak(mizchi$markdown$$Span$new(start, self.scanner.pos));\n        }\n        default: {\n          break _L;\n        }\n      }\n    }\n  }\n  return undefined;\n}\nfunction mizchi$markdown$$InlineParser$try_parse_emphasis(self, start, marker_char) {\n  const marker_count = mizchi$markdown$$Scanner$count_char(self.scanner, marker_char);\n  if (marker_count === 0) {\n    return undefined;\n  }\n  const is_strong = marker_count >= 2;\n  const consume_count = is_strong ? 2 : 1;\n  mizchi$markdown$$Scanner$advance(self.scanner, consume_count);\n  _L: {\n    _L$2: {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break _L$2;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 32: {\n            break _L$2;\n          }\n          case 9: {\n            break _L$2;\n          }\n          case 10: {\n            break _L$2;\n          }\n        }\n      }\n      break _L;\n    }\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  const children = mizchi$markdown$$InlineParser$parse_until_closing_marker(self, marker_char, consume_count);\n  if (children.length === 0) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  const marker = marker_char === 42 ? 0 : 1;\n  return is_strong ? new $64$mizchi$47$markdown$46$Inline$Strong(marker, children, mizchi$markdown$$Span$new(start, self.scanner.pos)) : new $64$mizchi$47$markdown$46$Inline$Emphasis(marker, children, mizchi$markdown$$Span$new(start, self.scanner.pos));\n}\nfunction mizchi$markdown$$InlineParser$parse_until_closing_marker(self, marker_char, marker_count) {\n  const children = [];\n  const text_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const text_start = self.scanner.pos;\n  _L: while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const closing_count = mizchi$markdown$$Scanner$count_char(self.scanner, marker_char);\n      if (closing_count >= marker_count) {\n        const prev_char = mizchi$markdown$$Scanner$peek_at(self.scanner, -1);\n        _L$2: {\n          _L$3: {\n            if (prev_char === -1) {\n              break _L$3;\n            } else {\n              const _Some = prev_char;\n              const _x = _Some;\n              switch (_x) {\n                case 32: {\n                  break;\n                }\n                case 9: {\n                  break;\n                }\n                case 10: {\n                  break;\n                }\n                default: {\n                  break _L$3;\n                }\n              }\n            }\n            break _L$2;\n          }\n          if (!(text_buf.val === \"\")) {\n            moonbitlang$core$array$$Array$push$19$(children, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(text_start, self.scanner.pos)));\n          }\n          mizchi$markdown$$Scanner$advance(self.scanner, marker_count);\n          return children;\n        }\n      }\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 96: {\n            if (!(text_buf.val === \"\")) {\n              moonbitlang$core$array$$Array$push$19$(children, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(text_start, self.scanner.pos)));\n            }\n            const nested_start = self.scanner.pos;\n            const _bind$4 = mizchi$markdown$$InlineParser$try_parse_code_span(self, nested_start);\n            if (_bind$4 === undefined) {\n            } else {\n              const _Some$2 = _bind$4;\n              const _code = _Some$2;\n              moonbitlang$core$array$$Array$push$19$(children, _code);\n              continue _L;\n            }\n            break;\n          }\n          case 91: {\n            if (!(text_buf.val === \"\")) {\n              moonbitlang$core$array$$Array$push$19$(children, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(text_start, self.scanner.pos)));\n            }\n            const nested_start$2 = self.scanner.pos;\n            const _bind$5 = mizchi$markdown$$InlineParser$try_parse_link(self, nested_start$2);\n            if (_bind$5 === undefined) {\n            } else {\n              const _Some$2 = _bind$5;\n              const _link = _Some$2;\n              moonbitlang$core$array$$Array$push$19$(children, _link);\n              continue _L;\n            }\n            break;\n          }\n          case 10: {\n            break _L;\n          }\n        }\n      }\n      const _bind$4 = mizchi$markdown$$Scanner$consume(self.scanner);\n      if (_bind$4 === -1) {\n        break;\n      } else {\n        const _Some = _bind$4;\n        const _c = _Some;\n        moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, _c);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return [];\n}\nfunction mizchi$markdown$$InlineParser$try_parse_link(self, start) {\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const text_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let bracket_depth = 1;\n  _L: while (true) {\n    let _tmp;\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      _tmp = bracket_depth > 0;\n    } else {\n      _tmp = false;\n    }\n    if (_tmp) {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 91: {\n            bracket_depth = bracket_depth + 1 | 0;\n            moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 91);\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break;\n          }\n          case 93: {\n            bracket_depth = bracket_depth - 1 | 0;\n            if (bracket_depth > 0) {\n              moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 93);\n            }\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break;\n          }\n          case 92: {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            const _bind$4 = mizchi$markdown$$Scanner$consume(self.scanner);\n            if (_bind$4 === -1) {\n              break _L;\n            } else {\n              const _Some$2 = _bind$4;\n              const _c = _Some$2;\n              moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, _c);\n            }\n            break;\n          }\n          default: {\n            moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, _x);\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const link_text = text_buf.val;\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 40;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    const url_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    let paren_depth = 1;\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n    const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n    const _p$4 = 60;\n    let _tmp$2;\n    if (_p$3 === -1) {\n      _tmp$2 = false;\n    } else {\n      const _p$5 = _p$3;\n      const _p$6 = _p$5;\n      _tmp$2 = _p$6 === _p$4;\n    }\n    if (_tmp$2) {\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      let angle_url_has_newline = false;\n      _L$2: while (true) {\n        const _p$5 = self.scanner;\n        if (!(_p$5.pos >= _p$5.len)) {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 62: {\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                break _L$2;\n              }\n              case 10: {\n                angle_url_has_newline = true;\n                break _L$2;\n              }\n              default: {\n                moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              }\n            }\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      if (angle_url_has_newline) {\n        mizchi$markdown$$Scanner$restore(self.scanner, start);\n        return undefined;\n      }\n    } else {\n      let url_has_newline = false;\n      _L$2: while (true) {\n        const _p$5 = self.scanner;\n        if (!(_p$5.pos >= _p$5.len)) {\n          _L$3: {\n            _L$4: {\n              const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$3 === -1) {\n                break;\n              } else {\n                const _Some = _bind$3;\n                const _x = _Some;\n                switch (_x) {\n                  case 40: {\n                    paren_depth = paren_depth + 1 | 0;\n                    moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, 40);\n                    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                    break;\n                  }\n                  case 41: {\n                    paren_depth = paren_depth - 1 | 0;\n                    if (paren_depth === 0) {\n                      break _L$2;\n                    }\n                    moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, 41);\n                    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                    break;\n                  }\n                  case 32: {\n                    break _L$4;\n                  }\n                  case 9: {\n                    break _L$4;\n                  }\n                  case 10: {\n                    url_has_newline = true;\n                    break _L$2;\n                  }\n                  default: {\n                    moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n                    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                  }\n                }\n              }\n              break _L$3;\n            }\n            break;\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      if (url_has_newline) {\n        mizchi$markdown$$Scanner$restore(self.scanner, start);\n        return undefined;\n      }\n    }\n    const url = url_buf.val;\n    while (true) {\n      const _p$5 = self.scanner;\n      if (!(_p$5.pos >= _p$5.len)) {\n        _L$2: {\n          _L$3: {\n            _L$4: {\n              const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$3 === -1) {\n                break _L$3;\n              } else {\n                const _Some = _bind$3;\n                const _x = _Some;\n                switch (_x) {\n                  case 32: {\n                    break _L$4;\n                  }\n                  case 9: {\n                    break _L$4;\n                  }\n                  case 10: {\n                    break _L$4;\n                  }\n                  default: {\n                    break _L$3;\n                  }\n                }\n              }\n            }\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break _L$2;\n          }\n          break;\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    let title;\n    _L$2: {\n      _L$3: {\n        const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n        if (_bind$3 === -1) {\n          title = \"\";\n        } else {\n          const _Some = _bind$3;\n          const _x = _Some;\n          switch (_x) {\n            case 34: {\n              break _L$3;\n            }\n            case 39: {\n              break _L$3;\n            }\n            case 40: {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              const title_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n              let paren_depth$2 = 1;\n              _L$4: while (true) {\n                let _tmp$3;\n                const _p$5 = self.scanner;\n                if (!(_p$5.pos >= _p$5.len)) {\n                  _tmp$3 = paren_depth$2 > 0;\n                } else {\n                  _tmp$3 = false;\n                }\n                if (_tmp$3) {\n                  const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n                  if (_bind$4 === -1) {\n                    break;\n                  } else {\n                    const _Some$2 = _bind$4;\n                    const _x$2 = _Some$2;\n                    switch (_x$2) {\n                      case 41: {\n                        paren_depth$2 = paren_depth$2 - 1 | 0;\n                        if (paren_depth$2 === 0) {\n                          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                          break _L$4;\n                        }\n                        moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, 41);\n                        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                        break;\n                      }\n                      case 40: {\n                        paren_depth$2 = paren_depth$2 + 1 | 0;\n                        moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, 40);\n                        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                        break;\n                      }\n                      case 92: {\n                        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                        const _bind$5 = mizchi$markdown$$Scanner$consume(self.scanner);\n                        if (_bind$5 === -1) {\n                          break _L$4;\n                        } else {\n                          const _Some$3 = _bind$5;\n                          const _c = _Some$3;\n                          moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _c);\n                        }\n                        break;\n                      }\n                      default: {\n                        moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _x$2);\n                        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                      }\n                    }\n                  }\n                  continue;\n                } else {\n                  break;\n                }\n              }\n              title = title_buf.val;\n              break;\n            }\n            default: {\n              title = \"\";\n            }\n          }\n        }\n        break _L$2;\n      }\n      const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n      const quote = _bind$3 === -1 ? 34 : _bind$3;\n      const title_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n      while (true) {\n        const _p$5 = self.scanner;\n        if (!(_p$5.pos >= _p$5.len)) {\n          const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$4 === -1) {\n            break;\n          } else {\n            const _Some = _bind$4;\n            const _c = _Some;\n            if (_c === quote) {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              break;\n            } else {\n              if (_c === 92) {\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                const _bind$5 = mizchi$markdown$$Scanner$consume(self.scanner);\n                if (_bind$5 === -1) {\n                  break;\n                } else {\n                  const _Some$2 = _bind$5;\n                  const _c$2 = _Some$2;\n                  moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _c$2);\n                }\n              } else {\n                moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _c);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              }\n            }\n          }\n          continue;\n        } else {\n          break;\n        }\n      }\n      title = title_buf.val;\n    }\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n    const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n    const _p$6 = 41;\n    let _tmp$3;\n    if (_p$5 === -1) {\n      _tmp$3 = false;\n    } else {\n      const _p$7 = _p$5;\n      const _p$8 = _p$7;\n      _tmp$3 = _p$8 === _p$6;\n    }\n    if (_tmp$3) {\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      const children = mizchi$markdown$$parse_inlines$46$inner(link_text, false);\n      if (mizchi$markdown$$contains_link(children)) {\n        mizchi$markdown$$Scanner$restore(self.scanner, start);\n        return undefined;\n      }\n      return new $64$mizchi$47$markdown$46$Inline$Link(children, url, title, mizchi$markdown$$Span$new(start, self.scanner.pos));\n    }\n  }\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 91;\n  let _tmp$2;\n  if (_p$3 === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$2 = _p$6 === _p$4;\n  }\n  if (_tmp$2) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    const label_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    while (true) {\n      const _p$5 = self.scanner;\n      if (!(_p$5.pos >= _p$5.len)) {\n        const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n        if (_bind$3 === -1) {\n          break;\n        } else {\n          const _Some = _bind$3;\n          const _x = _Some;\n          if (_x === 93) {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            break;\n          } else {\n            moonbitlang$core$builtin$$Logger$write_char$0$(label_buf, _x);\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          }\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    const label = label_buf.val;\n    const children = mizchi$markdown$$parse_inlines$46$inner(link_text, false);\n    if (mizchi$markdown$$contains_link(children)) {\n      mizchi$markdown$$Scanner$restore(self.scanner, start);\n      return undefined;\n    }\n    return new $64$mizchi$47$markdown$46$Inline$RefLink(children, label, mizchi$markdown$$Span$new(start, self.scanner.pos));\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, start);\n  return undefined;\n}\nfunction mizchi$markdown$$parse_inlines_with_delimiter_stack(text) {\n  const chars = moonbitlang$core$string$$String$to_array(text);\n  const len = chars.length;\n  const delimiters = [];\n  let i = 0;\n  while (true) {\n    if (i < len) {\n      const c = moonbitlang$core$array$$Array$at$11$(chars, i);\n      if (c === 42 || c === 95) {\n        const start = i;\n        let count = 0;\n        while (true) {\n          if (i < len && moonbitlang$core$array$$Array$at$11$(chars, i) === c) {\n            count = count + 1 | 0;\n            i = i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        const before = start > 0 ? moonbitlang$core$array$$Array$at$11$(chars, start - 1 | 0) : -1;\n        const after = i < len ? moonbitlang$core$array$$Array$at$11$(chars, i) : -1;\n        let before_is_whitespace;\n        if (before === -1) {\n          before_is_whitespace = true;\n        } else {\n          const _Some = before;\n          const _ch = _Some;\n          before_is_whitespace = mizchi$markdown$$is_unicode_whitespace(_ch);\n        }\n        let before_is_punctuation;\n        if (before === -1) {\n          before_is_punctuation = false;\n        } else {\n          const _Some = before;\n          const _ch = _Some;\n          before_is_punctuation = mizchi$markdown$$is_unicode_punctuation(_ch);\n        }\n        let after_is_whitespace;\n        if (after === -1) {\n          after_is_whitespace = true;\n        } else {\n          const _Some = after;\n          const _ch = _Some;\n          after_is_whitespace = mizchi$markdown$$is_unicode_whitespace(_ch);\n        }\n        let after_is_punctuation;\n        if (after === -1) {\n          after_is_punctuation = false;\n        } else {\n          const _Some = after;\n          const _ch = _Some;\n          after_is_punctuation = mizchi$markdown$$is_unicode_punctuation(_ch);\n        }\n        const left_flanking = !after_is_whitespace && (!after_is_punctuation || (before_is_whitespace || before_is_punctuation));\n        const right_flanking = !before_is_whitespace && (!before_is_punctuation || (after_is_whitespace || after_is_punctuation));\n        let can_open;\n        let can_close;\n        _L: {\n          if (c === 95) {\n            const _tmp = left_flanking && (!right_flanking || before_is_punctuation);\n            const _tmp$2 = right_flanking && (!left_flanking || after_is_punctuation);\n            can_open = _tmp;\n            can_close = _tmp$2;\n            break _L;\n          } else {\n            can_open = left_flanking;\n            can_close = right_flanking;\n            break _L;\n          }\n        }\n        if (can_open || can_close) {\n          moonbitlang$core$array$$Array$push$17$(delimiters, { pos: start, marker: c, length: count, remaining: count, can_open: can_open, can_close: can_close, active: true });\n        }\n      } else {\n        i = i + 1 | 0;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const matches = [];\n  let _tmp = 0;\n  while (true) {\n    const closer_idx = _tmp;\n    if (closer_idx < delimiters.length) {\n      _L: {\n        const closer = moonbitlang$core$array$$Array$at$17$(delimiters, closer_idx);\n        if (!closer.can_close || closer.remaining === 0) {\n          break _L;\n        }\n        let _tmp$2 = closer_idx - 1 | 0;\n        while (true) {\n          const opener_idx = _tmp$2;\n          if (opener_idx >= 0) {\n            _L$2: {\n              const opener = moonbitlang$core$array$$Array$at$17$(delimiters, opener_idx);\n              if (!opener.can_open || (opener.remaining === 0 || !opener.active)) {\n                break _L$2;\n              }\n              if (opener.marker !== closer.marker) {\n                break _L$2;\n              }\n              if (opener.can_open && opener.can_close || closer.can_open && closer.can_close) {\n                if (((opener.length + closer.length | 0) % 3 | 0) === 0) {\n                  if ((opener.length % 3 | 0) !== 0 || (closer.length % 3 | 0) !== 0) {\n                    break _L$2;\n                  }\n                }\n              }\n              const use_count = opener.remaining >= 2 && closer.remaining >= 2 ? 2 : 1;\n              const is_strong = use_count === 2;\n              const opener_end = ((opener.pos + opener.length | 0) - opener.remaining | 0) + use_count | 0;\n              const closer_start = closer.pos + (closer.length - closer.remaining | 0) | 0;\n              moonbitlang$core$array$$Array$push$9$(matches, { _0: opener_end - use_count | 0, _1: closer_start, _2: opener.marker, _3: is_strong });\n              moonbitlang$core$array$$Array$at$17$(delimiters, opener_idx).remaining = opener.remaining - use_count | 0;\n              moonbitlang$core$array$$Array$at$17$(delimiters, closer_idx).remaining = closer.remaining - use_count | 0;\n              let _tmp$3 = opener_idx + 1 | 0;\n              while (true) {\n                const j = _tmp$3;\n                if (j < closer_idx) {\n                  moonbitlang$core$array$$Array$at$17$(delimiters, j).active = false;\n                  _tmp$3 = j + 1 | 0;\n                  continue;\n                } else {\n                  break;\n                }\n              }\n              if (closer.remaining > 0) {\n              }\n              break;\n            }\n            _tmp$2 = opener_idx - 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        break _L;\n      }\n      _tmp = closer_idx + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  const result = [];\n  if (matches.length === 0) {\n    const segment_inlines = mizchi$markdown$$parse_segment_simple(text, 0);\n    const _len = segment_inlines.length;\n    let _tmp$2 = 0;\n    while (true) {\n      const _i = _tmp$2;\n      if (_i < _len) {\n        const inline = segment_inlines[_i];\n        moonbitlang$core$array$$Array$push$19$(result, inline);\n        _tmp$2 = _i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n  } else {\n    mizchi$markdown$$build_inlines_from_matches(text, chars, matches, result);\n  }\n  return result;\n}\nfunction mizchi$markdown$$build_inlines_from_matches(text, chars, matches, result) {\n  const sorted = moonbitlang$core$array$$Array$copy$9$(matches);\n  moonbitlang$core$array$$Array$sort_by$9$(sorted, (a, b) => $compare_int(a._0, b._0));\n  const len = chars.length;\n  mizchi$markdown$$build_inlines_recursive(text, chars, 0, len, sorted, 0, sorted.length, result);\n}\nfunction mizchi$markdown$$build_inlines_recursive(text, chars, start, end, matches, match_start, match_end, result) {\n  let pos = start;\n  let _tmp = match_start;\n  while (true) {\n    const i = _tmp;\n    if (i < match_end) {\n      _L: {\n        const _bind$3 = moonbitlang$core$array$$Array$at$9$(matches, i);\n        const _opener_pos = _bind$3._0;\n        const _closer_pos = _bind$3._1;\n        const _marker = _bind$3._2;\n        const _is_strong = _bind$3._3;\n        if (_opener_pos < start || (_closer_pos > end || _opener_pos < pos)) {\n          break _L;\n        }\n        const marker_len = _is_strong ? 2 : 1;\n        if (_opener_pos > pos) {\n          const segment = text.substring(pos, _opener_pos);\n          const segment_inlines = mizchi$markdown$$parse_segment_simple(segment, pos);\n          const _len = segment_inlines.length;\n          let _tmp$2 = 0;\n          while (true) {\n            const _i = _tmp$2;\n            if (_i < _len) {\n              const inline = segment_inlines[_i];\n              moonbitlang$core$array$$Array$push$19$(result, inline);\n              _tmp$2 = _i + 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n        }\n        const children = [];\n        const content_start = _opener_pos + marker_len | 0;\n        const nested_start = i + 1 | 0;\n        let nested_end = i + 1 | 0;\n        while (true) {\n          if (nested_end < match_end) {\n            const _bind$4 = moonbitlang$core$array$$Array$at$9$(matches, nested_end);\n            const _np = _bind$4._0;\n            const _nc = _bind$4._1;\n            if (_np >= content_start && _nc <= _closer_pos) {\n              nested_end = nested_end + 1 | 0;\n            } else {\n              break;\n            }\n            continue;\n          } else {\n            break;\n          }\n        }\n        if (nested_start < nested_end) {\n          mizchi$markdown$$build_inlines_recursive(text, chars, content_start, _closer_pos, matches, nested_start, nested_end, children);\n        } else {\n          const content = text.substring(content_start, _closer_pos);\n          const content_inlines = mizchi$markdown$$parse_segment_simple(content, content_start);\n          const _len = content_inlines.length;\n          let _tmp$2 = 0;\n          while (true) {\n            const _i = _tmp$2;\n            if (_i < _len) {\n              const inline = content_inlines[_i];\n              moonbitlang$core$array$$Array$push$19$(children, inline);\n              _tmp$2 = _i + 1 | 0;\n              continue;\n            } else {\n              break;\n            }\n          }\n        }\n        const em_marker = _marker === 42 ? 0 : 1;\n        const span = mizchi$markdown$$Span$new(_opener_pos, _closer_pos + marker_len | 0);\n        if (_is_strong) {\n          moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Strong(em_marker, children, span));\n        } else {\n          moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Emphasis(em_marker, children, span));\n        }\n        pos = _closer_pos + marker_len | 0;\n        break _L;\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (pos < end) {\n    const segment = text.substring(pos, end);\n    const segment_inlines = mizchi$markdown$$parse_segment_simple(segment, pos);\n    const _len = segment_inlines.length;\n    let _tmp$2 = 0;\n    while (true) {\n      const _i = _tmp$2;\n      if (_i < _len) {\n        const inline = segment_inlines[_i];\n        moonbitlang$core$array$$Array$push$19$(result, inline);\n        _tmp$2 = _i + 1 | 0;\n        continue;\n      } else {\n        return;\n      }\n    }\n  } else {\n    return;\n  }\n}\nfunction mizchi$markdown$$parse_segment_simple(text, offset) {\n  const scanner = mizchi$markdown$$Scanner$new(text);\n  const result = [];\n  const text_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let text_start = 0;\n  while (true) {\n    if (!(scanner.pos >= scanner.len)) {\n      const pos = scanner.pos;\n      const _bind$3 = mizchi$markdown$$Scanner$peek(scanner);\n      if (_bind$3 === -1) {\n        break;\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 96: {\n            const backtick_count = mizchi$markdown$$Scanner$count_char(scanner, 96);\n            mizchi$markdown$$Scanner$advance(scanner, backtick_count);\n            const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n            let found_closing = false;\n            while (true) {\n              if (!(scanner.pos >= scanner.len)) {\n                const closing_count = mizchi$markdown$$Scanner$count_char(scanner, 96);\n                if (closing_count === backtick_count) {\n                  found_closing = true;\n                  const content = content_buf.val;\n                  mizchi$markdown$$Scanner$advance(scanner, closing_count);\n                  if (!(text_buf.val === \"\")) {\n                    moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(offset + text_start | 0, offset + pos | 0)));\n                    moonbitlang$core$builtin$$StringBuilder$reset(text_buf);\n                  }\n                  let trimmed;\n                  if (content.length >= 2) {\n                    const chars = moonbitlang$core$string$$String$to_array(content);\n                    trimmed = moonbitlang$core$array$$Array$at$11$(chars, 0) === 32 && (moonbitlang$core$array$$Array$at$11$(chars, chars.length - 1 | 0) === 32 && !mizchi$markdown$$is_all_spaces(content)) ? content.substring(1, content.length - 1 | 0) : content;\n                  } else {\n                    trimmed = content;\n                  }\n                  moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Code(trimmed, backtick_count, mizchi$markdown$$Span$new(offset + pos | 0, offset + scanner.pos | 0)));\n                  text_start = scanner.pos;\n                  break;\n                } else {\n                  if (closing_count > 0) {\n                    let _tmp = 0;\n                    while (true) {\n                      const j = _tmp;\n                      if (j < closing_count) {\n                        moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 96);\n                        _tmp = j + 1 | 0;\n                        continue;\n                      } else {\n                        break;\n                      }\n                    }\n                    mizchi$markdown$$Scanner$advance(scanner, closing_count);\n                  } else {\n                    const _bind$4 = mizchi$markdown$$Scanner$consume(scanner);\n                    if (_bind$4 === -1) {\n                      break;\n                    } else {\n                      const _Some$2 = _bind$4;\n                      const _c = _Some$2;\n                      moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, _c);\n                    }\n                  }\n                }\n                continue;\n              } else {\n                break;\n              }\n            }\n            if (!found_closing) {\n              let _tmp = 0;\n              while (true) {\n                const j = _tmp;\n                if (j < backtick_count) {\n                  moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 96);\n                  _tmp = j + 1 | 0;\n                  continue;\n                } else {\n                  break;\n                }\n              }\n              moonbitlang$core$builtin$$Logger$write_string$0$(text_buf, content_buf.val);\n            }\n            break;\n          }\n          case 91: {\n            const link_parser = mizchi$markdown$$InlineParser$new(scanner);\n            const _bind$4 = mizchi$markdown$$InlineParser$try_parse_link(link_parser, pos);\n            if (_bind$4 === undefined) {\n              moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 91);\n              mizchi$markdown$$Scanner$advance(scanner, 1);\n            } else {\n              const _Some$2 = _bind$4;\n              const _link = _Some$2;\n              if (!(text_buf.val === \"\")) {\n                moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(offset + text_start | 0, offset + pos | 0)));\n                moonbitlang$core$builtin$$StringBuilder$reset(text_buf);\n              }\n              moonbitlang$core$array$$Array$push$19$(result, _link);\n              text_start = scanner.pos;\n            }\n            break;\n          }\n          case 33: {\n            const _p = mizchi$markdown$$Scanner$peek_at(scanner, 1);\n            const _p$2 = 91;\n            let _tmp;\n            if (_p === -1) {\n              _tmp = false;\n            } else {\n              const _p$3 = _p;\n              const _p$4 = _p$3;\n              _tmp = _p$4 === _p$2;\n            }\n            if (_tmp) {\n              const img_parser = mizchi$markdown$$InlineParser$new(scanner);\n              const _bind$5 = mizchi$markdown$$InlineParser$try_parse_image(img_parser, pos);\n              if (_bind$5 === undefined) {\n                moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 33);\n                mizchi$markdown$$Scanner$advance(scanner, 1);\n              } else {\n                const _Some$2 = _bind$5;\n                const _img = _Some$2;\n                if (!(text_buf.val === \"\")) {\n                  moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(offset + text_start | 0, offset + pos | 0)));\n                  moonbitlang$core$builtin$$StringBuilder$reset(text_buf);\n                }\n                moonbitlang$core$array$$Array$push$19$(result, _img);\n                text_start = scanner.pos;\n              }\n            } else {\n              moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 33);\n              mizchi$markdown$$Scanner$advance(scanner, 1);\n            }\n            break;\n          }\n          case 60: {\n            const auto_parser = mizchi$markdown$$InlineParser$new(scanner);\n            const _bind$5 = mizchi$markdown$$InlineParser$try_parse_autolink(auto_parser, pos);\n            if (_bind$5 === undefined) {\n              moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, 60);\n              mizchi$markdown$$Scanner$advance(scanner, 1);\n            } else {\n              const _Some$2 = _bind$5;\n              const _autolink = _Some$2;\n              if (!(text_buf.val === \"\")) {\n                moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(offset + text_start | 0, offset + pos | 0)));\n                moonbitlang$core$builtin$$StringBuilder$reset(text_buf);\n              }\n              moonbitlang$core$array$$Array$push$19$(result, _autolink);\n              text_start = scanner.pos;\n            }\n            break;\n          }\n          case 10: {\n            const content = text_buf.val;\n            const trimmed = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim_end$46$inner(content, { str: mizchi$markdown$$parse_segment_simple$46$42$bind$124$2631, start: 0, end: mizchi$markdown$$parse_segment_simple$46$42$bind$124$2631.length }));\n            const trailing_spaces = content.length - trimmed.length | 0;\n            const is_hard_break = trailing_spaces >= 2;\n            if (!(trimmed === \"\")) {\n              moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(trimmed, mizchi$markdown$$Span$new(offset + text_start | 0, (offset + pos | 0) - trailing_spaces | 0)));\n            }\n            moonbitlang$core$builtin$$StringBuilder$reset(text_buf);\n            mizchi$markdown$$Scanner$advance(scanner, 1);\n            while (true) {\n              const _p$3 = mizchi$markdown$$Scanner$peek(scanner);\n              const _p$4 = 32;\n              let _tmp$2;\n              if (_p$3 === -1) {\n                _tmp$2 = false;\n              } else {\n                const _p$5 = _p$3;\n                const _p$6 = _p$5;\n                _tmp$2 = _p$6 === _p$4;\n              }\n              if (_tmp$2) {\n                mizchi$markdown$$Scanner$advance(scanner, 1);\n                continue;\n              } else {\n                break;\n              }\n            }\n            if (is_hard_break) {\n              moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$HardBreak(0, mizchi$markdown$$Span$new((offset + pos | 0) - trailing_spaces | 0, offset + scanner.pos | 0)));\n            } else {\n              moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$SoftBreak(mizchi$markdown$$Span$new(offset + pos | 0, offset + scanner.pos | 0)));\n            }\n            text_start = scanner.pos;\n            break;\n          }\n          default: {\n            moonbitlang$core$builtin$$Logger$write_char$0$(text_buf, _x);\n            mizchi$markdown$$Scanner$advance(scanner, 1);\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (!(text_buf.val === \"\")) {\n    moonbitlang$core$array$$Array$push$19$(result, new $64$mizchi$47$markdown$46$Inline$Text(text_buf.val, mizchi$markdown$$Span$new(offset + text_start | 0, offset + scanner.pos | 0)));\n  }\n  return result;\n}\nfunction mizchi$markdown$$BlockParser$detect_list_marker(self) {\n  const saved = self.scanner.pos;\n  const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  if (_bind$3 === -1) {\n  } else {\n    const _Some = _bind$3;\n    const _x = _Some;\n    switch (_x) {\n      case 45: {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        _L: {\n          _L$2: {\n            const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n            if (_bind$4 === -1) {\n            } else {\n              const _Some$2 = _bind$4;\n              const _x$2 = _Some$2;\n              switch (_x$2) {\n                case 32: {\n                  break _L$2;\n                }\n                case 9: {\n                  break _L$2;\n                }\n              }\n            }\n            break _L;\n          }\n          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n          return mizchi$markdown$$detect_list_marker$46$constr$47$2166;\n        }\n        break;\n      }\n      case 42: {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        _L$2: {\n          _L$3: {\n            const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n            if (_bind$4 === -1) {\n            } else {\n              const _Some$2 = _bind$4;\n              const _x$2 = _Some$2;\n              switch (_x$2) {\n                case 32: {\n                  break _L$3;\n                }\n                case 9: {\n                  break _L$3;\n                }\n              }\n            }\n            break _L$2;\n          }\n          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n          return mizchi$markdown$$detect_list_marker$46$constr$47$2169;\n        }\n        break;\n      }\n      case 43: {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        _L$3: {\n          _L$4: {\n            const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n            if (_bind$4 === -1) {\n            } else {\n              const _Some$2 = _bind$4;\n              const _x$2 = _Some$2;\n              switch (_x$2) {\n                case 32: {\n                  break _L$4;\n                }\n                case 9: {\n                  break _L$4;\n                }\n              }\n            }\n            break _L$3;\n          }\n          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n          return mizchi$markdown$$detect_list_marker$46$constr$47$2172;\n        }\n        break;\n      }\n    }\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, saved);\n  if (mizchi$markdown$$char_is_digit(mizchi$markdown$$Scanner$peek(self.scanner))) {\n    let num = 0;\n    let digits = 0;\n    while (true) {\n      if (mizchi$markdown$$char_is_digit(mizchi$markdown$$Scanner$peek(self.scanner))) {\n        const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n        if (_bind$4 === -1) {\n          break;\n        } else {\n          const _Some = _bind$4;\n          const _c = _Some;\n          num = (Math.imul(num, 10) | 0) + (_c - 48 | 0) | 0;\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          digits = digits + 1 | 0;\n          if (digits > 9) {\n            mizchi$markdown$$Scanner$restore(self.scanner, saved);\n            return undefined;\n          }\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n    if (_bind$4 === -1) {\n    } else {\n      const _Some = _bind$4;\n      const _x = _Some;\n      switch (_x) {\n        case 46: {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          _L: {\n            _L$2: {\n              const _bind$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$5 === -1) {\n              } else {\n                const _Some$2 = _bind$5;\n                const _x$2 = _Some$2;\n                switch (_x$2) {\n                  case 32: {\n                    break _L$2;\n                  }\n                  case 9: {\n                    break _L$2;\n                  }\n                }\n              }\n              break _L;\n            }\n            mizchi$markdown$$Scanner$restore(self.scanner, saved);\n            return { _0: new $64$mizchi$47$markdown$46$ListMarkerKind$Ordered(num, 0), _1: digits + 2 | 0 };\n          }\n          break;\n        }\n        case 41: {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          _L$2: {\n            _L$3: {\n              const _bind$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$5 === -1) {\n              } else {\n                const _Some$2 = _bind$5;\n                const _x$2 = _Some$2;\n                switch (_x$2) {\n                  case 32: {\n                    break _L$3;\n                  }\n                  case 9: {\n                    break _L$3;\n                  }\n                }\n              }\n              break _L$2;\n            }\n            mizchi$markdown$$Scanner$restore(self.scanner, saved);\n            return { _0: new $64$mizchi$47$markdown$46$ListMarkerKind$Ordered(num, 1), _1: digits + 2 | 0 };\n          }\n          break;\n        }\n      }\n    }\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, saved);\n  return undefined;\n}\nfunction mizchi$markdown$$BlockParser$read_leading_trivia(self) {\n  const start = self.scanner.pos;\n  const count = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  return count > 0 ? mizchi$markdown$$Trivia$new(mizchi$markdown$$Scanner$substring(self.scanner, start, start + count | 0)) : mizchi$markdown$$empty$46$record$47$1518;\n}\nfunction mizchi$markdown$$BlockParser$read_trailing_trivia(self) {\n  const start = self.scanner.pos;\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  return self.scanner.pos > start ? mizchi$markdown$$Trivia$new(mizchi$markdown$$Scanner$substring(self.scanner, start, self.scanner.pos)) : mizchi$markdown$$empty$46$record$47$1518;\n}\nfunction mizchi$markdown$$BlockParser$try_parse_thematic_break(self, start) {\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  let marker;\n  _L: {\n    _L$2: {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break _L$2;\n      } else {\n        const _Some = _bind$3;\n        const _c = _Some;\n        if (_c === 45 || (_c === 42 || _c === 95)) {\n          marker = _c;\n        } else {\n          break _L$2;\n        }\n      }\n      break _L;\n    }\n    return undefined;\n  }\n  let count = 0;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      _L$2: {\n        _L$3: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$3;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            if (_x === 10) {\n              break;\n            } else {\n              if (_x === marker) {\n                count = count + 1 | 0;\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              } else {\n                if (_x === 32 || _x === 9) {\n                  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                } else {\n                  break _L$3;\n                }\n              }\n            }\n          }\n          break _L$2;\n        }\n        return undefined;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (count < 3) {\n    return undefined;\n  }\n  const trailing = mizchi$markdown$$BlockParser$read_trailing_trivia(self);\n  return new $64$mizchi$47$markdown$46$Block$ThematicBreak(marker, count, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, trailing);\n}\nfunction mizchi$markdown$$BlockParser$parse_paragraph(self, start) {\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let first = true;\n  _L: while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      if (mizchi$markdown$$Scanner$is_blank_line(self.scanner)) {\n        break;\n      }\n      const saved = self.scanner.pos;\n      mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      let c;\n      _L$2: {\n        _L$3: {\n          _L$4: {\n            _L$5: {\n              _L$6: {\n                _L$7: {\n                  const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n                  if (_bind$3 === -1) {\n                  } else {\n                    const _Some = _bind$3;\n                    const _x = _Some;\n                    switch (_x) {\n                      case 35: {\n                        break _L$7;\n                      }\n                      case 62: {\n                        break _L$7;\n                      }\n                      case 96: {\n                        if (moonbitlang$core$builtin$$Eq$equal$39$(mizchi$markdown$$Scanner$peek_at(self.scanner, 1), mizchi$markdown$$parse_paragraph$46$constr$47$2227) && moonbitlang$core$builtin$$Eq$equal$39$(mizchi$markdown$$Scanner$peek_at(self.scanner, 2), mizchi$markdown$$parse_paragraph$46$constr$47$2228)) {\n                          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n                          break _L;\n                        } else {\n                          if (_x >= 48 && _x <= 57) {\n                            c = _x;\n                            break _L$3;\n                          }\n                        }\n                        break;\n                      }\n                      case 126: {\n                        if (moonbitlang$core$builtin$$Eq$equal$39$(mizchi$markdown$$Scanner$peek_at(self.scanner, 1), mizchi$markdown$$parse_paragraph$46$constr$47$2229) && moonbitlang$core$builtin$$Eq$equal$39$(mizchi$markdown$$Scanner$peek_at(self.scanner, 2), mizchi$markdown$$parse_paragraph$46$constr$47$2230)) {\n                          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n                          break _L;\n                        } else {\n                          if (_x >= 48 && _x <= 57) {\n                            c = _x;\n                            break _L$3;\n                          }\n                        }\n                        break;\n                      }\n                      case 45: {\n                        break _L$5;\n                      }\n                      case 42: {\n                        break _L$5;\n                      }\n                      case 95: {\n                        break _L$5;\n                      }\n                      default: {\n                        if (_x >= 48 && _x <= 57) {\n                          c = _x;\n                          break _L$3;\n                        }\n                      }\n                    }\n                  }\n                  break _L$6;\n                }\n                mizchi$markdown$$Scanner$restore(self.scanner, saved);\n                break;\n              }\n              break _L$4;\n            }\n            const _bind$3 = mizchi$markdown$$BlockParser$try_parse_thematic_break(self, saved);\n            if (_bind$3 === undefined) {\n            } else {\n              mizchi$markdown$$Scanner$restore(self.scanner, saved);\n              break;\n            }\n            mizchi$markdown$$Scanner$restore(self.scanner, saved);\n            const _bind$4 = mizchi$markdown$$BlockParser$detect_list_marker(self);\n            if (_bind$4 === undefined) {\n            } else {\n              break;\n            }\n          }\n          break _L$2;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n        const _bind$3 = mizchi$markdown$$BlockParser$detect_list_marker(self);\n        if (_bind$3 === undefined) {\n        } else {\n          break;\n        }\n      }\n      mizchi$markdown$$Scanner$restore(self.scanner, saved);\n      if (!first) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 10);\n      }\n      const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n      moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n      first = false;\n      const _p$2 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$3 = 10;\n      let _tmp;\n      if (_p$2 === -1) {\n        _tmp = false;\n      } else {\n        const _p$4 = _p$2;\n        const _p$5 = _p$4;\n        _tmp = _p$5 === _p$3;\n      }\n      if (_tmp) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const content = content_buf.val;\n  if (moonbitlang$core$string$$StringView$is_empty(moonbitlang$core$string$$String$trim$46$inner(content, { str: mizchi$markdown$$parse_paragraph$46$42$bind$124$2721, start: 0, end: mizchi$markdown$$parse_paragraph$46$42$bind$124$2721.length }))) {\n    return undefined;\n  }\n  const children = mizchi$markdown$$parse_inlines$46$inner(content, self.strict);\n  return new $64$mizchi$47$markdown$46$Block$Paragraph(children, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$parse_heading_content(line) {\n  const trimmed = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim_end$46$inner(line, { str: mizchi$markdown$$parse_heading_content$46$42$bind$124$2734, start: 0, end: mizchi$markdown$$parse_heading_content$46$42$bind$124$2734.length }));\n  let hash_count = 0;\n  let idx = trimmed.length - 1 | 0;\n  while (true) {\n    if (idx >= 0) {\n      _L: {\n        _L$2: {\n          const _bind$3 = moonbitlang$core$string$$String$get_char(trimmed, idx);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            if (_x === 35) {\n              hash_count = hash_count + 1 | 0;\n              idx = idx - 1 | 0;\n            } else {\n              break _L$2;\n            }\n          }\n          break _L;\n        }\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (hash_count > 0 && idx >= 0) {\n    _L: {\n      _L$2: {\n        const _bind$3 = moonbitlang$core$string$$String$get_char(trimmed, idx);\n        if (_bind$3 === -1) {\n          break _L$2;\n        } else {\n          const _Some = _bind$3;\n          const _x = _Some;\n          switch (_x) {\n            case 32: {\n              break;\n            }\n            case 9: {\n              break;\n            }\n            default: {\n              break _L$2;\n            }\n          }\n        }\n        break _L;\n      }\n      return { _0: trimmed, _1: 0 };\n    }\n  }\n  if (hash_count > 0) {\n    const content = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim_end$46$inner(trimmed.substring(0, idx + 1 | 0), { str: mizchi$markdown$$parse_heading_content$46$42$bind$124$2733, start: 0, end: mizchi$markdown$$parse_heading_content$46$42$bind$124$2733.length }));\n    return { _0: content, _1: hash_count };\n  } else {\n    return { _0: trimmed, _1: 0 };\n  }\n}\nfunction mizchi$markdown$$BlockParser$try_parse_atx_heading(self, start) {\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const level = mizchi$markdown$$Scanner$count_char(self.scanner, 35);\n  if (level < 1 || level > 6) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, level);\n  const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  if (_bind$3 === -1) {\n  } else {\n    const _Some = _bind$3;\n    const _x = _Some;\n    switch (_x) {\n      case 32: {\n        break;\n      }\n      case 9: {\n        break;\n      }\n      case 10: {\n        break;\n      }\n      default: {\n        return undefined;\n      }\n    }\n  }\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  const _bind$4 = mizchi$markdown$$parse_heading_content(line);\n  const _content = _bind$4._0;\n  const _closing_hashes = _bind$4._1;\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const trailing = mizchi$markdown$$empty$46$record$47$1518;\n  const children = mizchi$markdown$$parse_inlines$46$inner(_content, self.strict);\n  return new $64$mizchi$47$markdown$46$Block$Heading(level, 0, children, _closing_hashes, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, trailing);\n}\nfunction mizchi$markdown$$strip_indent(line, n) {\n  let stripped = 0;\n  let idx = 0;\n  while (true) {\n    if (idx < line.length && stripped < n) {\n      _L: {\n        _L$2: {\n          const _bind$3 = moonbitlang$core$string$$String$get_char(line, idx);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 32: {\n                stripped = stripped + 1 | 0;\n                idx = idx + 1 | 0;\n                break;\n              }\n              case 9: {\n                stripped = stripped + 4 | 0;\n                idx = idx + 1 | 0;\n                break;\n              }\n              default: {\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return line.substring(idx, line.length);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_fenced_code(self, start, indent) {\n  if (indent > 3) {\n    return undefined;\n  }\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  let fence_char;\n  _L: {\n    _L$2: {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break _L$2;\n      } else {\n        const _Some = _bind$3;\n        const _c = _Some;\n        if (_c === 96 || _c === 126) {\n          fence_char = _c;\n        } else {\n          break _L$2;\n        }\n      }\n      break _L;\n    }\n    return undefined;\n  }\n  const fence_marker = fence_char === 96 ? 0 : 1;\n  const fence_length = mizchi$markdown$$Scanner$count_char(self.scanner, fence_char);\n  if (fence_length < 3) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, fence_length);\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  const info = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim_end$46$inner(mizchi$markdown$$Scanner$read_line(self.scanner), { str: mizchi$markdown$$try_parse_fenced_code$46$42$bind$124$2753, start: 0, end: mizchi$markdown$$try_parse_fenced_code$46$42$bind$124$2753.length }));\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const code_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      const line_indent = mizchi$markdown$$Scanner$count_leading_spaces(self.scanner);\n      if (line_indent <= 3) {\n        const saved = self.scanner.pos;\n        mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n        if (mizchi$markdown$$Scanner$count_char(self.scanner, fence_char) >= fence_length) {\n          mizchi$markdown$$Scanner$advance(self.scanner, mizchi$markdown$$Scanner$count_char(self.scanner, fence_char));\n          mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n          let _tmp$2;\n          const _p$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n          const _p$5 = 10;\n          let _tmp$3;\n          if (_p$4 === -1) {\n            _tmp$3 = false;\n          } else {\n            const _p$6 = _p$4;\n            const _p$7 = _p$6;\n            _tmp$3 = _p$7 === _p$5;\n          }\n          if (_tmp$3) {\n            _tmp$2 = true;\n          } else {\n            const _p$6 = self.scanner;\n            _tmp$2 = _p$6.pos >= _p$6.len;\n          }\n          if (_tmp$2) {\n            const _p$6 = mizchi$markdown$$Scanner$peek(self.scanner);\n            const _p$7 = 10;\n            let _tmp$4;\n            if (_p$6 === -1) {\n              _tmp$4 = false;\n            } else {\n              const _p$8 = _p$6;\n              const _p$9 = _p$8;\n              _tmp$4 = _p$9 === _p$7;\n            }\n            if (_tmp$4) {\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            }\n            break;\n          }\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n      }\n      const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n      const stripped = mizchi$markdown$$strip_indent(line, indent);\n      moonbitlang$core$builtin$$Logger$write_string$0$(code_buf, stripped);\n      const _p$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$5 = 10;\n      let _tmp$2;\n      if (_p$4 === -1) {\n        _tmp$2 = false;\n      } else {\n        const _p$6 = _p$4;\n        const _p$7 = _p$6;\n        _tmp$2 = _p$7 === _p$5;\n      }\n      if (_tmp$2) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(code_buf, 10);\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const trailing = mizchi$markdown$$empty$46$record$47$1518;\n  return new $64$mizchi$47$markdown$46$Block$FencedCode(fence_marker, fence_length, info, code_buf.val, indent, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, trailing);\n}\nfunction mizchi$markdown$$is_html_block_tag(tag) {\n  const lower = moonbitlang$core$string$$String$to_lower(tag);\n  const _len = mizchi$markdown$$html_block_tags.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const t = mizchi$markdown$$html_block_tags[_i];\n      if (lower === t) {\n        return true;\n      }\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return false;\n}\nfunction mizchi$markdown$$BlockParser$try_parse_html_block(self, start) {\n  const saved = self.scanner.pos;\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 60;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const peek_pos = self.scanner.pos;\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 47;\n  let is_closing;\n  if (_p$3 === -1) {\n    is_closing = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    is_closing = _p$6 === _p$4;\n  }\n  if (is_closing) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const tag_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p$5 = self.scanner;\n    if (!(_p$5.pos >= _p$5.len)) {\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _c = _Some;\n            if (_c >= 97 && _c <= 122 || (_c >= 65 && _c <= 90 || _c >= 48 && _c <= 57)) {\n              moonbitlang$core$builtin$$Logger$write_char$0$(tag_buf, _c);\n              mizchi$markdown$$Scanner$advance(self.scanner, 1);\n            } else {\n              break _L$2;\n            }\n          }\n          break _L;\n        }\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const tag_name = tag_buf.val;\n  if (tag_name === \"\") {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  if (!mizchi$markdown$$is_html_block_tag(tag_name)) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$restore(self.scanner, peek_pos);\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p$5 = self.scanner;\n    if (!(_p$5.pos >= _p$5.len)) {\n      const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n      moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n      const _p$6 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$7 = 10;\n      let _tmp$2;\n      if (_p$6 === -1) {\n        _tmp$2 = false;\n      } else {\n        const _p$8 = _p$6;\n        const _p$9 = _p$8;\n        _tmp$2 = _p$9 === _p$7;\n      }\n      if (_tmp$2) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 10);\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      }\n      if (mizchi$markdown$$Scanner$is_blank_line(self.scanner)) {\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const html = content_buf.val;\n  return new $64$mizchi$47$markdown$46$Block$HtmlBlock(html, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_indented_code(self, start) {\n  const leading = mizchi$markdown$$empty$46$record$47$1518;\n  const code_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const line_start = self.scanner.pos;\n      const indent = mizchi$markdown$$Scanner$count_leading_spaces(self.scanner);\n      if (indent < 4 && !mizchi$markdown$$Scanner$is_blank_line(self.scanner)) {\n        mizchi$markdown$$Scanner$restore(self.scanner, line_start);\n        break;\n      }\n      if (mizchi$markdown$$Scanner$is_blank_line(self.scanner)) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(code_buf, 10);\n        mizchi$markdown$$Scanner$skip_line(self.scanner);\n      } else {\n        mizchi$markdown$$Scanner$advance(self.scanner, 4);\n        const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n        moonbitlang$core$builtin$$Logger$write_string$0$(code_buf, line);\n        const _p$2 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$3 = 10;\n        let _tmp;\n        if (_p$2 === -1) {\n          _tmp = false;\n        } else {\n          const _p$4 = _p$2;\n          const _p$5 = _p$4;\n          _tmp = _p$5 === _p$3;\n        }\n        if (_tmp) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(code_buf, 10);\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const code = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim_end$46$inner(code_buf.val, { str: mizchi$markdown$$try_parse_indented_code$46$42$bind$124$2769, start: 0, end: mizchi$markdown$$try_parse_indented_code$46$42$bind$124$2769.length }));\n  if (code === \"\") {\n    return undefined;\n  }\n  return new $64$mizchi$47$markdown$46$Block$IndentedCode(code, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_link_definition(self, start) {\n  const saved = self.scanner.pos;\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 91;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const label_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  _L: while (true) {\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      _L$2: {\n        _L$3: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$3;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 93: {\n                break _L;\n              }\n              case 10: {\n                break _L$3;\n              }\n              default: {\n                moonbitlang$core$builtin$$Logger$write_char$0$(label_buf, _x);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              }\n            }\n          }\n          break _L$2;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n        return undefined;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 58;\n  let _tmp$2;\n  if (_p$3 === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$2 = _p$6 === _p$4;\n  }\n  if (!_tmp$2) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$6 = 10;\n  let _tmp$3;\n  if (_p$5 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$7 = _p$5;\n    const _p$8 = _p$7;\n    _tmp$3 = _p$8 === _p$6;\n  }\n  if (_tmp$3) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  }\n  let url;\n  const _p$7 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$8 = 60;\n  let _tmp$4;\n  if (_p$7 === -1) {\n    _tmp$4 = false;\n  } else {\n    const _p$9 = _p$7;\n    const _p$10 = _p$9;\n    _tmp$4 = _p$10 === _p$8;\n  }\n  if (_tmp$4) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    const url_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    while (true) {\n      let _tmp$5;\n      const _p$9 = self.scanner;\n      if (!(_p$9.pos >= _p$9.len)) {\n        const _p$10 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$11 = 62;\n        let _tmp$6;\n        if (_p$10 === -1) {\n          _tmp$6 = false;\n        } else {\n          const _p$12 = _p$10;\n          const _p$13 = _p$12;\n          _tmp$6 = _p$13 === _p$11;\n        }\n        _tmp$5 = !_tmp$6;\n      } else {\n        _tmp$5 = false;\n      }\n      if (_tmp$5) {\n        const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n        if (_bind$3 === -1) {\n          break;\n        } else {\n          const _Some = _bind$3;\n          const _c = _Some;\n          moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _c);\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    url = url_buf.val;\n  } else {\n    const url_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    while (true) {\n      const _p$9 = self.scanner;\n      if (!(_p$9.pos >= _p$9.len)) {\n        _L$2: {\n          _L$3: {\n            const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n            if (_bind$3 === -1) {\n              break _L$3;\n            } else {\n              const _Some = _bind$3;\n              const _x = _Some;\n              switch (_x) {\n                case 32: {\n                  break _L$3;\n                }\n                case 9: {\n                  break _L$3;\n                }\n                case 10: {\n                  break _L$3;\n                }\n                default: {\n                  moonbitlang$core$builtin$$Logger$write_char$0$(url_buf, _x);\n                  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n                }\n              }\n            }\n            break _L$2;\n          }\n          break;\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    url = url_buf.val;\n  }\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  let title;\n  _L$2: {\n    _L$3: {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        title = \"\";\n      } else {\n        const _Some = _bind$3;\n        const _x = _Some;\n        switch (_x) {\n          case 34: {\n            break _L$3;\n          }\n          case 39: {\n            break _L$3;\n          }\n          default: {\n            title = \"\";\n          }\n        }\n      }\n      break _L$2;\n    }\n    const _bind$3 = mizchi$markdown$$Scanner$consume(self.scanner);\n    const quote = _bind$3 === -1 ? 34 : _bind$3;\n    const title_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    while (true) {\n      let _tmp$5;\n      const _p$9 = self.scanner;\n      if (!(_p$9.pos >= _p$9.len)) {\n        const _p$10 = mizchi$markdown$$Scanner$peek(self.scanner);\n        let _tmp$6;\n        if (_p$10 === -1) {\n          _tmp$6 = false;\n        } else {\n          const _p$11 = _p$10;\n          const _p$12 = _p$11;\n          _tmp$6 = _p$12 === quote;\n        }\n        _tmp$5 = !_tmp$6;\n      } else {\n        _tmp$5 = false;\n      }\n      if (_tmp$5) {\n        const _bind$4 = mizchi$markdown$$Scanner$consume(self.scanner);\n        if (_bind$4 === -1) {\n          break;\n        } else {\n          const _Some = _bind$4;\n          const _c = _Some;\n          moonbitlang$core$builtin$$Logger$write_char$0$(title_buf, _c);\n        }\n        continue;\n      } else {\n        break;\n      }\n    }\n    const _p$9 = mizchi$markdown$$Scanner$peek(self.scanner);\n    let _tmp$5;\n    if (_p$9 === -1) {\n      _tmp$5 = false;\n    } else {\n      const _p$10 = _p$9;\n      const _p$11 = _p$10;\n      _tmp$5 = _p$11 === quote;\n    }\n    if (_tmp$5) {\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n    }\n    title = title_buf.val;\n  }\n  mizchi$markdown$$Scanner$skip_line(self.scanner);\n  const def = { label: moonbitlang$core$string$$String$to_lower(label_buf.val), url: url, title: title, span: mizchi$markdown$$Span$new(start, self.scanner.pos) };\n  moonbitlang$core$array$$Array$push$34$(self.definitions, def);\n  return def;\n}\nfunction mizchi$markdown$$skip_n_chars(s, n) {\n  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let i = 0;\n  const _it = moonbitlang$core$string$$String$iter(s);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n    if (_bind$3 === -1) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _c = _Some;\n      if (i >= n) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(buf, _c);\n      }\n      i = i + 1 | 0;\n      continue;\n    }\n  }\n  return buf.val;\n}\nfunction mizchi$markdown$$parse_task_checkbox(content) {\n  if (content.length >= 4) {\n    if (moonbitlang$core$string$$String$has_prefix(content, { str: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2812, start: 0, end: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2812.length })) {\n      return { _0: mizchi$markdown$$parse_task_checkbox$46$constr$47$2382, _1: mizchi$markdown$$skip_n_chars(content, 4) };\n    }\n    if (moonbitlang$core$string$$String$has_prefix(content, { str: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2813, start: 0, end: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2813.length }) || moonbitlang$core$string$$String$has_prefix(content, { str: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2814, start: 0, end: mizchi$markdown$$parse_task_checkbox$46$42$bind$124$2814.length })) {\n      return { _0: mizchi$markdown$$parse_task_checkbox$46$constr$47$2383, _1: mizchi$markdown$$skip_n_chars(content, 4) };\n    }\n  }\n  if (content === \"[ ]\") {\n    return mizchi$markdown$$parse_task_checkbox$46$tuple$47$2385;\n  }\n  if (content === \"[x]\" || content === \"[X]\") {\n    return mizchi$markdown$$parse_task_checkbox$46$tuple$47$2387;\n  }\n  return { _0: -1, _1: content };\n}\nfunction mizchi$markdown$$BlockParser$parse_nested_list_item(self, start, marker_offset, content_offset) {\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const content = content_buf.val;\n  const children = [];\n  const _bind$3 = mizchi$markdown$$parse_task_checkbox(content);\n  const _checked = _bind$3._0;\n  const _actual_content = _bind$3._1;\n  if (!(_actual_content === \"\")) {\n    const inline_content = mizchi$markdown$$parse_inlines$46$inner(_actual_content, self.strict);\n    moonbitlang$core$array$$Array$push$31$(children, new $64$mizchi$47$markdown$46$Block$Paragraph(inline_content, mizchi$markdown$$Span$new(start, self.scanner.pos), mizchi$markdown$$empty$46$record$47$1518, mizchi$markdown$$empty$46$record$47$1518));\n  }\n  return { children: children, checked: _checked, marker_offset: marker_offset, content_offset: content_offset, span: mizchi$markdown$$Span$new(start, self.scanner.pos) };\n}\nfunction mizchi$markdown$$BlockParser$parse_nested_bullet_list(self, marker, min_indent) {\n  const items = [];\n  let tight = true;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const item_start = self.scanner.pos;\n      const marker_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      if (marker_offset < min_indent) {\n        mizchi$markdown$$Scanner$restore(self.scanner, item_start);\n        break;\n      }\n      let current_marker;\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 45: {\n                current_marker = mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2401;\n                break;\n              }\n              case 42: {\n                current_marker = mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2402;\n                break;\n              }\n              case 43: {\n                current_marker = mizchi$markdown$$parse_nested_bullet_list$46$constr$47$2403;\n                break;\n              }\n              default: {\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        current_marker = undefined;\n      }\n      if (moonbitlang$core$builtin$$Eq$not_equal$20$(current_marker, marker)) {\n        mizchi$markdown$$Scanner$restore(self.scanner, item_start);\n        break;\n      }\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      const content_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      const actual_offset = content_offset === 0 ? 1 : content_offset;\n      const item = mizchi$markdown$$BlockParser$parse_nested_list_item(self, item_start, marker_offset, actual_offset);\n      moonbitlang$core$array$$Array$push$18$(items, item);\n      let _tmp;\n      const _p$2 = self.scanner;\n      if (!(_p$2.pos >= _p$2.len)) {\n        _tmp = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n      } else {\n        _tmp = false;\n      }\n      if (_tmp) {\n        tight = false;\n        while (true) {\n          let _tmp$2;\n          const _p$3 = self.scanner;\n          if (!(_p$3.pos >= _p$3.len)) {\n            _tmp$2 = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n          } else {\n            _tmp$2 = false;\n          }\n          if (_tmp$2) {\n            mizchi$markdown$$Scanner$skip_line(self.scanner);\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (items.length === 0) {\n    return undefined;\n  }\n  return new $64$mizchi$47$markdown$46$Block$BulletList(marker, tight, items, mizchi$markdown$$Span$new(moonbitlang$core$array$$Array$at$18$(items, 0).span.from, self.scanner.pos), mizchi$markdown$$empty$46$record$47$1518, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$parse_list_item(self, start, marker_offset, content_offset) {\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const content = content_buf.val;\n  const children = [];\n  const _bind$3 = mizchi$markdown$$parse_task_checkbox(content);\n  const _checked = _bind$3._0;\n  const _actual_content = _bind$3._1;\n  if (!(_actual_content === \"\")) {\n    const inline_content = mizchi$markdown$$parse_inlines$46$inner(_actual_content, self.strict);\n    moonbitlang$core$array$$Array$push$31$(children, new $64$mizchi$47$markdown$46$Block$Paragraph(inline_content, mizchi$markdown$$Span$new(start, self.scanner.pos), mizchi$markdown$$empty$46$record$47$1518, mizchi$markdown$$empty$46$record$47$1518));\n  }\n  const min_indent = (marker_offset + 1 | 0) + content_offset | 0;\n  while (true) {\n    let _tmp$2;\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      _tmp$2 = !mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n    } else {\n      _tmp$2 = false;\n    }\n    if (_tmp$2) {\n      const saved = self.scanner.pos;\n      const indent = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      if (indent < min_indent) {\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n        break;\n      }\n      _L: {\n        _L$2: {\n          _L$3: {\n            const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n            if (_bind$4 === -1) {\n              break _L$2;\n            } else {\n              const _Some = _bind$4;\n              const _x = _Some;\n              switch (_x) {\n                case 45: {\n                  break _L$3;\n                }\n                case 42: {\n                  break _L$3;\n                }\n                case 43: {\n                  break _L$3;\n                }\n                default: {\n                  break _L$2;\n                }\n              }\n            }\n          }\n          let nested_marker;\n          _L$4: {\n            _L$5: {\n              const _bind$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n              if (_bind$4 === -1) {\n                break _L$5;\n              } else {\n                const _Some = _bind$4;\n                const _x = _Some;\n                switch (_x) {\n                  case 45: {\n                    nested_marker = 0;\n                    break;\n                  }\n                  case 42: {\n                    nested_marker = 1;\n                    break;\n                  }\n                  case 43: {\n                    nested_marker = 2;\n                    break;\n                  }\n                  default: {\n                    break _L$5;\n                  }\n                }\n              }\n              break _L$4;\n            }\n            nested_marker = $panic();\n          }\n          mizchi$markdown$$Scanner$restore(self.scanner, saved);\n          const _bind$4 = mizchi$markdown$$BlockParser$parse_nested_bullet_list(self, nested_marker, min_indent);\n          if (_bind$4 === undefined) {\n            break;\n          } else {\n            const _Some = _bind$4;\n            const _nested_list = _Some;\n            moonbitlang$core$array$$Array$push$31$(children, _nested_list);\n          }\n          break _L;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return { children: children, checked: _checked, marker_offset: marker_offset, content_offset: content_offset, span: mizchi$markdown$$Span$new(start, self.scanner.pos) };\n}\nfunction mizchi$markdown$$BlockParser$parse_bullet_list(self, start, leading, marker, _marker_width) {\n  const items = [];\n  let tight = true;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const item_start = self.scanner.pos;\n      const marker_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      let current_marker;\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 45: {\n                current_marker = mizchi$markdown$$parse_bullet_list$46$constr$47$2450;\n                break;\n              }\n              case 42: {\n                current_marker = mizchi$markdown$$parse_bullet_list$46$constr$47$2451;\n                break;\n              }\n              case 43: {\n                current_marker = mizchi$markdown$$parse_bullet_list$46$constr$47$2452;\n                break;\n              }\n              default: {\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        current_marker = undefined;\n      }\n      if (moonbitlang$core$builtin$$Eq$not_equal$20$(current_marker, marker)) {\n        mizchi$markdown$$Scanner$restore(self.scanner, item_start);\n        break;\n      }\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      const content_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      const actual_offset = content_offset === 0 ? 1 : content_offset;\n      const item = mizchi$markdown$$BlockParser$parse_list_item(self, item_start, marker_offset, actual_offset);\n      moonbitlang$core$array$$Array$push$18$(items, item);\n      let _tmp;\n      const _p$2 = self.scanner;\n      if (!(_p$2.pos >= _p$2.len)) {\n        _tmp = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n      } else {\n        _tmp = false;\n      }\n      if (_tmp) {\n        tight = false;\n        while (true) {\n          let _tmp$2;\n          const _p$3 = self.scanner;\n          if (!(_p$3.pos >= _p$3.len)) {\n            _tmp$2 = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n          } else {\n            _tmp$2 = false;\n          }\n          if (_tmp$2) {\n            mizchi$markdown$$Scanner$skip_line(self.scanner);\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (items.length === 0) {\n    return undefined;\n  }\n  return new $64$mizchi$47$markdown$46$Block$BulletList(marker, tight, items, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$parse_ordered_list(self, start, leading, start_num, delimiter, _marker_width) {\n  const items = [];\n  let tight = true;\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const item_start = self.scanner.pos;\n      const marker_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$BlockParser$detect_list_marker(self);\n          if (_bind$3 === undefined) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            const _x$2 = _x._0;\n            if (_x$2.$tag === 1) {\n              const _Ordered = _x$2;\n              const _d = _Ordered._1;\n              if (moonbitlang$core$builtin$$Eq$equal$45$(_d, delimiter)) {\n              } else {\n                break _L$2;\n              }\n            } else {\n              break _L$2;\n            }\n          }\n          break _L;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, item_start);\n        break;\n      }\n      while (true) {\n        if (mizchi$markdown$$char_is_digit(mizchi$markdown$$Scanner$peek(self.scanner))) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          continue;\n        } else {\n          break;\n        }\n      }\n      mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      const content_offset = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      const actual_offset = content_offset === 0 ? 1 : content_offset;\n      const item = mizchi$markdown$$BlockParser$parse_list_item(self, item_start, marker_offset, actual_offset);\n      moonbitlang$core$array$$Array$push$18$(items, item);\n      let _tmp;\n      const _p$2 = self.scanner;\n      if (!(_p$2.pos >= _p$2.len)) {\n        _tmp = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n      } else {\n        _tmp = false;\n      }\n      if (_tmp) {\n        tight = false;\n        while (true) {\n          let _tmp$2;\n          const _p$3 = self.scanner;\n          if (!(_p$3.pos >= _p$3.len)) {\n            _tmp$2 = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n          } else {\n            _tmp$2 = false;\n          }\n          if (_tmp$2) {\n            mizchi$markdown$$Scanner$skip_line(self.scanner);\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (items.length === 0) {\n    return undefined;\n  }\n  return new $64$mizchi$47$markdown$46$Block$OrderedList(start_num, delimiter, tight, items, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_list(self, start) {\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const _bind$3 = mizchi$markdown$$BlockParser$detect_list_marker(self);\n  if (_bind$3 === undefined) {\n    return undefined;\n  } else {\n    const _Some = _bind$3;\n    const _x = _Some;\n    const _marker_kind = _x._0;\n    const _marker_width = _x._1;\n    if (_marker_kind.$tag === 0) {\n      const _Bullet = _marker_kind;\n      const _marker = _Bullet._0;\n      return mizchi$markdown$$BlockParser$parse_bullet_list(self, start, leading, _marker, _marker_width);\n    } else {\n      const _Ordered = _marker_kind;\n      const _start_num = _Ordered._0;\n      const _delim = _Ordered._1;\n      return mizchi$markdown$$BlockParser$parse_ordered_list(self, start, leading, _start_num, _delim, _marker_width);\n    }\n  }\n}\nfunction mizchi$markdown$$BlockParser$try_parse_setext_heading(self, start) {\n  const saved = self.scanner.pos;\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const content = mizchi$markdown$$Scanner$read_line(self.scanner);\n  if (moonbitlang$core$string$$StringView$is_empty(moonbitlang$core$string$$String$trim$46$inner(content, { str: mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2888, start: 0, end: mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2888.length }))) {\n    return undefined;\n  }\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  } else {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  let underline_char;\n  _L: {\n    _L$2: {\n      const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n      if (_bind$3 === -1) {\n        break _L$2;\n      } else {\n        const _Some = _bind$3;\n        const _c = _Some;\n        if (_c === 61 || _c === 45) {\n          underline_char = _c;\n        } else {\n          break _L$2;\n        }\n      }\n      break _L;\n    }\n    return undefined;\n  }\n  const level = underline_char === 61 ? 1 : 2;\n  const underline_count = mizchi$markdown$$Scanner$count_char(self.scanner, underline_char);\n  if (underline_count < 1) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, underline_count);\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  let _tmp$2;\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 10;\n  let _tmp$3;\n  if (_p$3 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$3 = _p$6 === _p$4;\n  }\n  if (!_tmp$3) {\n    const _p$5 = self.scanner;\n    _tmp$2 = !(_p$5.pos >= _p$5.len);\n  } else {\n    _tmp$2 = false;\n  }\n  if (_tmp$2) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$6 = 10;\n  let _tmp$4;\n  if (_p$5 === -1) {\n    _tmp$4 = false;\n  } else {\n    const _p$7 = _p$5;\n    const _p$8 = _p$7;\n    _tmp$4 = _p$8 === _p$6;\n  }\n  if (_tmp$4) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const content_str = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(content, { str: mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2889, start: 0, end: mizchi$markdown$$try_parse_setext_heading$46$42$bind$124$2889.length }));\n  const children = mizchi$markdown$$parse_inlines$46$inner(content_str, self.strict);\n  return new $64$mizchi$47$markdown$46$Block$Heading(level, 1, children, 0, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$split_table_cells(line) {\n  const cells = [];\n  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let in_escape = false;\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < line.length) {\n      let c;\n      _L: {\n        _L$2: {\n          const _bind$3 = moonbitlang$core$string$$String$get_char(line, i);\n          if (_bind$3 === -1) {\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            switch (_x) {\n              case 92: {\n                if (!in_escape) {\n                  in_escape = true;\n                  moonbitlang$core$builtin$$Logger$write_char$0$(buf, 92);\n                } else {\n                  c = _x;\n                  break _L$2;\n                }\n                break;\n              }\n              case 124: {\n                if (!in_escape) {\n                  moonbitlang$core$array$$Array$push$5$(cells, buf.val);\n                  moonbitlang$core$builtin$$StringBuilder$reset(buf);\n                } else {\n                  c = _x;\n                  break _L$2;\n                }\n                break;\n              }\n              default: {\n                c = _x;\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        in_escape = false;\n        moonbitlang$core$builtin$$Logger$write_char$0$(buf, c);\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  const last = buf.val;\n  if (!moonbitlang$core$string$$StringView$is_empty(moonbitlang$core$string$$String$trim$46$inner(last, { str: mizchi$markdown$$split_table_cells$46$42$bind$124$2904, start: 0, end: mizchi$markdown$$split_table_cells$46$42$bind$124$2904.length }))) {\n    moonbitlang$core$array$$Array$push$5$(cells, last);\n  }\n  if (cells.length > 0) {\n    const _bind$3 = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(moonbitlang$core$array$$Array$at$5$(cells, 0), { str: mizchi$markdown$$split_table_cells$46$42$bind$124$2905, start: 0, end: mizchi$markdown$$split_table_cells$46$42$bind$124$2905.length }));\n    if (_bind$3 === \"\") {\n      moonbitlang$core$array$$Array$remove$5$(cells, 0);\n    }\n  }\n  return cells;\n}\nfunction mizchi$markdown$$parse_table_alignments(line) {\n  const alignments = [];\n  const cells = mizchi$markdown$$split_table_cells(line);\n  const _len = cells.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      _L: {\n        const cell = cells[_i];\n        const trimmed = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(cell, { str: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2921, start: 0, end: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2921.length }));\n        if (trimmed === \"\") {\n          break _L;\n        }\n        const has_left_colon = moonbitlang$core$string$$String$has_prefix(trimmed, { str: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2920, start: 0, end: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2920.length });\n        const has_right_colon = moonbitlang$core$string$$String$has_suffix(trimmed, { str: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2919, start: 0, end: mizchi$markdown$$parse_table_alignments$46$42$bind$124$2919.length });\n        let has_dash = false;\n        let _tmp$2 = 0;\n        while (true) {\n          const i = _tmp$2;\n          if (i < trimmed.length) {\n            _L$2: {\n              _L$3: {\n                const _bind$3 = moonbitlang$core$string$$String$get_char(trimmed, i);\n                if (_bind$3 === -1) {\n                  break _L$3;\n                } else {\n                  const _Some = _bind$3;\n                  const _x = _Some;\n                  switch (_x) {\n                    case 45: {\n                      has_dash = true;\n                      break;\n                    }\n                    case 58: {\n                      break;\n                    }\n                    default: {\n                      break _L$3;\n                    }\n                  }\n                }\n                break _L$2;\n              }\n              return [];\n            }\n            _tmp$2 = i + 1 | 0;\n            continue;\n          } else {\n            break;\n          }\n        }\n        if (!has_dash) {\n          return [];\n        }\n        const align = has_left_colon && has_right_colon ? 1 : has_left_colon ? 0 : has_right_colon ? 2 : 3;\n        moonbitlang$core$array$$Array$push$12$(alignments, align);\n        break _L;\n      }\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return alignments;\n}\nfunction mizchi$markdown$$parse_table_row(line, expected_cols, strict) {\n  const cells = [];\n  const raw_cells = mizchi$markdown$$split_table_cells(line);\n  const _len = raw_cells.length;\n  let _tmp = 0;\n  while (true) {\n    const _i = _tmp;\n    if (_i < _len) {\n      const cell = raw_cells[_i];\n      if (_i >= expected_cols) {\n        break;\n      }\n      const content = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(cell, { str: mizchi$markdown$$parse_table_row$46$42$bind$124$2924, start: 0, end: mizchi$markdown$$parse_table_row$46$42$bind$124$2924.length }));\n      const children = mizchi$markdown$$parse_inlines$46$inner(content, strict);\n      moonbitlang$core$array$$Array$push$36$(cells, { children: children, span: mizchi$markdown$$Span$new(0, content.length) });\n      _tmp = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  while (true) {\n    if (cells.length < expected_cols) {\n      moonbitlang$core$array$$Array$push$36$(cells, { children: [], span: mizchi$markdown$$Span$new(0, 0) });\n      continue;\n    } else {\n      break;\n    }\n  }\n  return cells;\n}\nfunction mizchi$markdown$$BlockParser$try_parse_table(self, start) {\n  const saved = self.scanner.pos;\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const header_line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  if (!moonbitlang$core$string$$String$contains(header_line, { str: mizchi$markdown$$try_parse_table$46$42$bind$124$2926, start: 0, end: mizchi$markdown$$try_parse_table$46$42$bind$124$2926.length })) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const separator_line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  if (!moonbitlang$core$string$$String$contains(separator_line, { str: mizchi$markdown$$try_parse_table$46$42$bind$124$2927, start: 0, end: mizchi$markdown$$try_parse_table$46$42$bind$124$2927.length }) || !moonbitlang$core$string$$String$contains(separator_line, { str: mizchi$markdown$$try_parse_table$46$42$bind$124$2928, start: 0, end: mizchi$markdown$$try_parse_table$46$42$bind$124$2928.length })) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const alignments = mizchi$markdown$$parse_table_alignments(separator_line);\n  if (alignments.length === 0) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const header_cells = mizchi$markdown$$split_table_cells(header_line);\n  const _p$3 = [];\n  const _p$4 = header_cells.length;\n  let _tmp$2 = 0;\n  while (true) {\n    const _p$5 = _tmp$2;\n    if (_p$5 < _p$4) {\n      const _p$6 = header_cells[_p$5];\n      if (!moonbitlang$core$string$$StringView$is_empty(moonbitlang$core$string$$String$trim$46$inner(_p$6, { str: mizchi$markdown$$try_parse_table$46$42$bind$124$2931, start: 0, end: mizchi$markdown$$try_parse_table$46$42$bind$124$2931.length }))) {\n        moonbitlang$core$array$$Array$push$5$(_p$3, _p$6);\n      }\n      _tmp$2 = _p$5 + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  const header_col_count = _p$3.length;\n  if (header_col_count !== alignments.length) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$6 = 10;\n  let _tmp$3;\n  if (_p$5 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$7 = _p$5;\n    const _p$8 = _p$7;\n    _tmp$3 = _p$8 === _p$6;\n  }\n  if (_tmp$3) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const header = mizchi$markdown$$parse_table_row(header_line, alignments.length, self.strict);\n  const rows = [];\n  while (true) {\n    let _tmp$4;\n    const _p$7 = self.scanner;\n    if (!(_p$7.pos >= _p$7.len)) {\n      _tmp$4 = !mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n    } else {\n      _tmp$4 = false;\n    }\n    if (_tmp$4) {\n      const row_start = self.scanner.pos;\n      const row_line = mizchi$markdown$$Scanner$read_line(self.scanner);\n      if (!moonbitlang$core$string$$String$contains(row_line, { str: mizchi$markdown$$try_parse_table$46$42$bind$124$2930, start: 0, end: mizchi$markdown$$try_parse_table$46$42$bind$124$2930.length })) {\n        mizchi$markdown$$Scanner$restore(self.scanner, row_start);\n        break;\n      }\n      moonbitlang$core$array$$Array$push$35$(rows, mizchi$markdown$$parse_table_row(row_line, alignments.length, self.strict));\n      const _p$8 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$9 = 10;\n      let _tmp$5;\n      if (_p$8 === -1) {\n        _tmp$5 = false;\n      } else {\n        const _p$10 = _p$8;\n        const _p$11 = _p$10;\n        _tmp$5 = _p$11 === _p$9;\n      }\n      if (_tmp$5) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return new $64$mizchi$47$markdown$46$Block$Table(header, alignments, rows, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$parse_simple_yaml(yaml) {\n  const entries = [];\n  const lines = moonbitlang$core$string$$String$split(yaml, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2953, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2953.length });\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$4$(lines);\n    if (_bind$3 === undefined) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _line = _Some;\n      const trimmed = moonbitlang$core$string$$String$trim$46$inner(moonbitlang$core$builtin$$Show$to_string$4$(_line), { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2947, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2947.length });\n      if (moonbitlang$core$string$$StringView$is_empty(trimmed) || moonbitlang$core$string$$StringView$has_prefix(trimmed, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2934, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2934.length })) {\n        continue;\n      }\n      const _bind$4 = moonbitlang$core$string$$StringView$find(trimmed, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2941, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2941.length });\n      if (_bind$4 === undefined) {\n      } else {\n        const _Some$2 = _bind$4;\n        const _colon_idx = _Some$2;\n        const key = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$StringView$view$46$inner(trimmed, 0, _colon_idx)), { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2940, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2940.length }));\n        const value = moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$String$trim$46$inner(moonbitlang$core$builtin$$Show$to_string$4$(moonbitlang$core$string$$StringView$view$46$inner(trimmed, _colon_idx + 1 | 0, undefined)), { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2939, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2939.length }));\n        const clean_value = moonbitlang$core$string$$String$has_prefix(value, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2935, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2935.length }) && moonbitlang$core$string$$String$has_suffix(value, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2936, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2936.length }) ? value.substring(1, value.length - 1 | 0) : moonbitlang$core$string$$String$has_prefix(value, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2937, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2937.length }) && moonbitlang$core$string$$String$has_suffix(value, { str: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2938, start: 0, end: mizchi$markdown$$parse_simple_yaml$46$42$bind$124$2938.length }) ? value.substring(1, value.length - 1 | 0) : value;\n        moonbitlang$core$array$$Array$push$33$(entries, { _0: key, _1: clean_value });\n      }\n      continue;\n    }\n  }\n  return entries;\n}\nfunction mizchi$markdown$$BlockParser$try_parse_frontmatter(self) {\n  const start = self.scanner.pos;\n  if (start !== 0) {\n    return undefined;\n  }\n  if (!mizchi$markdown$$Scanner$matches(self.scanner, \"---\")) {\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 3);\n  mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n  let _tmp;\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 10;\n  let _tmp$2;\n  if (_p === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp$2 = _p$4 === _p$2;\n  }\n  if (!_tmp$2) {\n    const _p$3 = self.scanner;\n    _tmp = !(_p$3.pos >= _p$3.len);\n  } else {\n    _tmp = false;\n  }\n  if (_tmp) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 10;\n  let _tmp$3;\n  if (_p$3 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$3 = _p$6 === _p$4;\n  }\n  if (_tmp$3) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const yaml_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let found_closing = false;\n  while (true) {\n    const _p$5 = self.scanner;\n    if (!(_p$5.pos >= _p$5.len)) {\n      if (mizchi$markdown$$Scanner$matches(self.scanner, \"---\")) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 3);\n        mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n        let _tmp$4;\n        const _p$6 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$7 = 10;\n        let _tmp$5;\n        if (_p$6 === -1) {\n          _tmp$5 = false;\n        } else {\n          const _p$8 = _p$6;\n          const _p$9 = _p$8;\n          _tmp$5 = _p$9 === _p$7;\n        }\n        if (_tmp$5) {\n          _tmp$4 = true;\n        } else {\n          const _p$8 = self.scanner;\n          _tmp$4 = _p$8.pos >= _p$8.len;\n        }\n        if (_tmp$4) {\n          const _p$8 = mizchi$markdown$$Scanner$peek(self.scanner);\n          const _p$9 = 10;\n          let _tmp$6;\n          if (_p$8 === -1) {\n            _tmp$6 = false;\n          } else {\n            const _p$10 = _p$8;\n            const _p$11 = _p$10;\n            _tmp$6 = _p$11 === _p$9;\n          }\n          if (_tmp$6) {\n            mizchi$markdown$$Scanner$advance(self.scanner, 1);\n          }\n          found_closing = true;\n          break;\n        }\n        moonbitlang$core$builtin$$Logger$write_string$0$(yaml_buf, \"---\");\n      } else {\n        const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n        moonbitlang$core$builtin$$Logger$write_string$0$(yaml_buf, line);\n        const _p$6 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$7 = 10;\n        let _tmp$4;\n        if (_p$6 === -1) {\n          _tmp$4 = false;\n        } else {\n          const _p$8 = _p$6;\n          const _p$9 = _p$8;\n          _tmp$4 = _p$9 === _p$7;\n        }\n        if (_tmp$4) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(yaml_buf, 10);\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  if (!found_closing) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n    return undefined;\n  }\n  const raw = yaml_buf.val;\n  const entries = mizchi$markdown$$parse_simple_yaml(raw);\n  return { raw: raw, entries: entries, span: mizchi$markdown$$Span$new(start, self.scanner.pos) };\n}\nfunction mizchi$markdown$$BlockParser$parse_document(self) {\n  const start = self.scanner.pos;\n  const frontmatter = mizchi$markdown$$BlockParser$try_parse_frontmatter(self);\n  const children = mizchi$markdown$$BlockParser$parse_blocks(self);\n  const document = { frontmatter: frontmatter, children: children, span: mizchi$markdown$$Span$new(start, self.scanner.pos) };\n  return { document: document, definitions: self.definitions };\n}\nfunction mizchi$markdown$$BlockParser$parse_blocks(self) {\n  const blocks = [];\n  while (true) {\n    const _p = self.scanner;\n    if (!(_p.pos >= _p.len)) {\n      const blank_start = self.scanner.pos;\n      let blank_count = 0;\n      while (true) {\n        let _tmp;\n        const _p$2 = self.scanner;\n        if (!(_p$2.pos >= _p$2.len)) {\n          _tmp = mizchi$markdown$$Scanner$is_blank_line(self.scanner);\n        } else {\n          _tmp = false;\n        }\n        if (_tmp) {\n          blank_count = blank_count + 1 | 0;\n          mizchi$markdown$$Scanner$skip_line(self.scanner);\n          continue;\n        } else {\n          break;\n        }\n      }\n      if (blank_count > 0) {\n        moonbitlang$core$array$$Array$push$31$(blocks, new $64$mizchi$47$markdown$46$Block$BlankLines(blank_count, mizchi$markdown$$Span$new(blank_start, self.scanner.pos)));\n      }\n      const _p$2 = self.scanner;\n      if (_p$2.pos >= _p$2.len) {\n        break;\n      }\n      const _bind$3 = mizchi$markdown$$BlockParser$parse_block(self);\n      if (_bind$3 === undefined) {\n        mizchi$markdown$$Scanner$skip_line(self.scanner);\n      } else {\n        const _Some = _bind$3;\n        const _block = _Some;\n        moonbitlang$core$array$$Array$push$31$(blocks, _block);\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  return blocks;\n}\nfunction mizchi$markdown$$BlockParser$parse_block(self) {\n  const start = self.scanner.pos;\n  const indent = mizchi$markdown$$Scanner$count_leading_spaces(self.scanner);\n  const _bind$3 = mizchi$markdown$$BlockParser$try_parse_thematic_break(self, start);\n  if (_bind$3 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$3;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$4 = mizchi$markdown$$BlockParser$try_parse_atx_heading(self, start);\n  if (_bind$4 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$4;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$5 = mizchi$markdown$$BlockParser$try_parse_fenced_code(self, start, indent);\n  if (_bind$5 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$5;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$6 = mizchi$markdown$$BlockParser$try_parse_blockquote(self, start);\n  if (_bind$6 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$6;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$7 = mizchi$markdown$$BlockParser$try_parse_list(self, start);\n  if (_bind$7 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$7;\n    const _block = _Some;\n    return _block;\n  }\n  if (indent >= 4) {\n    const _bind$8 = mizchi$markdown$$BlockParser$try_parse_indented_code(self, start);\n    if (_bind$8 === undefined) {\n      mizchi$markdown$$Scanner$restore(self.scanner, start);\n    } else {\n      const _Some = _bind$8;\n      const _block = _Some;\n      return _block;\n    }\n  }\n  const _bind$8 = mizchi$markdown$$BlockParser$try_parse_setext_heading(self, start);\n  if (_bind$8 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$8;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$9 = mizchi$markdown$$BlockParser$try_parse_html_block(self, start);\n  if (_bind$9 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$9;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$10 = mizchi$markdown$$BlockParser$try_parse_table(self, start);\n  if (_bind$10 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$10;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$11 = mizchi$markdown$$BlockParser$try_parse_footnote_definition(self, start);\n  if (_bind$11 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    const _Some = _bind$11;\n    const _block = _Some;\n    return _block;\n  }\n  const _bind$12 = mizchi$markdown$$BlockParser$try_parse_link_definition(self, start);\n  if (_bind$12 === undefined) {\n    mizchi$markdown$$Scanner$restore(self.scanner, start);\n  } else {\n    return undefined;\n  }\n  return mizchi$markdown$$BlockParser$parse_paragraph(self, start);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_blockquote(self, start) {\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 62;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    return undefined;\n  }\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let first = true;\n  while (true) {\n    const _p$3 = self.scanner;\n    if (!(_p$3.pos >= _p$3.len)) {\n      const line_start = self.scanner.pos;\n      mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      const _p$4 = mizchi$markdown$$Scanner$peek(self.scanner);\n      const _p$5 = 62;\n      let _tmp$2;\n      if (_p$4 === -1) {\n        _tmp$2 = false;\n      } else {\n        const _p$6 = _p$4;\n        const _p$7 = _p$6;\n        _tmp$2 = _p$7 === _p$5;\n      }\n      if (_tmp$2) {\n        mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        const _p$6 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$7 = 32;\n        let _tmp$3;\n        if (_p$6 === -1) {\n          _tmp$3 = false;\n        } else {\n          const _p$8 = _p$6;\n          const _p$9 = _p$8;\n          _tmp$3 = _p$9 === _p$7;\n        }\n        if (_tmp$3) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n        const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n        if (!first) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 10);\n        }\n        moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n        first = false;\n        const _p$8 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$9 = 10;\n        let _tmp$4;\n        if (_p$8 === -1) {\n          _tmp$4 = false;\n        } else {\n          const _p$10 = _p$8;\n          const _p$11 = _p$10;\n          _tmp$4 = _p$11 === _p$9;\n        }\n        if (_tmp$4) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n      } else {\n        mizchi$markdown$$Scanner$restore(self.scanner, line_start);\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const content = content_buf.val;\n  const inner_scanner = mizchi$markdown$$Scanner$new(content);\n  const inner_parser = mizchi$markdown$$BlockParser$new(inner_scanner, self.strict);\n  const inner_result = mizchi$markdown$$BlockParser$parse_document(inner_parser);\n  const _arr = inner_result.definitions;\n  const _len = _arr.length;\n  let _tmp$2 = 0;\n  while (true) {\n    const _i = _tmp$2;\n    if (_i < _len) {\n      const def = _arr[_i];\n      moonbitlang$core$array$$Array$push$34$(self.definitions, def);\n      _tmp$2 = _i + 1 | 0;\n      continue;\n    } else {\n      break;\n    }\n  }\n  return new $64$mizchi$47$markdown$46$Block$Blockquote(inner_result.document.children, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$BlockParser$try_parse_footnote_definition(self, start) {\n  const saved = self.scanner.pos;\n  const leading = mizchi$markdown$$BlockParser$read_leading_trivia(self);\n  const _p = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$2 = 91;\n  let _tmp;\n  if (_p === -1) {\n    _tmp = false;\n  } else {\n    const _p$3 = _p;\n    const _p$4 = _p$3;\n    _tmp = _p$4 === _p$2;\n  }\n  if (!_tmp) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$4 = 94;\n  let _tmp$2;\n  if (_p$3 === -1) {\n    _tmp$2 = false;\n  } else {\n    const _p$5 = _p$3;\n    const _p$6 = _p$5;\n    _tmp$2 = _p$6 === _p$4;\n  }\n  if (!_tmp$2) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const label_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  while (true) {\n    const _p$5 = self.scanner;\n    if (!(_p$5.pos >= _p$5.len)) {\n      _L: {\n        _L$2: {\n          const _bind$3 = mizchi$markdown$$Scanner$peek(self.scanner);\n          if (_bind$3 === -1) {\n            break _L$2;\n          } else {\n            const _Some = _bind$3;\n            const _x = _Some;\n            if (_x === 93) {\n              break;\n            } else {\n              if (_x >= 97 && _x <= 122 || (_x >= 65 && _x <= 90 || (_x >= 48 && _x <= 57 || (_x === 45 || _x === 95)))) {\n                moonbitlang$core$builtin$$Logger$write_char$0$(label_buf, _x);\n                mizchi$markdown$$Scanner$advance(self.scanner, 1);\n              } else {\n                break _L$2;\n              }\n            }\n          }\n          break _L;\n        }\n        mizchi$markdown$$Scanner$restore(self.scanner, saved);\n        return undefined;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const label = label_buf.val;\n  if (label === \"\") {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p$5 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$6 = 58;\n  let _tmp$3;\n  if (_p$5 === -1) {\n    _tmp$3 = false;\n  } else {\n    const _p$7 = _p$5;\n    const _p$8 = _p$7;\n    _tmp$3 = _p$8 === _p$6;\n  }\n  if (!_tmp$3) {\n    mizchi$markdown$$Scanner$restore(self.scanner, saved);\n    return undefined;\n  }\n  mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  const _p$7 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$8 = 32;\n  let _tmp$4;\n  if (_p$7 === -1) {\n    _tmp$4 = false;\n  } else {\n    const _p$9 = _p$7;\n    const _p$10 = _p$9;\n    _tmp$4 = _p$10 === _p$8;\n  }\n  if (_tmp$4) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  const content_buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  const first_line = mizchi$markdown$$Scanner$read_line(self.scanner);\n  moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, first_line);\n  const _p$9 = mizchi$markdown$$Scanner$peek(self.scanner);\n  const _p$10 = 10;\n  let _tmp$5;\n  if (_p$9 === -1) {\n    _tmp$5 = false;\n  } else {\n    const _p$11 = _p$9;\n    const _p$12 = _p$11;\n    _tmp$5 = _p$12 === _p$10;\n  }\n  if (_tmp$5) {\n    mizchi$markdown$$Scanner$advance(self.scanner, 1);\n  }\n  while (true) {\n    const _p$11 = self.scanner;\n    if (!(_p$11.pos >= _p$11.len)) {\n      const line_start = self.scanner.pos;\n      const indent = mizchi$markdown$$Scanner$skip_spaces(self.scanner);\n      if (mizchi$markdown$$Scanner$is_blank_line(self.scanner)) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 10);\n        const _p$12 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$13 = 10;\n        let _tmp$6;\n        if (_p$12 === -1) {\n          _tmp$6 = false;\n        } else {\n          const _p$14 = _p$12;\n          const _p$15 = _p$14;\n          _tmp$6 = _p$15 === _p$13;\n        }\n        if (_tmp$6) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n        continue;\n      }\n      if (indent >= 2) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(content_buf, 10);\n        const line = mizchi$markdown$$Scanner$read_line(self.scanner);\n        moonbitlang$core$builtin$$Logger$write_string$0$(content_buf, line);\n        const _p$12 = mizchi$markdown$$Scanner$peek(self.scanner);\n        const _p$13 = 10;\n        let _tmp$6;\n        if (_p$12 === -1) {\n          _tmp$6 = false;\n        } else {\n          const _p$14 = _p$12;\n          const _p$15 = _p$14;\n          _tmp$6 = _p$15 === _p$13;\n        }\n        if (_tmp$6) {\n          mizchi$markdown$$Scanner$advance(self.scanner, 1);\n        }\n      } else {\n        mizchi$markdown$$Scanner$restore(self.scanner, line_start);\n        break;\n      }\n      continue;\n    } else {\n      break;\n    }\n  }\n  const content = content_buf.val;\n  const inner_scanner = mizchi$markdown$$Scanner$new(content);\n  const inner_parser = mizchi$markdown$$BlockParser$new(inner_scanner, self.strict);\n  const inner_result = mizchi$markdown$$BlockParser$parse_document(inner_parser);\n  return new $64$mizchi$47$markdown$46$Block$FootnoteDefinition(label, inner_result.document.children, mizchi$markdown$$Span$new(start, self.scanner.pos), leading, mizchi$markdown$$empty$46$record$47$1518);\n}\nfunction mizchi$markdown$$parse$46$inner(source, strict) {\n  const scanner = mizchi$markdown$$Scanner$new(source);\n  const parser = mizchi$markdown$$BlockParser$new(scanner, strict);\n  return mizchi$markdown$$BlockParser$parse_document(parser);\n}\nfunction kazuph$blog_admin$client$$generate_slug(title) {\n  const result = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n  let prev_hyphen = true;\n  const _it = moonbitlang$core$string$$String$iter(title);\n  while (true) {\n    const _bind$3 = moonbitlang$core$builtin$$Iter$next$11$(_it);\n    if (_bind$3 === -1) {\n      break;\n    } else {\n      const _Some = _bind$3;\n      const _c = _Some;\n      const lower = _c >= 65 && _c <= 90 ? _c + 32 | 0 : _c;\n      const is_alpha = lower >= 97 && lower <= 122;\n      const is_num = lower >= 48 && lower <= 57;\n      if (is_alpha || is_num) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(result, lower);\n        prev_hyphen = false;\n      } else {\n        if (!prev_hyphen) {\n          moonbitlang$core$builtin$$Logger$write_char$0$(result, 45);\n          prev_hyphen = true;\n        }\n      }\n      continue;\n    }\n  }\n  const s = result.val;\n  const chars = moonbitlang$core$string$$String$to_array(s);\n  const len = chars.length;\n  if (len > 0 && moonbitlang$core$array$$Array$at$11$(chars, len - 1 | 0) === 45) {\n    const trimmed = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);\n    let _tmp = 0;\n    while (true) {\n      const i = _tmp;\n      if (i < (len - 1 | 0)) {\n        moonbitlang$core$builtin$$Logger$write_char$0$(trimmed, moonbitlang$core$array$$Array$at$11$(chars, i));\n        _tmp = i + 1 | 0;\n        continue;\n      } else {\n        break;\n      }\n    }\n    return trimmed.val;\n  } else {\n    return s;\n  }\n}\nfunction kazuph$blog_admin$client$$get_message(data) {\n  const val = mizchi$js$core$$Any$_get(data, \"message\");\n  return mizchi$js$core$$is_nullish(val) ? \"\u6210\u529F\" : mizchi$js$core$$Any$to_string(val);\n}\nfunction kazuph$blog_admin$client$$get_slug(data) {\n  const val = mizchi$js$core$$Any$_get(data, \"slug\");\n  return mizchi$js$core$$is_nullish(val) ? \"\" : mizchi$js$core$$Any$to_string(val);\n}\nfunction kazuph$blog_admin$client$$markdown_editor(props) {\n  const title = mizchi$luna$luna$signal$$signal$5$(props.initial_title);\n  const slug = mizchi$luna$luna$signal$$signal$5$(props.initial_slug);\n  const content = mizchi$luna$luna$signal$$signal$5$(props.initial_content);\n  const status = mizchi$luna$luna$signal$$signal$5$(props.initial_status);\n  const is_submitting = mizchi$luna$luna$signal$$signal$43$(false);\n  const result_msg = mizchi$luna$luna$signal$$signal$5$(\"\");\n  const is_error = mizchi$luna$luna$signal$$signal$43$(false);\n  const saved_slug = mizchi$luna$luna$signal$$signal$5$(\"\");\n  const render_preview = () => {\n    const md_content = mizchi$luna$luna$signal$$Signal$get$5$(content);\n    if (md_content === \"\") {\n      return \"<p style=\\\"color: #999;\\\">\u30D7\u30EC\u30D3\u30E5\u30FC\u304C\u3053\u3053\u306B\u8868\u793A\u3055\u308C\u307E\u3059...</p>\";\n    }\n    const result = mizchi$markdown$$parse$46$inner(md_content, false);\n    return mizchi$markdown$$render_html(result.document);\n  };\n  const handle_submit = (e) => {\n    mizchi$js$browser$dom$$FormEvent$preventDefault(e);\n    mizchi$luna$luna$signal$$Signal$set$43$(is_submitting, true);\n    mizchi$luna$luna$signal$$Signal$set$43$(is_error, false);\n    mizchi$luna$luna$signal$$Signal$set$5$(result_msg, \"\u9001\u4FE1\u4E2D...\");\n    const form_data = kazuph$blog_admin$client$$get_form_data_from_form(e, props.post_id);\n    const handle_response = (response) => {\n      switch (response.$tag) {\n        case 0: {\n          const _Success = response;\n          const _data = _Success._0;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_submitting, false);\n          const msg = kazuph$blog_admin$client$$get_message(_data);\n          const slug_val = kazuph$blog_admin$client$$get_slug(_data);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, msg);\n          mizchi$luna$luna$signal$$Signal$set$5$(saved_slug, slug_val);\n          return;\n        }\n        case 2: {\n          const _Error = response;\n          const _error_msg = _Error._1;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_submitting, false);\n          mizchi$luna$luna$signal$$Signal$set$43$(is_error, true);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, _error_msg);\n          return;\n        }\n        case 3: {\n          const _NetworkError = response;\n          const _error_msg$2 = _NetworkError._0;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_submitting, false);\n          mizchi$luna$luna$signal$$Signal$set$43$(is_error, true);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, `\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u30A8\u30E9\u30FC: ${_error_msg$2}`);\n          return;\n        }\n        default: {\n          const _Redirect = response;\n          const _url = _Redirect._0;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_submitting, false);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, `\u30EA\u30C0\u30A4\u30EC\u30AF\u30C8: ${_url}`);\n          kazuph$blog_admin$client$$redirect_to(_url);\n          return;\n        }\n      }\n    };\n    mizchi$luna$sol$action$$invoke_action(props.action_url, form_data, handle_response, undefined);\n  };\n  const on_title_input = (e) => {\n    const target = mizchi$js$browser$dom$$InputEvent$target(e);\n    mizchi$luna$luna$signal$$Signal$set$5$(title, target.value);\n    if (mizchi$luna$luna$signal$$Signal$get$5$(slug) === \"\") {\n      mizchi$luna$luna$signal$$Signal$set$5$(slug, kazuph$blog_admin$client$$generate_slug(target.value));\n      return;\n    } else {\n      return;\n    }\n  };\n  const on_slug_input = (e) => {\n    const target = mizchi$js$browser$dom$$InputEvent$target(e);\n    mizchi$luna$luna$signal$$Signal$set$5$(slug, target.value);\n  };\n  const on_content_input = (e) => {\n    const target = mizchi$js$browser$dom$$InputEvent$target(e);\n    mizchi$luna$luna$signal$$Signal$set$5$(content, target.value);\n  };\n  const is_deleting = mizchi$luna$luna$signal$$signal$43$(false);\n  const handle_delete = (_e) => {\n    if (!kazuph$blog_admin$client$$confirm_delete(\"\u672C\u5F53\u306B\u3053\u306E\u8A18\u4E8B\u3092\u524A\u9664\u3057\u307E\u3059\u304B\uFF1F\")) {\n      return undefined;\n    }\n    mizchi$luna$luna$signal$$Signal$set$43$(is_deleting, true);\n    mizchi$luna$luna$signal$$Signal$set$5$(result_msg, \"\u524A\u9664\u4E2D...\");\n    mizchi$luna$luna$signal$$Signal$set$43$(is_error, false);\n    const delete_url = `/api/posts/${props.post_id}/delete`;\n    const handle_delete_response = (response) => {\n      switch (response.$tag) {\n        case 0: {\n          kazuph$blog_admin$client$$redirect_to(\"/admin\");\n          return;\n        }\n        case 2: {\n          const _Error = response;\n          const _error_msg = _Error._1;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_deleting, false);\n          mizchi$luna$luna$signal$$Signal$set$43$(is_error, true);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, `\u524A\u9664\u30A8\u30E9\u30FC: ${_error_msg}`);\n          return;\n        }\n        case 3: {\n          const _NetworkError = response;\n          const _error_msg$2 = _NetworkError._0;\n          mizchi$luna$luna$signal$$Signal$set$43$(is_deleting, false);\n          mizchi$luna$luna$signal$$Signal$set$43$(is_error, true);\n          mizchi$luna$luna$signal$$Signal$set$5$(result_msg, `\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u30A8\u30E9\u30FC: ${_error_msg$2}`);\n          return;\n        }\n        default: {\n          const _Redirect = response;\n          const _url = _Redirect._0;\n          kazuph$blog_admin$client$$redirect_to(_url);\n          return;\n        }\n      }\n    };\n    mizchi$luna$sol$action$$invoke_action(delete_url, mizchi$js$core$$from_entries([]), handle_delete_response, undefined);\n  };\n  return mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2716, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2717, undefined, () => {\n    if (mizchi$luna$luna$signal$$Signal$get$43$(is_error)) {\n      return \"form-result error\";\n    } else {\n      const _p = mizchi$luna$luna$signal$$Signal$get$5$(result_msg);\n      const _p$2 = \"\";\n      if (!(_p === _p$2)) {\n        return \"form-result success\";\n      } else {\n        return \"form-result\";\n      }\n    }\n  }, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text_of$5$(result_msg)]), mizchi$luna$luna$dom$element$$show(() => {\n    const _p = mizchi$luna$luna$signal$$Signal$get$5$(saved_slug);\n    const _p$2 = \"\";\n    return !(_p === _p$2);\n  }, () => {\n    const slug_val = mizchi$luna$luna$signal$$Signal$get$5$(saved_slug);\n    return mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2718, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$span(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2719, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u2713 \u4FDD\u5B58\u3057\u307E\u3057\u305F\")]), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2720, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$button(-1, undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2721, undefined, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$click(mizchi$luna$luna$dom$element$$events(), (_discard_) => {\n      kazuph$blog_admin$client$$redirect_to(\"/admin\");\n    })), undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u2190 \u8A18\u4E8B\u4E00\u89A7\u3078\")]), mizchi$luna$luna$dom$element$$button(-1, undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2722, undefined, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$click(mizchi$luna$luna$dom$element$$events(), (_discard_) => {\n      kazuph$blog_admin$client$$redirect_to(`/posts/${slug_val}`);\n    })), undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u8A18\u4E8B\u3092\u898B\u308B \u2192\")])])]);\n  }), mizchi$luna$luna$dom$element$$form(undefined, undefined, undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2723, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$submit(mizchi$luna$luna$dom$element$$events(), handle_submit)), undefined, new Option$Some$6$([{ _0: \"action\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$Attr$AttrString(props.action_url) }, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2725]), Option$None$7$, [mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2726, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$label(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2727, undefined, undefined, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u30BF\u30A4\u30C8\u30EB\")]), mizchi$luna$luna$dom$element$$input(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2728, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2729, props.initial_title, undefined, -1, -1, -1, -1, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2730, undefined, undefined, undefined, undefined, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$input(mizchi$luna$luna$dom$element$$events(), on_title_input)), undefined, new Option$Some$6$([kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2732, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2734]), Option$None$7$)]), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2735, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$label(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2736, undefined, undefined, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u30B9\u30E9\u30C3\u30B0 (URL)\")]), mizchi$luna$luna$dom$element$$input(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2737, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2738, props.initial_slug, undefined, -1, -1, -1, -1, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2739, undefined, undefined, undefined, undefined, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$input(mizchi$luna$luna$dom$element$$events(), on_slug_input)), undefined, new Option$Some$6$([kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2741, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2743, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2745]), Option$None$7$)]), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2746, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$label(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2747, undefined, undefined, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u30B9\u30C6\u30FC\u30BF\u30B9\")]), mizchi$luna$luna$dom$element$$create_element(\"select\", [kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2749, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2751, { _0: \"oninput\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Handler((e) => {\n    const target = e;\n    mizchi$luna$luna$signal$$Signal$set$5$(status, target.value);\n  }) }], [mizchi$luna$luna$dom$element$$create_element(\"option\", [kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2753, { _0: \"selected\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(props.initial_status === \"draft\" || props.initial_status === \"\" ? \"true\" : \"\") }], [mizchi$luna$luna$dom$element$$text(\"\u4E0B\u66F8\u304D\")]), mizchi$luna$luna$dom$element$$create_element(\"option\", [kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2755, { _0: \"selected\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Static(props.initial_status === \"published\" ? \"true\" : \"\") }], [mizchi$luna$luna$dom$element$$text(\"\u516C\u958B\")])])]), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2756, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2757, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, new Option$Some$7$([{ _0: \"__innerHTML\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(render_preview) }]), []), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2758, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$label(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2759, undefined, undefined, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$text(\"\u30B3\u30F3\u30C6\u30F3\u30C4 (Markdown)\")]), mizchi$luna$luna$dom$element$$textarea(kazuph$blog_admin$client$$markdown_editor$46$constr$47$2760, undefined, -1, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2761, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2762, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$input(mizchi$luna$luna$dom$element$$events(), on_content_input)), undefined, new Option$Some$6$([kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2764, kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2766]), Option$None$7$, [mizchi$luna$luna$dom$element$$text(props.initial_content)])])]), mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2767, undefined, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$button(-1, undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2768, undefined, undefined, undefined, undefined, Option$None$5$, undefined, new Option$Some$6$([kazuph$blog_admin$client$$markdown_editor$46$tuple$47$2770]), new Option$Some$7$([{ _0: \"disabled\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(() => mizchi$luna$luna$signal$$Signal$get$43$(is_submitting) ? \"true\" : \"__remove__\") }]), [mizchi$luna$luna$dom$element$$text(props.post_id === \"\" ? \"\u4F5C\u6210\u3059\u308B\" : \"\u66F4\u65B0\u3059\u308B\")])])]), mizchi$luna$luna$dom$element$$show(() => {\n    const _p = props.post_id;\n    const _p$2 = \"\";\n    return !(_p === _p$2);\n  }, () => mizchi$luna$luna$dom$element$$div(undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2771, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2772, undefined, undefined, Option$None$5$, undefined, Option$None$6$, Option$None$7$, [mizchi$luna$luna$dom$element$$button(-1, undefined, kazuph$blog_admin$client$$markdown_editor$46$constr$47$2773, undefined, undefined, undefined, undefined, new Option$Some$5$(mizchi$luna$luna$dom$element$$HandlerMap$click(mizchi$luna$luna$dom$element$$events(), handle_delete)), undefined, Option$None$6$, new Option$Some$7$([{ _0: \"disabled\", _1: new $64$mizchi$47$luna$47$luna$47$dom$47$element$46$AttrValue$Dynamic(() => mizchi$luna$luna$signal$$Signal$get$43$(is_deleting) ? \"true\" : \"__remove__\") }]), [mizchi$luna$luna$dom$element$$text(mizchi$luna$luna$signal$$Signal$get$43$(is_deleting) ? \"\u524A\u9664\u4E2D...\" : \"\u8A18\u4E8B\u3092\u524A\u9664\")])]))]);\n}\nfunction kazuph$blog_admin$client$$parse_state(el) {\n  const attr = kazuph$blog_admin$client$$get_attribute(el, \"luna:state\");\n  if (attr === \"\") {\n    return mizchi$js$core$$null();\n  }\n  let _tmp;\n  if (attr.length > 0) {\n    $bound_check(attr, 0);\n    const _p = attr.charCodeAt(0);\n    const _p$2 = 35;\n    _tmp = _p === _p$2;\n  } else {\n    _tmp = false;\n  }\n  if (_tmp) {\n    const id = moonbitlang$core$string$$String$substring$46$inner(attr, 1, undefined);\n    const script_el = kazuph$blog_admin$client$$get_element_by_id(id);\n    if (kazuph$blog_admin$client$$is_null_element(script_el)) {\n      return mizchi$js$core$$null();\n    }\n    const text = kazuph$blog_admin$client$$get_text_content(script_el);\n    return kazuph$blog_admin$client$$parse_json_to_js(text);\n  }\n  return kazuph$blog_admin$client$$parse_json_to_js(attr);\n}\nfunction kazuph$blog_admin$client$$is_loaded(id) {\n  const _bind$3 = moonbitlang$core$builtin$$Map$get$2$(kazuph$blog_admin$client$$loaded_components, id);\n  if (_bind$3 === -1) {\n    return false;\n  } else {\n    const _Some = _bind$3;\n    const _x = _Some;\n    if (_x === true) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\nfunction kazuph$blog_admin$client$$mark_loaded(id) {\n  moonbitlang$core$builtin$$Map$set$2$(kazuph$blog_admin$client$$loaded_components, id, true);\n}\nfunction kazuph$blog_admin$client$$unload(id) {\n  moonbitlang$core$builtin$$Map$remove$2$(kazuph$blog_admin$client$$loaded_components, id);\n}\nfunction kazuph$blog_admin$client$$clear_loaded() {\n  moonbitlang$core$builtin$$Map$clear$2$(kazuph$blog_admin$client$$loaded_components);\n}\nfunction kazuph$blog_admin$client$$hydrate(el) {\n  const id = kazuph$blog_admin$client$$get_attribute(el, \"luna:id\");\n  const component_id = id === \"\" ? kazuph$blog_admin$client$$get_tag_name(el) : id;\n  if (kazuph$blog_admin$client$$is_loaded(component_id)) {\n    return undefined;\n  }\n  kazuph$blog_admin$client$$mark_loaded(component_id);\n  const state = kazuph$blog_admin$client$$parse_state(el);\n  moonbitlang$core$builtin$$Map$set$3$(kazuph$blog_admin$client$$luna_state, component_id, state);\n  const url = kazuph$blog_admin$client$$get_attribute(el, \"luna:url\");\n  if (url === \"\") {\n    return undefined;\n  }\n  const export_name = kazuph$blog_admin$client$$get_attribute(el, \"luna:export\");\n  kazuph$blog_admin$client$$dynamic_import_and_hydrate(url, export_name, el, state, component_id);\n}\nfunction kazuph$blog_admin$client$$setup_trigger(el, trigger, hydrate_fn) {\n  if (trigger === \"\" || trigger === \"load\") {\n    if (kazuph$blog_admin$client$$is_document_loading()) {\n      kazuph$blog_admin$client$$add_dom_ready_listener(hydrate_fn);\n      return;\n    } else {\n      hydrate_fn();\n      return;\n    }\n  } else {\n    if (trigger === \"idle\") {\n      kazuph$blog_admin$client$$request_idle_callback(hydrate_fn);\n      return;\n    } else {\n      let _tmp;\n      if (trigger.length > 0) {\n        $bound_check(trigger, 0);\n        const _p = trigger.charCodeAt(0);\n        const _p$2 = 118;\n        _tmp = _p === _p$2;\n      } else {\n        _tmp = false;\n      }\n      if (_tmp) {\n        kazuph$blog_admin$client$$create_visibility_observer(el, hydrate_fn);\n        return;\n      } else {\n        if (trigger.length > 5 && moonbitlang$core$string$$String$substring$46$inner(trigger, 0, kazuph$blog_admin$client$$setup_trigger$46$constr$47$2844) === \"media\") {\n          const query = moonbitlang$core$string$$String$substring$46$inner(trigger, 6, undefined);\n          kazuph$blog_admin$client$$create_media_listener(query, hydrate_fn);\n          return;\n        } else {\n          if (kazuph$blog_admin$client$$is_document_loading()) {\n            kazuph$blog_admin$client$$add_dom_ready_listener(hydrate_fn);\n            return;\n          } else {\n            hydrate_fn();\n            return;\n          }\n        }\n      }\n    }\n  }\n}\nfunction kazuph$blog_admin$client$$setup_element(el) {\n  const trigger = kazuph$blog_admin$client$$get_attribute(el, \"luna:trigger\");\n  kazuph$blog_admin$client$$setup_trigger(el, trigger, () => {\n    kazuph$blog_admin$client$$hydrate(el);\n  });\n}\nfunction kazuph$blog_admin$client$$scan() {\n  const elements = kazuph$blog_admin$client$$query_selector_all(\"[luna\\\\:url]\");\n  const len = kazuph$blog_admin$client$$get_length(elements);\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < len) {\n      const el = kazuph$blog_admin$client$$get_item(elements, i);\n      kazuph$blog_admin$client$$setup_element(el);\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction kazuph$blog_admin$client$$init_json_scripts() {\n  const scripts = kazuph$blog_admin$client$$query_selector_all(\"script[type=\\\"luna/json\\\"]\");\n  const len = kazuph$blog_admin$client$$get_length(scripts);\n  let _tmp = 0;\n  while (true) {\n    const i = _tmp;\n    if (i < len) {\n      const script = kazuph$blog_admin$client$$get_item(scripts, i);\n      const id = kazuph$blog_admin$client$$get_attribute(script, \"id\");\n      const _p = \"\";\n      if (!(id === _p)) {\n        const text = kazuph$blog_admin$client$$get_text_content(script);\n        const state = kazuph$blog_admin$client$$parse_json_to_js(text);\n        moonbitlang$core$builtin$$Map$set$3$(kazuph$blog_admin$client$$luna_state, id, state);\n      }\n      _tmp = i + 1 | 0;\n      continue;\n    } else {\n      return;\n    }\n  }\n}\nfunction kazuph$blog_admin$client$$get_state(id) {\n  const _bind$3 = moonbitlang$core$builtin$$Map$get$3$(kazuph$blog_admin$client$$luna_state, id);\n  if (_bind$3.$tag === 1) {\n    const _Some = _bind$3;\n    return _Some._0;\n  } else {\n    return mizchi$js$core$$null();\n  }\n}\nfunction kazuph$blog_admin$client$$start() {\n  kazuph$blog_admin$client$$init_json_scripts();\n  if (kazuph$blog_admin$client$$is_document_loading()) {\n    kazuph$blog_admin$client$$add_dom_ready_listener(kazuph$blog_admin$client$$scan);\n  } else {\n    kazuph$blog_admin$client$$scan();\n  }\n  kazuph$blog_admin$client$$observe_dom_additions(kazuph$blog_admin$client$$setup_element);\n  kazuph$blog_admin$client$$set_global(\"__LUNA_STATE__\", kazuph$blog_admin$client$$hashmap_to_js_object(kazuph$blog_admin$client$$get_state));\n  kazuph$blog_admin$client$$set_global(\"__LUNA_HYDRATE__\", kazuph$blog_admin$client$$create_hydrate_wrapper(kazuph$blog_admin$client$$hydrate));\n  kazuph$blog_admin$client$$set_global(\"__LUNA_SCAN__\", kazuph$blog_admin$client$$create_scan_wrapper(kazuph$blog_admin$client$$scan));\n  kazuph$blog_admin$client$$set_global(\"__LUNA_UNLOAD__\", kazuph$blog_admin$client$$create_unload_wrapper(kazuph$blog_admin$client$$unload));\n  kazuph$blog_admin$client$$set_global(\"__LUNA_CLEAR_LOADED__\", kazuph$blog_admin$client$$create_clear_wrapper(kazuph$blog_admin$client$$clear_loaded));\n}\nexport { kazuph$blog_admin$client$$markdown_editor as markdown_editor, kazuph$blog_admin$client$$unload as unload, kazuph$blog_admin$client$$clear_loaded as clear_loaded, kazuph$blog_admin$client$$hydrate as hydrate, kazuph$blog_admin$client$$scan as scan, kazuph$blog_admin$client$$start as start }\n", "// Client entry for: scan\n// Generated by: sol generate\n\nimport { scan } from '../../../target/js/release/build/client/client.js';\n\nexport { scan };\nexport default scan;\n"],
  "mappings": "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",
  "names": ["_tmp", "_bind$4"]
}
